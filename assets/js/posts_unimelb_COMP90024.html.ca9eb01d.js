"use strict";(self.webpackChunkpersonalweb=self.webpackChunkpersonalweb||[]).push([[9679],{6262:(t,s)=>{s.A=(t,s)=>{const i=t.__vccOpts||t;for(const[t,e]of s)i[t]=e;return i}},6651:(t,s,i)=>{i.r(s),i.d(s,{comp:()=>h,data:()=>c});var e=i(641);const d=i.p+"assets/img/Amdhal_vs_Gustafsons_Law.a70e6e87.png",a=i.p+"assets/img/HPC_Cluster_Design.2a5e775c.png",n=i.p+"assets/img/openstack.e4d4acad.png",r=i.p+"assets/img/k8s-example.dd37bd65.png",l=i.p+"assets/img/cap.ae1825d3.png",o={},h=(0,i(6262).A)(o,[["render",function(t,s){const i=(0,e.g2)("RouteLink");return(0,e.uX)(),(0,e.CE)("div",null,[s[2]||(s[2]=(0,e.Fv)('<h1 id="cluster-and-cloud-computing-comp90024" tabindex="-1"><a class="header-anchor" href="#cluster-and-cloud-computing-comp90024"><span>Cluster and Cloud Computing (COMP90024)</span></a></h1><h2 id="week-1" tabindex="-1"><a class="header-anchor" href="#week-1"><span>Week 1</span></a></h2><p>Over the past two decades, several major trends in research and computing have collectively enabled the rise of cloud computing:</p><ol><li><strong>Virtualization</strong> has allowed multiple virtual machines to run efficiently on a single physical host, maximizing hardware utilizationâ€”crucial for scalable cloud infrastructure.</li><li><strong>Distributed computing models</strong>, such as grid and cluster computing, demonstrated how large tasks could be executed across multiple machines, forming the architectural basis of the cloud.</li><li><strong>Broadband Internet access</strong> made it feasible to access remote resources with low latency, enabling the core idea of â€œcomputing over the internet.â€</li><li><strong>Utility computing</strong> introduced the pay-as-you-go model, shifting IT investment from capital to operational expenditure, thus attracting cost-conscious enterprises.</li><li><strong>Scalability and elasticity</strong> gave organizations the ability to dynamically adjust resources based on real-time demand, improving flexibility and cost-efficiency.</li><li><strong>Service-Oriented Architecture (SOA)</strong> encouraged modular, reusable components, shaping how cloud services are designed and integrated.</li><li><strong>Data storage innovations</strong>, such as SSDs and software-defined storage, improved data throughput and reliability, meeting the demands of large-scale cloud workloads.</li><li><strong>Security and privacy advancements</strong>, including encryption, access control, and compliance standards, addressed growing concerns around trusting third-party providers.</li><li><strong>Open source software</strong>, like OpenStack and Kubernetes, fueled rapid innovation and made cloud technologies more accessible to startups and researchers alike.</li><li><strong>Economic pressures</strong> to cut costs and improve agility further accelerated cloud adoption, as organizations sought to benefit from economies of scale and specialized expertise.</li></ol><h3 id="cloud-characteristics" tabindex="-1"><a class="header-anchor" href="#cloud-characteristics"><span>Cloud Characteristics</span></a></h3><table><thead><tr><th>ç‰¹å¾</th><th>è‹±æ–‡åç§°</th><th>æ ¸å¿ƒæ¦‚å¿µ</th><th>ä¸»è¦ä¼˜åŠ¿</th><th>å®ç°æ–¹å¼</th><th>å…¸å‹åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>æŒ‰éœ€è‡ªåŠ©æœåŠ¡</strong></td><td>On-demand self-service</td><td>ç”¨æˆ·å¯è‡ªä¸»è·å–è®¡ç®—èµ„æºï¼Œæ— éœ€äººå·¥å¹²é¢„</td><td>â€¢ æé«˜æ•ˆç‡<br>â€¢ é™ä½æˆæœ¬<br>â€¢ 24/7å¯ç”¨</td><td>â€¢ è‡ªåŠ©æœåŠ¡é—¨æˆ·<br>â€¢ APIæ¥å£<br>â€¢ è‡ªåŠ¨åŒ–é…ç½®å·¥å…·</td><td>â€¢ å¼€å‘æµ‹è¯•ç¯å¢ƒå¿«é€Ÿåˆ›å»º<br>â€¢ ä¸´æ—¶è®¡ç®—èµ„æºéœ€æ±‚<br>â€¢ ä¸šåŠ¡é«˜å³°æœŸæ‰©å®¹</td></tr><tr><td><strong>ç½‘ç»œåŒ–è®¿é—®</strong></td><td>Networked access</td><td>é€šè¿‡ç½‘ç»œæä¾›æœåŠ¡ï¼Œæ”¯æŒå¤šå¹³å°è®¿é—®</td><td>â€¢ éšæ—¶éšåœ°è®¿é—®<br>â€¢ è·¨å¹³å°å…¼å®¹<br>â€¢ é™ä½éƒ¨ç½²å¤æ‚åº¦</td><td>â€¢ æ ‡å‡†ç½‘ç»œåè®®<br>â€¢ Webç•Œé¢<br>â€¢ ç§»åŠ¨åº”ç”¨<br>â€¢ APIæœåŠ¡</td><td>â€¢ è¿œç¨‹åŠå…¬<br>â€¢ ç§»åŠ¨åº”ç”¨å¼€å‘<br>â€¢ è·¨åœ°åŸŸåä½œ</td></tr><tr><td><strong>èµ„æºæ± åŒ–</strong></td><td>Resource pooling</td><td>å¤šç§Ÿæˆ·å…±äº«èµ„æºæ± ï¼ŒåŠ¨æ€åˆ†é…èµ„æº</td><td>â€¢ èµ„æºåˆ©ç”¨ç‡é«˜<br>â€¢ æˆæœ¬åˆ†æ‘Š<br>â€¢ è§„æ¨¡ç»æµæ•ˆåº”</td><td>â€¢ è™šæ‹ŸåŒ–æŠ€æœ¯<br>â€¢ å¤šç§Ÿæˆ·æ¶æ„<br>â€¢ èµ„æºè°ƒåº¦ç®—æ³•</td><td>â€¢ å…±äº«ä¸»æœºæœåŠ¡<br>â€¢ ä¼ä¸šç§æœ‰äº‘<br>â€¢ å…¬æœ‰äº‘å¹³å°</td></tr><tr><td><strong>å¿«é€Ÿå¼¹æ€§</strong></td><td>Rapid elasticity</td><td>èµ„æºå¯å¿«é€Ÿæ‰©å±•å’Œæ”¶ç¼©ï¼Œæ”¯æŒè‡ªåŠ¨åŒ–</td><td>â€¢ å¿«é€Ÿå“åº”éœ€æ±‚å˜åŒ–<br>â€¢ é¿å…èµ„æºæµªè´¹<br>â€¢ åº”å¯¹çªå‘æµé‡</td><td>â€¢ è‡ªåŠ¨æ‰©ç¼©å®¹<br>â€¢ è´Ÿè½½å‡è¡¡<br>â€¢ å®¹å™¨ç¼–æ’<br>â€¢ å¾®æœåŠ¡æ¶æ„</td><td>â€¢ ç”µå•†ä¿ƒé”€æ´»åŠ¨<br>â€¢ è§†é¢‘ç›´æ’­<br>â€¢ æ¸¸æˆæœåŠ¡å™¨</td></tr><tr><td><strong>å¯è®¡é‡æœåŠ¡</strong></td><td>Measured service</td><td>è‡ªåŠ¨ç›‘æ§ã€æ§åˆ¶å’ŒæŠ¥å‘Šèµ„æºä½¿ç”¨æƒ…å†µ</td><td>â€¢ æŒ‰ä½¿ç”¨é‡ä»˜è´¹<br>â€¢ æˆæœ¬é€æ˜åŒ–<br>â€¢ èµ„æºä¼˜åŒ–</td><td>â€¢ ç›‘æ§ç³»ç»Ÿ<br>â€¢ è®¡è´¹ç³»ç»Ÿ<br>â€¢ ä½¿ç”¨æŠ¥å‘Š<br>â€¢ èµ„æºé…é¢ç®¡ç†</td><td>â€¢ æŒ‰éœ€ä»˜è´¹æ¨¡å¼<br>â€¢ æˆæœ¬æ ¸ç®—<br>â€¢ èµ„æºç®¡ç†</td></tr></tbody></table><h3 id="åˆ†å¸ƒå¼ç³»ç»Ÿå‘å±•å†å²æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#åˆ†å¸ƒå¼ç³»ç»Ÿå‘å±•å†å²æ€»ç»“"><span>åˆ†å¸ƒå¼ç³»ç»Ÿå‘å±•å†å²æ€»ç»“</span></a></h3><p>åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¼”è¿›æ˜¯ä¸€ä¸ªä¸æ–­åº”å¯¹æ›´å¤§è§„æ¨¡ã€æ›´å¤æ‚åä½œéœ€æ±‚çš„è¿‡ç¨‹ï¼Œå…¶å‘å±•å†ç¨‹å¤§è‡´å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p><ol><li><strong>æ—©æœŸæ¢ç´¢ä¸æ ‡å‡†åŒ–é˜¶æ®µï¼ˆå¤§è‡´åœ¨20ä¸–çºª80å¹´ä»£æœ«è‡³90å¹´ä»£åˆï¼‰</strong><ul><li><strong>æŒ‘æˆ˜</strong>ï¼šæ—©æœŸåˆ†å¸ƒå¼ç³»ç»Ÿå®ç°å¤æ‚ï¼Œç¼ºä¹ç»Ÿä¸€æ ‡å‡†ï¼Œå¯¼è‡´ä¸åŒç³»ç»Ÿé—´éš¾ä»¥äº’æ“ä½œã€‚ä¾›åº”å•†å„è‡ªæä¾›è§£å†³æ–¹æ¡ˆï¼ˆå¦‚ AnsaWare, IBM Distributed SOM / Component Broker ç­‰ï¼‰ï¼Œå®¹æ˜“å½¢æˆæŠ€æœ¯é”å®šã€‚</li><li><strong>æŠ€æœ¯å°è¯•</strong>ï¼šä¸ºäº†è§£å†³äº’æ“ä½œæ€§é—®é¢˜ï¼Œå‡ºç°äº†åƒ ORBï¼ˆå¯¹è±¡è¯·æ±‚ä¸­ä»‹ï¼‰è¿™æ ·çš„æ ¸å¿ƒç»„ä»¶ã€‚ORB å……å½“å¯¹è±¡é—´çš„â€œä¿¡ä½¿â€ï¼Œè®©åˆ†å¸ƒå¼å¯¹è±¡èƒ½åƒæœ¬åœ°å¯¹è±¡ä¸€æ ·é€šä¿¡ã€‚è¿™å¯ä»¥çœ‹ä½œæ˜¯ RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰æ€æƒ³çš„ä¸€ç§é¢å‘å¯¹è±¡ã€æ›´é«˜çº§çš„å®ç°ã€‚</li><li><strong>æ ‡å‡†åŒ–åŠªåŠ›</strong>ï¼šOMG ç»„ç»‡åˆ¶å®šäº† CORBAï¼ˆå…¬å…±å¯¹è±¡è¯·æ±‚ä»£ç†ä½“ç³»ç»“æ„ï¼‰æ ‡å‡†ã€‚CORBA æä¾›äº†ä¸€ä¸ªæ¡†æ¶ï¼Œå…è®¸ä¸åŒè¯­è¨€ç¼–å†™çš„ã€è¿è¡Œåœ¨ä¸åŒå¹³å°ä¸Šçš„åº”ç”¨ç¨‹åºè¿›è¡Œäº’æ“ä½œï¼Œé€šè¿‡ IDLï¼ˆæ¥å£å®šä¹‰è¯­è¨€ï¼‰å®šä¹‰æ¥å£ï¼Œç”Ÿæˆå®¢æˆ·ç«¯/æœåŠ¡ç«¯å­˜æ ¹å’Œéª¨æ¶ï¼Œå®ç°â€œç¼–å†™ä¸€æ¬¡ï¼Œåˆ°å¤„è¿è¡Œâ€çš„ç†æƒ³ã€‚CORBA æ¶æ„é€šå¸¸åŒ…æ‹¬è¿æ¥å±‚ã€å¯¹è±¡é€‚é…å™¨ã€ORB æ ¸å¿ƒç­‰ã€‚</li></ul></li><li><strong>äº’è”ç½‘æ™®åŠä¸å¯¹ç­‰è®¡ç®—é˜¶æ®µï¼ˆå¤§è‡´åœ¨1990å¹´ä»£ä¸­æœŸè‡³æœ«æœŸï¼‰</strong><ul><li><strong>èƒŒæ™¯</strong>ï¼šäº’è”ç½‘çš„è¿…é€Ÿå‘å±•ï¼ˆå¦‚ 1993 å¹´äº’è”ç½‘å¼€å§‹æ™®åŠï¼‰æå¤§åœ°æ‰©å±•äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„è§„æ¨¡å’Œåº”ç”¨èŒƒå›´ã€‚</li><li><strong>æ–°æ¨¡å¼</strong>ï¼šå‡ºç°äº†å¯¹ç­‰è®¡ç®—ï¼ˆP2Pï¼‰æ¨¡å¼ï¼Œå¦‚æ–‡ä»¶å…±äº«åº”ç”¨ï¼Œæ”¹å˜äº†ä¼ ç»Ÿçš„å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ã€‚</li><li><strong>æ‰©å±•</strong>ï¼šç³»ç»Ÿè§„æ¨¡ï¼ˆæœºå™¨æ•°é‡ã€å‚ä¸äººå‘˜ï¼‰å’Œåº”ç”¨é¢†åŸŸéƒ½åœ¨å¿«é€Ÿæ‰©å¤§ã€‚</li></ul></li><li><strong>ç½‘æ ¼è®¡ç®—ä¸ e-Research é˜¶æ®µï¼ˆå¤§è‡´åœ¨21ä¸–çºªåˆï¼‰</strong><ul><li><strong>ç›®æ ‡</strong>ï¼šä¸ºäº†æ”¯æŒæ›´å¤§è§„æ¨¡çš„ç§‘å­¦ç ”ç©¶åˆä½œï¼ˆå³ e-Researchï¼‰ï¼Œç½‘æ ¼è®¡ç®—åº”è¿è€Œç”Ÿã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œå°†è®¡ç®—å’Œæ•°æ®èµ„æºåƒç”µåŠ›ç½‘æ ¼ä¸€æ ·æŒ‰éœ€åˆ†é…â€ï¼Œå®ç°ç»„ç»‡ä¸ç»„ç»‡ä¹‹é—´çš„èµ„æºå…±äº«å’ŒååŒã€‚</li><li><strong>ä»£è¡¨é¡¹ç›®</strong>ï¼šGlobus Toolkit æ˜¯ç½‘æ ¼è®¡ç®—é¢†åŸŸçš„é‡è¦é¡¹ç›®ï¼Œç”± Ian Foster ç­‰äººä¸»å¯¼ã€‚æ—©æœŸç‰ˆæœ¬ï¼ˆå¦‚ GT2ï¼‰å…³æ³¨æ ¸å¿ƒå®‰å…¨ã€èµ„æºç®¡ç†å’Œæ•°æ®ç®¡ç†åŠŸèƒ½ã€‚åæ¥å‘å±•åˆ° GT3 å’Œ GT4ï¼Œé€æ¸å¼•å…¥äº† Web æœåŠ¡ç†å¿µï¼Œç‰¹åˆ«æ˜¯ GT3 æå‡ºäº†â€œGrid Servicesâ€çš„æ¦‚å¿µï¼Œè¯•å›¾å°†æœ‰çŠ¶æ€çš„æœåŠ¡ä¸ Web æœåŠ¡æ ‡å‡†ç»“åˆèµ·æ¥ã€‚</li><li><strong>å…³é”®ç†å¿µ</strong>ï¼šç½‘æ ¼è®¡ç®—è¯•å›¾è§£å†³è·¨ç»„ç»‡è¾¹ç•Œçš„èµ„æºå…±äº«å’ŒååŒé—®é¢˜ï¼Œæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿå‘æ›´å®è§‚ã€æ›´å¤æ‚åä½œåœºæ™¯çš„å»¶ä¼¸ã€‚è‹±å›½æ”¿åºœç­‰æœºæ„å¯¹æ­¤è¿›è¡Œäº†å¤§é‡æŠ•èµ„ã€‚</li></ul></li><li><strong>ç½‘æ ¼æŠ€æœ¯çš„æ¼”å˜ä¸åæ€é˜¶æ®µï¼ˆå¤§è‡´åœ¨2010å¹´ä»£åï¼‰</strong><ul><li><strong>Globus Toolkit çš„é€€å½¹</strong>ï¼šç»è¿‡äºŒåå¹´çš„å‘å±•ï¼ŒGlobus Toolkit é¡¹ç›®åœ¨ 2018 å¹´å·¦å³åœæ­¢ä½œä¸ºå¼€æºå·¥å…·åŒ…ç»´æŠ¤ï¼Œä½†å…¶ç²¾ç¥å»¶ç»­åˆ°äº† Globus.org è¿™ä¸ªæˆç†Ÿçš„æ•°æ®ç®¡ç†æœåŠ¡ä¸­ã€‚</li><li><strong>æŒ‘æˆ˜ä¸åæ€</strong>ï¼šç½‘æ ¼æŠ€æœ¯çš„å®æ–½é¢ä¸´å›°éš¾ï¼Œå•†ä¸šåˆ©ç›Šä¹Ÿå¯èƒ½å½±å“æ ‡å‡†çš„åˆ¶å®šã€‚äººä»¬å¼€å§‹åæ€å…¶å¤æ‚æ€§ï¼Œå¹¶å¼•ç”¨â€œä½¿è½¯ä»¶å®‰å…¨ã€å¯é å’Œå¿«é€Ÿçš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿å…¶å°å‹åŒ–â€çš„è§‚ç‚¹ï¼Œå¯¹æ˜¯å¦åº”é‡‡ç”¨æ›´è½»é‡çº§çš„ Web æœåŠ¡æˆ–å…¶ä»–æŠ€æœ¯æ›¿ä»£éƒ¨åˆ†ç½‘æ ¼æŠ€æœ¯æå‡ºäº†ç–‘é—®ã€‚</li></ul></li></ol><p><strong>æ€»ç»“</strong>ï¼š åˆ†å¸ƒå¼ç³»ç»Ÿçš„å‘å±•å²æ˜¯ä¸€ä¸ªä»å…³æ³¨åº•å±‚é€šä¿¡å’Œæ ‡å‡†åŒ–ï¼Œåˆ°è¿½æ±‚å¯¹è±¡çº§äº’æ“ä½œï¼ˆCORBAï¼‰ï¼Œå†åˆ°æ‹¥æŠ±äº’è”ç½‘è§„æ¨¡å’Œå¯¹ç­‰æ¨¡å¼ï¼Œæœ€åå‘å±•åˆ°è§£å†³è·¨ç»„ç»‡èµ„æºå…±äº«ï¼ˆç½‘æ ¼è®¡ç®—ï¼‰çš„è¿‡ç¨‹ã€‚æ¯ä¸ªé˜¶æ®µéƒ½è¯•å›¾è§£å†³ä¸Šä¸€é˜¶æ®µé—ç•™çš„é—®é¢˜å’Œæ–°çš„æŒ‘æˆ˜ï¼ŒæŠ€æœ¯ä¹Ÿæ—¥è¶‹å¤æ‚ï¼Œä½†ä¹Ÿä¼´éšç€å¯¹ç®€åŒ–ã€è½»é‡åŒ–å’Œå®ç”¨æ€§çš„åæ€ã€‚è¿™ä¸ªå†å²æ¸…æ™°åœ°å±•ç¤ºäº†æŠ€æœ¯å¦‚ä½•ä¸æ–­æ¼”è¿›ä»¥é€‚åº”æ—¥ç›Šå¢é•¿çš„è¿æ¥å’Œåä½œéœ€æ±‚ã€‚</p><h3 id="grid-computing" tabindex="-1"><a class="header-anchor" href="#grid-computing"><span>Grid Computing</span></a></h3><table><thead><tr><th>æŒ‘æˆ˜é¢†åŸŸ</th><th>å…·ä½“é—®é¢˜</th><th>æ¶‰åŠç»„ä»¶</th><th>æŠ€æœ¯éš¾ç‚¹</th><th>å½±å“</th><th>è§£å†³æ–¹å‘</th></tr></thead><tbody><tr><td><strong>ä¿¡æ¯ç³»ç»Ÿå¤šæ ·æ€§</strong></td><td>å¼‚æ„èµ„æºæ•´åˆå›°éš¾</td><td>â€¢ æœåŠ¡å™¨<br>â€¢ CPU/å†…å­˜<br>â€¢ å­˜å‚¨è®¾å¤‡<br>â€¢ é˜Ÿåˆ—ç®¡ç†ç³»ç»Ÿ<br>â€¢ æ“ä½œç³»ç»Ÿ<br>â€¢ åº”ç”¨ç¨‹åº<br>â€¢ æ•°æ®åº“</td><td>â€¢ ä¸åŒå‚å•†æ ‡å‡†<br>â€¢ å¤šç§æ¥å£åè®®<br>â€¢ å…¼å®¹æ€§é—®é¢˜<br>â€¢ ç‰ˆæœ¬ç®¡ç†å¤æ‚</td><td>â€¢ ç®¡ç†å¤æ‚åº¦é«˜<br>â€¢ åè°ƒå›°éš¾<br>â€¢ ç»´æŠ¤æˆæœ¬å¢åŠ </td><td>â€¢ æ ‡å‡†åŒ–æ¥å£<br>â€¢ ä¸­é—´ä»¶æŠ½è±¡<br>â€¢ ç»Ÿä¸€ç®¡ç†å¹³å°</td></tr><tr><td><strong>ç›‘æ§å‘ç°ç³»ç»Ÿ</strong></td><td>å®æ—¶çŠ¶æ€ç›‘æ§å›°éš¾</td><td>â€¢ é˜Ÿåˆ—ç›‘æ§<br>â€¢ èµ„æºçŠ¶æ€æ£€æµ‹<br>â€¢ è´Ÿè½½è¯„ä¼°<br>â€¢ è¿è¡Œæ—¶é—´ç»Ÿè®¡</td><td>â€¢ å®æ—¶æ€§è¦æ±‚é«˜<br>â€¢ å‡†ç¡®æ€§éš¾ä¿è¯<br>â€¢ å¤§è§„æ¨¡ç›‘æ§å¼€é”€<br>â€¢ çŠ¶æ€åŒæ­¥å»¶è¿Ÿ</td><td>â€¢ èµ„æºåˆ©ç”¨ç‡ä½<br>â€¢ è°ƒåº¦å†³ç­–é”™è¯¯<br>â€¢ æ€§èƒ½ä¼˜åŒ–å›°éš¾</td><td>â€¢ åˆ†å¸ƒå¼ç›‘æ§<br>â€¢ æ™ºèƒ½é¢„æµ‹<br>â€¢ ç¼“å­˜æœºåˆ¶</td></tr><tr><td><strong>ä½œä¸šè°ƒåº¦èµ„æºä¸­ä»‹</strong></td><td>å¤šçº¦æŸä¼˜åŒ–é—®é¢˜</td><td>â€¢ è°ƒåº¦å™¨<br>â€¢ èµ„æºåˆ†é…å™¨<br>â€¢ è¿›ç¨‹é€šä¿¡ç®¡ç†<br>â€¢ è¯•ç‚¹ä½œä¸šç³»ç»Ÿ</td><td>â€¢ å¤šç›®æ ‡ä¼˜åŒ–<br>â€¢ åŠ¨æ€çº¦æŸå˜åŒ–<br>â€¢ èµ„æºç«äº‰å¤„ç†<br>â€¢ é€šä¿¡å¼€é”€ä¼˜åŒ–</td><td>â€¢ ä½œä¸šç­‰å¾…æ—¶é—´é•¿<br>â€¢ èµ„æºæµªè´¹<br>â€¢ ç³»ç»Ÿååé‡ä½</td><td>â€¢ æ™ºèƒ½è°ƒåº¦ç®—æ³•<br>â€¢ é¢„ç•™æœºåˆ¶<br>â€¢ è´Ÿè½½å‡è¡¡</td></tr><tr><td><strong>è™šæ‹Ÿç»„ç»‡æ”¯æŒ</strong></td><td>è·¨å­¦ç§‘éœ€æ±‚é€‚é…</td><td>â€¢ ç”¨æˆ·æ¥å£<br>â€¢ æƒé™ç®¡ç†<br>â€¢ èµ„æºè®¿é—®æ§åˆ¶<br>â€¢ åº”ç”¨é€‚é…å±‚</td><td>â€¢ éœ€æ±‚å¤šæ ·åŒ–<br>â€¢ å®‰å…¨ç­–ç•¥å¤æ‚<br>â€¢ ç”¨æˆ·ä½“éªŒè¦æ±‚<br>â€¢ ä¸“ä¸šçŸ¥è¯†è¦æ±‚</td><td>â€¢ ç”¨æˆ·æ»¡æ„åº¦ä½<br>â€¢ å­¦ä¹ æˆæœ¬é«˜<br>â€¢ åº”ç”¨æ¨å¹¿å›°éš¾</td><td>â€¢ é¢†åŸŸä¸“ç”¨æ¥å£<br>â€¢ ç®€åŒ–æ“ä½œæµç¨‹<br>â€¢ è‡ªåŠ¨åŒ–å·¥å…·</td></tr><tr><td><strong>å±‚æ¬¡ç»“æ„åœ°ç†åˆ†å¸ƒ</strong></td><td>è·¨åœ°åŸŸååŒå¤æ‚</td><td>â€¢ åº”ç”¨ç¨‹åºå±‚<br>â€¢ ä¸­é—´ä»¶å±‚<br>â€¢ èµ„æºå±‚<br>â€¢ ç»‡ç‰©å±‚<br>â€¢ ç½‘ç»œåŸºç¡€è®¾æ–½</td><td>â€¢ ç½‘ç»œå»¶è¿Ÿ<br>â€¢ æ•°æ®ä¼ è¾“å¼€é”€<br>â€¢ æ•…éšœå®¹é”™<br>â€¢ ä¸€è‡´æ€§ç»´æŠ¤</td><td>â€¢ å“åº”æ—¶é—´é•¿<br>â€¢ å¯é æ€§é™ä½<br>â€¢ ç®¡ç†å¤æ‚åº¦é«˜</td><td>â€¢ åˆ†å±‚æ¶æ„ä¼˜åŒ–<br>â€¢ æœ¬åœ°åŒ–éƒ¨ç½²<br>â€¢ å®¹é”™æœºåˆ¶</td></tr></tbody></table><h2 id="week-2" tabindex="-1"><a class="header-anchor" href="#week-2"><span>Week 2</span></a></h2><h3 id="horizontal-and-vertical-scaling" tabindex="-1"><a class="header-anchor" href="#horizontal-and-vertical-scaling"><span>Horizontal and Vertical Scaling</span></a></h3><ul><li>Horizontal scaling refers to adding more resources to a system, easy to add more, cost not so high. å¢åŠ æœåŠ¡å™¨æ•°é‡ more processors</li><li>Vertical scaling refers to increasing the resources of a system, more complex, cost high. å¢åŠ å•ä¸ªæœåŠ¡å™¨èµ„æº faster processors</li></ul><h3 id="amdahl-s-law-ä¸-gustafson-barsis-s-law" tabindex="-1"><a class="header-anchor" href="#amdahl-s-law-ä¸-gustafson-barsis-s-law"><span>Amdahl&#39;s Law ä¸ Gustafson-Barsis&#39;s Law</span></a></h3><h4 id="amdahl-s-law-é˜¿å§†è¾¾å°”å®šå¾‹" tabindex="-1"><a class="header-anchor" href="#amdahl-s-law-é˜¿å§†è¾¾å°”å®šå¾‹"><span>Amdahl&#39;s Law (é˜¿å§†è¾¾å°”å®šå¾‹)</span></a></h4><p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šç³»ç»Ÿçš„æ•´ä½“æ€§èƒ½æå‡å—åˆ°ç³»ç»Ÿä¸­æ— æ³•å¹¶è¡ŒåŒ–éƒ¨åˆ†çš„é™åˆ¶ã€‚</p><h4 id="æ•°å­¦å…¬å¼" tabindex="-1"><a class="header-anchor" href="#æ•°å­¦å…¬å¼"><span>æ•°å­¦å…¬å¼</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>åŠ é€Ÿæ¯” S = 1 / (s + (1-s)/p)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼š</p><ul><li>s = ä¸²è¡Œéƒ¨åˆ†å æ€»æ‰§è¡Œæ—¶é—´çš„æ¯”ä¾‹</li><li>p = å¤„ç†å™¨æ•°é‡</li><li>(1-s) = å¯å¹¶è¡ŒåŒ–éƒ¨åˆ†çš„æ¯”ä¾‹</li></ul><h4 id="å…³é”®ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#å…³é”®ç‰¹ç‚¹"><span>å…³é”®ç‰¹ç‚¹</span></a></h4><table><thead><tr><th>ç‰¹ç‚¹</th><th>æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>å›ºå®šé—®é¢˜è§„æ¨¡</strong></td><td>é—®é¢˜å¤§å°ä¿æŒä¸å˜ï¼Œå¢åŠ å¤„ç†å™¨æ•°é‡</td><td>å¯¹åŒä¸€ä¸ª1000Ã—1000çš„çŸ©é˜µè¿›è¡Œè®¡ç®—</td></tr><tr><td><strong>ç†è®ºä¸Šé™</strong></td><td>æœ€å¤§åŠ é€Ÿæ¯” = 1/s</td><td>å¦‚æœ10%ä¸²è¡Œï¼Œæœ€å¤§åŠ é€Ÿæ¯” = 10</td></tr><tr><td><strong>æ”¶ç›Šé€’å‡</strong></td><td>å¤„ç†å™¨æ•°é‡å¢åŠ ï¼Œè¾¹é™…æ”¶ç›Šé€’å‡</td><td>ä»2æ ¸åˆ°4æ ¸æå‡æ˜æ˜¾ï¼Œä»64æ ¸åˆ°128æ ¸æå‡å¾®å°</td></tr><tr><td><strong>æ‚²è§‚é¢„æµ‹</strong></td><td>å¼ºè°ƒå¹¶è¡ŒåŒ–çš„å±€é™æ€§</td><td>&quot;å¹¶è¡Œè®¡ç®—æ— æ³•æ— é™æ‰©å±•&quot;</td></tr></tbody></table><h4 id="å®é™…åº”ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#å®é™…åº”ç”¨åœºæ™¯"><span>å®é™…åº”ç”¨åœºæ™¯</span></a></h4><ul><li><strong>é€‚ç”¨äº</strong>ï¼šé—®é¢˜è§„æ¨¡å›ºå®šçš„ä¼ ç»Ÿå¹¶è¡Œè®¡ç®—</li><li><strong>å…¸å‹ä¾‹å­</strong>ï¼šå›¾åƒå¤„ç†ã€æ•°å€¼è®¡ç®—ã€ç§‘å­¦ä»¿çœŸ</li><li><strong>è®¾è®¡æŒ‡å¯¼</strong>ï¼šä¼˜åŒ–ä¸²è¡Œéƒ¨åˆ†ï¼Œå‡å°‘åŒæ­¥å¼€é”€</li></ul><h4 id="gustafson-barsis-s-law-å¤æ–¯å¡”å¤«æ£®-å·´è¥¿æ–¯å®šå¾‹" tabindex="-1"><a class="header-anchor" href="#gustafson-barsis-s-law-å¤æ–¯å¡”å¤«æ£®-å·´è¥¿æ–¯å®šå¾‹"><span>Gustafson-Barsis&#39;s Law (å¤æ–¯å¡”å¤«æ£®-å·´è¥¿æ–¯å®šå¾‹)</span></a></h4><p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šåœ¨å›ºå®šæ—¶é—´å†…ï¼Œé€šè¿‡å¢åŠ å¤„ç†å™¨å¯ä»¥è§£å†³æ›´å¤§è§„æ¨¡çš„é—®é¢˜</p><h4 id="æ•°å­¦å…¬å¼-1" tabindex="-1"><a class="header-anchor" href="#æ•°å­¦å…¬å¼-1"><span>æ•°å­¦å…¬å¼</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>åŠ é€Ÿæ¯” S = s + p(1-s) = p - s(p-1)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼š</p><ul><li>s = ä¸²è¡Œéƒ¨åˆ†å æ€»æ‰§è¡Œæ—¶é—´çš„æ¯”ä¾‹</li><li>p = å¤„ç†å™¨æ•°é‡</li><li>é‡ç‚¹ï¼šé—®é¢˜è§„æ¨¡éšå¤„ç†å™¨æ•°é‡å¢é•¿</li></ul><h4 id="å…³é”®ç‰¹ç‚¹-1" tabindex="-1"><a class="header-anchor" href="#å…³é”®ç‰¹ç‚¹-1"><span>å…³é”®ç‰¹ç‚¹</span></a></h4><table><thead><tr><th>ç‰¹ç‚¹</th><th>æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>å›ºå®šæ‰§è¡Œæ—¶é—´</strong></td><td>ä¿æŒæ‰§è¡Œæ—¶é—´ä¸å˜ï¼Œæ‰©å¤§é—®é¢˜è§„æ¨¡</td><td>1å°æ—¶å†…å¤„ç†æ›´å¤šæ•°æ®</td></tr><tr><td><strong>çº¿æ€§æ‰©å±•</strong></td><td>ç†è®ºä¸Šå¯ä»¥çº¿æ€§æ‰©å±•</td><td>å¤„ç†å™¨ç¿»å€ï¼Œé—®é¢˜è§„æ¨¡ç¿»å€</td></tr><tr><td><strong>å®é™…å¯¼å‘</strong></td><td>æ›´ç¬¦åˆå®é™…åº”ç”¨éœ€æ±‚</td><td>å¤©æ°”é¢„æŠ¥ã€å¤§æ•°æ®å¤„ç†</td></tr><tr><td><strong>ä¹è§‚é¢„æµ‹</strong></td><td>å¼ºè°ƒå¹¶è¡ŒåŒ–çš„æ½œåŠ›</td><td>&quot;å¹¶è¡Œè®¡ç®—å¯ä»¥æœ‰æ•ˆæ‰©å±•&quot;</td></tr></tbody></table><h4 id="å®é™…åº”ç”¨åœºæ™¯-1" tabindex="-1"><a class="header-anchor" href="#å®é™…åº”ç”¨åœºæ™¯-1"><span>å®é™…åº”ç”¨åœºæ™¯</span></a></h4><ul><li><strong>é€‚ç”¨äº</strong>ï¼šé—®é¢˜è§„æ¨¡å¯æ‰©å±•çš„ç°ä»£è®¡ç®—</li><li><strong>å…¸å‹ä¾‹å­</strong>ï¼šå¤§æ•°æ®åˆ†æã€æœºå™¨å­¦ä¹ ã€äº‘è®¡ç®—</li><li><strong>è®¾è®¡æŒ‡å¯¼</strong>ï¼šè®¾è®¡å¯æ‰©å±•çš„ç®—æ³•å’Œç³»ç»Ÿæ¶æ„</li></ul><h4 id="ä¸¤å®šå¾‹çš„å¯¹æ¯”åˆ†æ" tabindex="-1"><a class="header-anchor" href="#ä¸¤å®šå¾‹çš„å¯¹æ¯”åˆ†æ"><span>ä¸¤å®šå¾‹çš„å¯¹æ¯”åˆ†æ</span></a></h4><table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>Amdahl&#39;s Law</th><th>Gustafson-Barsis&#39;s Law</th></tr></thead><tbody><tr><td><strong>é—®é¢˜è§„æ¨¡</strong></td><td>å›ºå®šä¸å˜</td><td>éšå¤„ç†å™¨æ•°é‡å¢é•¿</td></tr><tr><td><strong>æ—¶é—´çº¦æŸ</strong></td><td>æœ€å°åŒ–æ‰§è¡Œæ—¶é—´</td><td>å›ºå®šæ‰§è¡Œæ—¶é—´</td></tr><tr><td><strong>æ‰©å±•æ€§è§‚ç‚¹</strong></td><td>æ‚²è§‚ï¼šå¼ºè°ƒé™åˆ¶</td><td>ä¹è§‚ï¼šå¼ºè°ƒæ½œåŠ›</td></tr><tr><td><strong>æœ€å¤§åŠ é€Ÿæ¯”</strong></td><td>1/s (æœ‰ä¸Šé™)</td><td>p - s(p-1) (è¿‘ä¼¼çº¿æ€§)</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>ä¼ ç»ŸHPCåº”ç”¨</td><td>ç°ä»£å¤§è§„æ¨¡è®¡ç®—</td></tr><tr><td><strong>è®¾è®¡é‡ç‚¹</strong></td><td>å‡å°‘ä¸²è¡Œéƒ¨åˆ†</td><td>å¢åŠ å¹¶è¡Œå·¥ä½œé‡</td></tr></tbody></table><h4 id="å®é™…åº”ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å®é™…åº”ç”¨ç¤ºä¾‹"><span>å®é™…åº”ç”¨ç¤ºä¾‹</span></a></h4><p>Amdahl&#39;s Law ç¤ºä¾‹</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>å‡è®¾ç¨‹åº90%å¯å¹¶è¡ŒåŒ–(s=0.1)ï¼š</span></span>\n<span class="line"><span>- 1æ ¸ï¼šåŠ é€Ÿæ¯” = 1</span></span>\n<span class="line"><span>- 2æ ¸ï¼šåŠ é€Ÿæ¯” = 1.82</span></span>\n<span class="line"><span>- 4æ ¸ï¼šåŠ é€Ÿæ¯” = 3.08  </span></span>\n<span class="line"><span>- 8æ ¸ï¼šåŠ é€Ÿæ¯” = 4.71</span></span>\n<span class="line"><span>- æ— ç©·æ ¸ï¼šæœ€å¤§åŠ é€Ÿæ¯” = 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Gustafson-Barsis&#39;s Law ç¤ºä¾‹</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>å‡è®¾ç¨‹åº90%å¯å¹¶è¡ŒåŒ–(s=0.1)ï¼š</span></span>\n<span class="line"><span>- 1æ ¸ï¼šåŠ é€Ÿæ¯” = 1</span></span>\n<span class="line"><span>- 2æ ¸ï¼šåŠ é€Ÿæ¯” = 1.9</span></span>\n<span class="line"><span>- 4æ ¸ï¼šåŠ é€Ÿæ¯” = 3.7</span></span>\n<span class="line"><span>- 8æ ¸ï¼šåŠ é€Ÿæ¯” = 7.3</span></span>\n<span class="line"><span>- ç»§ç»­å¢é•¿...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="'+d+'" alt="Amdhal vs. Gustafson&#39;s Law" tabindex="0" loading="lazy"><figcaption>Amdhal vs. Gustafson&#39;s Law</figcaption></figure><h3 id="categories-of-flynn-s-taxonomy" tabindex="-1"><a class="header-anchor" href="#categories-of-flynn-s-taxonomy"><span>Categories of Flynn&#39;s Taxonomy</span></a></h3><table><thead><tr><th>ç±»å‹</th><th>å…¨ç§°</th><th>ç‰¹ç‚¹</th><th>ç¤ºä¾‹/å¤‡æ³¨</th></tr></thead><tbody><tr><td><strong>SISD</strong></td><td>Single Instruction, Single Data</td><td><strong>å•æŒ‡ä»¤ã€å•æ•°æ®æµ</strong>ï¼šä¸²è¡Œæ‰§è¡Œï¼Œ<strong>æ— å¹¶è¡Œæ€§</strong>ã€‚</td><td>ä¼ ç»Ÿå†¯Â·è¯ºä¾æ›¼æ¶æ„ï¼ŒåŸºæœ¬å·²è¿‡æ—¶ã€‚</td></tr><tr><td><strong>MISD</strong></td><td>Multiple Instruction, Single Data</td><td><strong>å¤šæŒ‡ä»¤ã€å•æ•°æ®æµ</strong>ï¼šå¤šä¸ªå¤„ç†å•å…ƒå¯¹<strong>ç›¸åŒæ•°æ®åšä¸åŒå¤„ç†</strong>ã€‚</td><td>å°‘è§ï¼Œé€šå¸¸ç”¨äºå®¹é”™ç³»ç»Ÿï¼ˆæ¯”å¦‚å¹¶è¡Œæ ¡éªŒï¼‰ã€‚</td></tr><tr><td><strong>SIMD</strong></td><td>Single Instruction, Multiple Data</td><td><strong>å•æŒ‡ä»¤ã€å¤šæ•°æ®æµ</strong>ï¼šå¤šä¸ªå¤„ç†å™¨å¯¹<strong>å¤šä¸ªæ•°æ®åšç›¸åŒæ“ä½œ</strong>ã€‚</td><td>å›¾åƒå¤„ç†ã€å¤šåª’ä½“åŠ é€Ÿï¼ˆå¦‚ GPUã€å‘é‡æŒ‡ä»¤ï¼‰ã€‚å¼ºè°ƒ<strong>æ•°æ®çº§å¹¶è¡Œ</strong>ã€‚</td></tr><tr><td><strong>MIMD</strong></td><td>Multiple Instruction, Multiple Data</td><td><strong>å¤šæŒ‡ä»¤ã€å¤šæ•°æ®æµ</strong>ï¼šå„å¤„ç†å™¨ç‹¬ç«‹è¿è¡Œï¼Œå¤„ç†ä¸åŒä»»åŠ¡å’Œæ•°æ®ã€‚</td><td>ç°ä»£ä¸»æµæ¶æ„ï¼Œå¦‚å¤šæ ¸ CPUã€åˆ†å¸ƒå¼ç³»ç»Ÿã€‚å¼ºè°ƒ<strong>ä»»åŠ¡å¹¶è¡Œ</strong>ã€‚</td></tr></tbody></table><h3 id="implicit-and-explicit-parallelism" tabindex="-1"><a class="header-anchor" href="#implicit-and-explicit-parallelism"><span>Implicit and Explicit Parallelism</span></a></h3><table><thead><tr><th>ç‰¹æ€§</th><th><strong>éšå¼å¹¶è¡ŒåŒ–</strong></th><th><strong>æ˜¾å¼å¹¶è¡ŒåŒ–</strong></th></tr></thead><tbody><tr><td>ğŸ’¡ å®šä¹‰</td><td>ç”±ç¼–è¯‘å™¨å’Œå¹¶è¡Œè¯­è¨€è‡ªåŠ¨è¯†åˆ«å’Œè°ƒåº¦ç¨‹åºä¸­çš„å¹¶è¡Œæ€§</td><td>ç¨‹åºå‘˜æ‰‹åŠ¨æ§åˆ¶å¹¶è¡Œçš„å„ä¸ªæ–¹é¢</td></tr><tr><td>ğŸ” è°è´Ÿè´£å¹¶è¡ŒåŒ–ï¼Ÿ</td><td><strong>ç¼–è¯‘å™¨/è¿è¡Œæ—¶ç³»ç»Ÿ</strong>è´Ÿè´£å¹¶è¡ŒåŒ–åˆ†æä¸è°ƒåº¦</td><td><strong>ç¨‹åºå‘˜</strong>è´Ÿè´£ä»»åŠ¡åˆ’åˆ†ã€è°ƒåº¦ã€é€šä¿¡ç­‰</td></tr><tr><td>âš™ï¸ å·¥ä½œå†…å®¹</td><td>ç¼–è¯‘å™¨è¯†åˆ«å¯å¹¶è¡Œéƒ¨åˆ†ï¼Œå®‰æ’ä»»åŠ¡åˆ°å¤šæ ¸/çº¿ç¨‹ä¸Šè¿è¡Œ</td><td>ç¨‹åºå‘˜éœ€è¦æŒ‡å®šçº¿ç¨‹/è¿›ç¨‹ã€é€šä¿¡æ–¹å¼ã€åŒæ­¥æœºåˆ¶ç­‰</td></tr><tr><td>ğŸ§  ç¨‹åºå‘˜è´Ÿæ‹…</td><td>ä½ï¼Œå†™ä»£ç æ›´æ¥è¿‘ä¸²è¡Œé€»è¾‘</td><td>é«˜ï¼Œè¦æ±‚ç¨‹åºå‘˜æœ‰å¹¶è¡Œè®¡ç®—çŸ¥è¯†</td></tr><tr><td>ğŸ§ª å®ç°éš¾åº¦</td><td>ç¼–è¯‘å™¨è®¾è®¡å’Œè‡ªåŠ¨å¹¶è¡Œåˆ†æéš¾åº¦å¤§</td><td>ç¨‹åºè®¾è®¡ã€è°ƒè¯•å’Œç»´æŠ¤éš¾åº¦å¤§</td></tr><tr><td>âœ… ä¼˜ç‚¹</td><td>ç¼–ç¨‹ç®€å•ã€ä»£ç æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤</td><td>æ§åˆ¶åŠ›å¼ºï¼Œå¯å®ç°æ›´é«˜æ€§èƒ½å’Œä¼˜åŒ–ç©ºé—´</td></tr><tr><td>âŒ ç¼ºç‚¹</td><td>ç¼–è¯‘å™¨å¯èƒ½é”™è¿‡æŸäº›å¹¶è¡Œæœºä¼šï¼Œæ•ˆç‡å—é™</td><td>ç¼–ç¨‹å¤æ‚ã€å®¹æ˜“å‡ºé”™ï¼Œè°ƒè¯•å›°éš¾</td></tr><tr><td>ğŸ§¾ ç¤ºä¾‹æŠ€æœ¯</td><td>OpenMPï¼ˆæŸç§ç¨‹åº¦ä¸Šï¼‰ã€è‡ªåŠ¨å‘é‡åŒ–ã€å‡½æ•°å¼è¯­è¨€</td><td>MPIã€OpenMPï¼ˆæ˜¾å¼æ–¹å¼ï¼‰ã€CUDAã€Pthreadsã€Java å¹¶å‘ç­‰</td></tr></tbody></table><h3 id="openmp" tabindex="-1"><a class="header-anchor" href="#openmp"><span>OpenMP</span></a></h3><ul><li>Widely used API for <strong>shared-memory parallel programming</strong></li></ul><h4 id="ğŸ§±-1-å¹¶è¡Œæ„é€ -parallel-constructs" tabindex="-1"><a class="header-anchor" href="#ğŸ§±-1-å¹¶è¡Œæ„é€ -parallel-constructs"><span>ğŸ§± 1. å¹¶è¡Œæ„é€ ï¼ˆParallel Constructsï¼‰</span></a></h4><p>ç”¨äºåˆ›å»ºå¤šä¸ªçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä»£ç å—ï¼š</p><ul><li><code>#pragma omp parallel</code>ï¼šå¼€å¯ä¸€ä¸ªå¹¶è¡ŒåŒºåŸŸã€‚</li><li><code>#pragma omp for</code>ï¼šå°†å¾ªç¯è¿­ä»£åˆ’åˆ†ç»™å¤šä¸ªçº¿ç¨‹ã€‚</li><li><code>#pragma omp sections</code>ï¼šå¤šä¸ªçº¿ç¨‹æ‰§è¡Œä¸åŒä»£ç å—ã€‚</li><li><code>#pragma omp single</code>ï¼šåªç”±ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚</li><li><code>#pragma omp task</code>ï¼šåŠ¨æ€åˆ›å»ºä»»åŠ¡ï¼Œä¾›çº¿ç¨‹æ‰§è¡Œã€‚</li></ul><hr><h4 id="ğŸ‘¥-2-çº¿ç¨‹ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#ğŸ‘¥-2-çº¿ç¨‹ç®¡ç†"><span>ğŸ‘¥ 2. çº¿ç¨‹ç®¡ç†</span></a></h4><ul><li><code>omp_set_num_threads(n)</code>ï¼šè®¾ç½®å¹¶è¡Œçº¿ç¨‹æ•°ã€‚</li><li><code>omp_get_num_threads()</code>ï¼šè·å–å½“å‰çº¿ç¨‹æ€»æ•°ã€‚</li><li><code>omp_get_thread_num()</code>ï¼šè·å–å½“å‰çº¿ç¨‹çš„ç¼–å·ã€‚</li></ul><hr><h4 id="ğŸ”’-3-åŒæ­¥æœºåˆ¶-é¿å…ç«æ€" tabindex="-1"><a class="header-anchor" href="#ğŸ”’-3-åŒæ­¥æœºåˆ¶-é¿å…ç«æ€"><span>ğŸ”’ 3. åŒæ­¥æœºåˆ¶ï¼ˆé¿å…ç«æ€ï¼‰</span></a></h4><ul><li><code>#pragma omp critical</code>ï¼šä¸´ç•ŒåŒºï¼Œä¿è¯ä»£ç å—äº’æ–¥æ‰§è¡Œã€‚</li><li><code>#pragma omp atomic</code>ï¼šåŸå­æ“ä½œï¼Œé€‚åˆç®€å•æ•°å€¼æ“ä½œã€‚</li><li><code>#pragma omp barrier</code>ï¼šæ‰€æœ‰çº¿ç¨‹åœ¨æ­¤ç­‰å¾…åŒæ­¥ã€‚</li><li><code>omp_set_lock()/omp_unset_lock()</code>ï¼šæ˜¾å¼é”æ§åˆ¶ã€‚</li></ul><hr><h4 id="ğŸ“¦-4-æ•°æ®å…±äº«å±æ€§" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦-4-æ•°æ®å…±äº«å±æ€§"><span>ğŸ“¦ 4. æ•°æ®å…±äº«å±æ€§</span></a></h4><ul><li><code>shared</code>ï¼šå¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€å˜é‡ã€‚</li><li><code>private</code>ï¼šæ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹å˜é‡ã€‚</li><li><code>firstprivate</code>ï¼šæ¯ä¸ªçº¿ç¨‹å¤åˆ¶ä¸»çº¿ç¨‹åˆå§‹å€¼ã€‚</li><li><code>reduction</code>ï¼šçº¿ç¨‹å±€éƒ¨å˜é‡å½’çº¦æˆä¸€ä¸ªï¼ˆå¦‚æ±‚å’Œï¼‰ã€‚</li></ul><hr><h4 id="ğŸ”-5-å¾ªç¯è°ƒåº¦ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ğŸ”-5-å¾ªç¯è°ƒåº¦ç­–ç•¥"><span>ğŸ” 5. å¾ªç¯è°ƒåº¦ç­–ç•¥</span></a></h4><ul><li><strong>static</strong>ï¼šå¹³å‡åˆ’åˆ†ï¼Œç¼–è¯‘æ—¶å†³å®šã€‚</li><li><strong>dynamic</strong>ï¼šè¿è¡Œæ—¶åŠ¨æ€åˆ†é…ï¼Œé€‚åˆè´Ÿè½½ä¸å‡ã€‚</li><li><strong>guided</strong>ï¼šå…ˆå¤§å—ï¼Œåå°å—ï¼Œæé«˜æ•ˆç‡ã€‚</li><li><strong>auto</strong>ï¼šç”±ç¼–è¯‘å™¨æˆ–è¿è¡Œæ—¶å†³å®šã€‚</li></ul><h3 id="mpi" tabindex="-1"><a class="header-anchor" href="#mpi"><span>MPI</span></a></h3><ul><li>Widely adopted approach for message passing in parallel systems</li><li>Key functions: <ul><li>MPI_Init : initiate MPI computation</li><li>MPI_Finalize : terminate computation</li><li>MPI_COMM_SIZE : determine number of processors</li><li>MPI_COMM_RANK : determine my process identifier</li><li>MPI_SEND : send a message</li><li>MPI_RECV : receive a message</li></ul></li></ul><h3 id="parallelism-in-hardware" tabindex="-1"><a class="header-anchor" href="#parallelism-in-hardware"><span>Parallelism in Hardware</span></a></h3><table><thead><tr><th>æ¶æ„</th><th>ç®€è¦æè¿°</th></tr></thead><tbody><tr><td><strong>Basic CPU</strong></td><td>æœ€åŸºæœ¬çš„å•æ ¸å¤„ç†å™¨ï¼Œä¸èƒ½è¿›è¡Œç¡¬ä»¶çº§åˆ«çš„å¹¶è¡Œè¿ç®—ã€‚</td></tr><tr><td><strong>Hardware Threading CPU</strong></td><td>å•ä¸ªæ ¸å¿ƒå¯åŒæ—¶æ”¯æŒå¤šä¸ªçº¿ç¨‹ï¼ˆå¦‚ Intel è¶…çº¿ç¨‹æŠ€æœ¯ï¼‰ï¼Œæå‡å¹¶å‘èƒ½åŠ›ã€‚</td></tr><tr><td><strong>Multi-Core</strong></td><td>å•ä¸ªç‰©ç†èŠ¯ç‰‡ä¸­åŒ…å«å¤šä¸ªç‹¬ç«‹æ ¸å¿ƒï¼Œæ¯ä¸ªæ ¸å¿ƒå¯ä»¥å¹¶è¡Œå¤„ç†ä»»åŠ¡ã€‚</td></tr><tr><td><strong>SMPï¼ˆå¯¹ç§°å¤šå¤„ç†å™¨ï¼‰</strong></td><td>ä¸€å°ç³»ç»Ÿä¸­æœ‰å¤šä¸ªç‰©ç† CPUï¼ˆä¸ä»…ä»…æ˜¯å¤šæ ¸ï¼‰ï¼Œé€šå¸¸åº”ç”¨äºé«˜ç«¯æœåŠ¡å™¨ã€HPC ç­‰é¢†åŸŸã€‚</td></tr></tbody></table><h3 id="erroneous-assumptions-of-distributed-systems" tabindex="-1"><a class="header-anchor" href="#erroneous-assumptions-of-distributed-systems"><span>Erroneous Assumptions of Distributed Systems</span></a></h3><table><thead><tr><th>ç¼–å·</th><th>é”™è¯¯å‡è®¾</th><th>è§£é‡Š</th><th>å®é™…æƒ…å†µ</th></tr></thead><tbody><tr><td>1</td><td><strong>The network is reliable</strong><br>ç½‘ç»œæ˜¯å¯é çš„</td><td>ç¨‹åºå‘˜ä»¥ä¸ºç½‘ç»œä¼ è¾“ä¸€å®šæˆåŠŸ</td><td>å®é™…ä¸Šï¼Œç½‘ç»œä¼š<strong>ä¸¢åŒ…ã€å»¶è¿Ÿã€æ–­è¿</strong>ï¼Œéœ€è®¾è®¡é‡è¯•æœºåˆ¶ã€å®¹é”™æœºåˆ¶</td></tr><tr><td>2</td><td><strong>Latency is zero</strong><br>å»¶è¿Ÿä¸ºé›¶</td><td>ä»¥ä¸ºè¿œç¨‹è¯·æ±‚å’Œæœ¬åœ°ä¸€æ ·å¿«</td><td>å®é™…ä¸Šï¼Œ<strong>ç½‘ç»œå»¶è¿Ÿæ˜¾è‘—</strong>ï¼Œåº”ä¼˜åŒ–è¯·æ±‚æ‰¹å¤„ç†ã€ç¼“å­˜ç­‰ç­–ç•¥</td></tr><tr><td>3</td><td><strong>Bandwidth is infinite</strong><br>å¸¦å®½æ˜¯æ— é™çš„</td><td>è®¤ä¸ºå¯ä»¥éšæ„ä¼ è¾“å¤§é‡æ•°æ®</td><td>å®é™…ä¸­å¸¦å®½æœ‰é™ï¼Œéœ€åš<strong>å‹ç¼©ã€é™é€Ÿã€åˆ†é¡µ</strong>ç­‰ä¼˜åŒ–</td></tr><tr><td>4</td><td><strong>The network is secure</strong><br>ç½‘ç»œæ˜¯å®‰å…¨çš„</td><td>é»˜è®¤æ•°æ®åœ¨ä¼ è¾“ä¸­ä¸ä¼šè¢«çªƒå¬æˆ–ç¯¡æ”¹</td><td>å®é™…ç½‘ç»œæ˜¯ä¸å¯ä¿¡çš„ï¼Œå¿…é¡»ä½¿ç”¨<strong>åŠ å¯†ã€è®¤è¯ã€æˆæƒæœºåˆ¶</strong></td></tr><tr><td>5</td><td><strong>Topology doesnâ€™t change</strong><br>ç½‘ç»œæ‹“æ‰‘ä¸ä¼šå˜</td><td>è®¤ä¸ºæœåŠ¡åœ°å€ã€æœºå™¨åˆ†å¸ƒæ˜¯å›ºå®šçš„</td><td>å®é™…ä¸ŠèŠ‚ç‚¹ä¼šé¢‘ç¹<strong>ä¸Šçº¿/ä¸‹çº¿ã€å´©æºƒã€è¿ç§»</strong>ï¼Œéœ€è®¾è®¡æœåŠ¡å‘ç°ã€å®¹é”™æœºåˆ¶</td></tr><tr><td>6</td><td><strong>There is one administrator</strong><br>åªæœ‰ä¸€ä¸ªç®¡ç†å‘˜</td><td>å‡è®¾ç³»ç»Ÿç”±ä¸€ä¸ªäººæˆ–ä¸€æ–¹ç»´æŠ¤ç®¡ç†</td><td>å®é™…ç³»ç»Ÿå¯èƒ½è·¨ç»„ç»‡ã€è·¨å›¢é˜Ÿï¼Œéœ€è®¾è®¡è‰¯å¥½çš„<strong>æƒé™åˆ’åˆ†å’Œåè°ƒæœºåˆ¶</strong></td></tr><tr><td>7</td><td><strong>Transport cost is zero</strong><br>ä¼ è¾“æˆæœ¬ä¸ºé›¶</td><td>è®¤ä¸ºè¿œç¨‹é€šä¿¡å’Œæœ¬åœ°è°ƒç”¨ä¸€æ ·ä¾¿å®œ</td><td>å®é™…è¿œç¨‹è°ƒç”¨æˆæœ¬é«˜ï¼Œå°¤å…¶æ˜¯<strong>å°è¯·æ±‚å¤šæ¬¡é¢‘ç¹è°ƒç”¨</strong>ï¼Œä¼šé€ æˆæ€§èƒ½ç“¶é¢ˆ</td></tr><tr><td>8</td><td><strong>The network is homogeneous</strong><br>ç½‘ç»œæ˜¯åŒè´¨çš„</td><td>å‡è®¾æ‰€æœ‰èŠ‚ç‚¹é…ç½®ã€ç³»ç»Ÿã€å¹³å°ä¸€è‡´</td><td>å®é™…ä¸ŠèŠ‚ç‚¹å¯èƒ½ä½¿ç”¨<strong>ä¸åŒæ“ä½œç³»ç»Ÿã€ç¡¬ä»¶æ¶æ„ã€ç½‘ç»œé…ç½®</strong>ï¼Œéœ€è€ƒè™‘å…¼å®¹æ€§</td></tr><tr><td>9</td><td><strong>Time is ubiquitous</strong><br>å…¨ç³»ç»Ÿæ—¶é—´ä¸€è‡´</td><td>è®¤ä¸ºæ‰€æœ‰æœºå™¨çš„æ—¶é’Ÿéƒ½æ˜¯åŒæ­¥çš„</td><td>å®é™…å„èŠ‚ç‚¹æ—¶é—´å¯èƒ½<strong>æ¼‚ç§»æˆ–ä¸åŒæ­¥</strong>ï¼Œéœ€è¦ä½¿ç”¨å¦‚ NTPã€é€»è¾‘æ—¶é’Ÿã€Lamport æ—¶é—´æˆ³ç­‰æ–¹å¼å¤„ç†æ—¶é—´ä¸€è‡´æ€§é—®é¢˜</td></tr></tbody></table><h2 id="week-3" tabindex="-1"><a class="header-anchor" href="#week-3"><span>Week 3</span></a></h2><figure><img src="'+a+'" alt="HPC Cluster Design" tabindex="0" loading="lazy"><figcaption>HPC Cluster Design</figcaption></figure><h3 id="amdahl-s-law-and-gustafson-s-law" tabindex="-1"><a class="header-anchor" href="#amdahl-s-law-and-gustafson-s-law"><span>Amdahl&#39;s Law and Gustafson&#39;s Law</span></a></h3><h4 id="key-differences" tabindex="-1"><a class="header-anchor" href="#key-differences"><span><strong>Key Differences</strong></span></a></h4><table><thead><tr><th>Law</th><th>Assumption</th><th>Best Use Case</th><th>Result</th></tr></thead><tbody><tr><td><strong>Amdahl&#39;s Law</strong></td><td>Fixed problem size</td><td>Small-scale problems, focus on bottlenecks</td><td>Speedup limited by the serial part</td></tr><tr><td><strong>Gustafson&#39;s Law</strong></td><td>Scalable problem size</td><td>Large-scale problems, focus on parallel efficiency</td><td>Speedup can scale nearly linearly with the number of processors</td></tr></tbody></table><p><strong>If you can make use of parallelisation you should make use of it! It will always generate some benefit, and the larger the problem the bigger the gain.</strong></p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>module</code></td><td>ç¯å¢ƒç®¡ç†å™¨</td><td>åŠ è½½è½¯ä»¶ï¼ˆå¦‚ MPIã€Pythonï¼‰åŠå…¶ä¾èµ–è·¯å¾„</td></tr><tr><td><code>Slurm</code></td><td>ä½œä¸šè°ƒåº¦ç³»ç»Ÿ</td><td>ç®¡ç†èµ„æºï¼Œæäº¤å¹¶å®‰æ’ä½œä¸šï¼ˆè¿è¡Œåœ¨å“ªå°æœºå™¨ï¼‰</td></tr><tr><td><code>MPI</code></td><td>å¹¶è¡Œç¼–ç¨‹æ¥å£</td><td>ç¨‹åºä¸­ç”¨äº<strong>å¤šèŠ‚ç‚¹é€šä¿¡</strong>çš„æ¥å£å’Œæ ‡å‡†</td></tr></tbody></table><h3 id="environment-modules" tabindex="-1"><a class="header-anchor" href="#environment-modules"><span>Environment Modules</span></a></h3><p>Environment Modules is a tool used to dynamically manage and configure the userâ€™s shell environment in Unix-like systems. It is widely used in High-Performance Computing (HPC) environments to simplify the use of software packages and manage different software versions without conflicts. Module å‘½ä»¤å°±æ˜¯åœ¨å¤šç”¨æˆ·ã€å¤šè½¯ä»¶ç¯å¢ƒä¸‹ï¼Œæ–¹ä¾¿ä½ åŠ¨æ€åˆ‡æ¢/åŠ è½½ä¸åŒè½¯ä»¶ç‰ˆæœ¬å’Œä¾èµ–çš„å·¥å…·ï¼Œç‰¹åˆ«é€‚ç”¨äºç§‘ç ”æœåŠ¡å™¨å’Œè¶…çº§è®¡ç®—å¹³å°</p><p>Modules work by modifying environment variables (e.g., <code>PATH</code>, <code>LD_LIBRARY_PATH</code>, <code>MANPATH</code>, etc.) when a module is loaded or unloaded. This allows users to switch between different versions of the same software easily without modifying the system configuration.</p><hr><h3 id="ğŸ› ï¸-common-module-commands" tabindex="-1"><a class="header-anchor" href="#ğŸ› ï¸-common-module-commands"><span>ğŸ› ï¸ <strong>Common <code>module</code> Commands</strong></span></a></h3><table><thead><tr><th>Command</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>module help</code></td><td>Displays help information about the <code>module</code> command, including available options and subcommands.</td><td><code>module help</code></td></tr><tr><td><code>module avail</code></td><td>Lists all available modules in the system.</td><td><code>module avail</code></td></tr><tr><td><code>module whatis &lt;modulefile&gt;</code></td><td>Shows a brief description of the specified module.</td><td><code>module whatis gcc</code></td></tr><tr><td><code>module display &lt;modulefile&gt;</code></td><td>Displays detailed information about what a module will modify in your environment (e.g., <code>PATH</code>, <code>MANPATH</code>, etc.).</td><td><code>module display gcc/10.2.0</code></td></tr><tr><td><code>module load &lt;modulefile&gt;</code></td><td>Loads the specified module and updates the environment accordingly.</td><td><code>module load gcc/10.2.0</code></td></tr><tr><td><code>module unload &lt;modulefile&gt;</code></td><td>Unloads the specified module and resets the environment.</td><td><code>module unload gcc/10.2.0</code></td></tr><tr><td><code>module list</code></td><td>Lists all currently loaded modules.</td><td><code>module list</code></td></tr><tr><td><code>module purge</code></td><td>Unloads all currently loaded modules.</td><td><code>module purge</code></td></tr><tr><td><code>module switch &lt;modulefile1&gt; &lt;modulefile2&gt;</code></td><td>This unloads one modulefile (modulefile1) and loads another (modulefile2).</td><td><code>module switch gcc/9.3.0 gcc/10.2.0</code></td></tr></tbody></table><hr><h3 id="ğŸ› ï¸-common-slurm-commands" tabindex="-1"><a class="header-anchor" href="#ğŸ› ï¸-common-slurm-commands"><span>ğŸ› ï¸ <strong>Common <code>slurm</code> Commands</strong></span></a></h3><table><thead><tr><th>Command</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>sbatch</code></td><td>Submit a job</td><td><code>sbatch job.slurm</code></td></tr><tr><td><code>squeue</code></td><td>View job status</td><td><code>squeue -u &lt;username&gt;</code></td></tr><tr><td><code>scancel</code></td><td>Cancel a job</td><td><code>scancel 12345</code></td></tr><tr><td><code>sinfo</code></td><td>View node status</td><td><code>sinfo</code></td></tr><tr><td><code>sacct</code></td><td>View job history</td><td><code>sacct -u username</code></td></tr><tr><td><code>sstat</code></td><td>View running job status</td><td><code>sstat 12345</code></td></tr><tr><td><code>scontrol</code></td><td>Manage jobs, nodes, partitions</td><td><code>scontrol show job 12345</code></td></tr><tr><td><code>sprio</code></td><td>View job priority</td><td><code>sprio</code></td></tr><tr><td><code>srun</code></td><td>Run a command interactively</td><td><code>srun --pty bash</code></td></tr><tr><td><code>sinteractive</code></td><td>Start an interactive session</td><td><code>sinteractive -n 4 -t 2:00:00 --mem=8G</code></td></tr></tbody></table><h3 id="slurm-job-scripts" tabindex="-1"><a class="header-anchor" href="#slurm-job-scripts"><span>Slurm Job Scripts</span></a></h3><p>Example</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --job-name=myjob        # ä½œä¸šå</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --output=output.txt     # æ ‡å‡†è¾“å‡ºæ–‡ä»¶</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --error=error.txt       # æ ‡å‡†é”™è¯¯è¾“å‡ºæ–‡ä»¶</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --ntasks=1              # è¿è¡Œ1ä¸ªå¹¶è¡Œä»»åŠ¡ï¼ˆé€šå¸¸æŒ‡ MPI rank æ•°ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --cpus-per-task=4      # æ¯ä¸ªä»»åŠ¡ä½¿ç”¨ 4 ä¸ªçº¿ç¨‹</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --mem=4GB               # åˆ†é…çš„å†…å­˜</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --time=01:00:00         # æœ€å¤§è¿è¡Œæ—¶é—´ï¼ˆ1å°æ—¶ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --partition=standard    # åˆ†åŒºåç§°</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --array=1-100           # æ•°ç»„ä»»åŠ¡ï¼Œå°†è¿™ä¸ªä½œä¸šæ‹†æˆ 100 ä¸ªå¹¶è¡Œå­ä»»åŠ¡ï¼ˆç¼–å·ä» 1-100ï¼‰ï¼Œå¯ç”¨äºå‚æ•°æ‰«æã€å¤§æ‰¹é‡å°ä»»åŠ¡</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#SBATCH --dependency=afterok:12345:67890  # ä¾èµ–å…³ç³» è¡¨ç¤ºå½“å‰ä½œä¸šä¼šç­‰åˆ° Job ID 12345 å’Œ 67890 æˆåŠŸç»“æŸåæ‰ä¼šæ‰§è¡Œ</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ä¸‹é¢æ˜¯å®é™…æ‰§è¡Œçš„å‘½ä»¤</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Starting my job...&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">srun</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my_program</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> arg1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> arg2</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # æ‰§è¡Œçš„ç¨‹åºåŠå‚æ•°</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="interactive-job" tabindex="-1"><a class="header-anchor" href="#interactive-job"><span>Interactive Job</span></a></h4><ul><li>åœ¨ HPC é›†ç¾¤ä¸­ï¼Œç”¨æˆ·ä¸èƒ½ç›´æ¥åœ¨ç™»å½•èŠ‚ç‚¹ï¼ˆlogin nodeï¼‰ä¸Šè¿è¡Œé‡è®¡ç®—è„šæœ¬ï¼Œå› ä¸ºè¿™æ ·ä¼šå½±å“å…¶ä»–ç”¨æˆ·ã€‚</li><li>å¦‚æœä½ å¸Œæœ›ï¼š <ul><li>æ‰‹åŠ¨è¿è¡Œä¸€ä¸ªè¾ƒå¤§çš„è„šæœ¬s l</li><li>è¿›è¡Œä»£ç æµ‹è¯•æˆ–è°ƒè¯•</li><li>å®æ—¶è§‚å¯Ÿè¿è¡Œè¿‡ç¨‹ï¼ˆè€Œä¸æ˜¯é€šè¿‡æäº¤ä½œä¸šç­‰å¾…ï¼‰</li></ul></li><li>ä½ å°±éœ€è¦ç”³è¯·ä¸€ä¸ªäº¤äº’å¼ä½œä¸š â€”â€” å®ƒä¼šæŠŠä½ â€œç™»å½•â€åˆ°ä¸€ä¸ªçœŸæ­£çš„ è®¡ç®—èŠ‚ç‚¹ï¼ˆcompute nodeï¼‰ ä¸Šã€‚</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sinteractive</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --nodes=1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --ntasks-per-node=2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>sinteractive</code></td><td>æ˜¯ SpARTan é›†ç¾¤ä¸­ç”¨æ¥ç”³è¯·äº¤äº’å¼ä½œä¸šçš„å‘½ä»¤ï¼ˆæŸäº›ç³»ç»Ÿç”¨ <code>salloc</code>ï¼‰</td></tr><tr><td><code>--nodes=1</code></td><td>ç”³è¯· 1 ä¸ªè®¡ç®—èŠ‚ç‚¹</td></tr><tr><td><code>--ntasks-per-node=2</code></td><td>æ¯ä¸ªèŠ‚ç‚¹ç”³è¯· 2 ä¸ªâ€œä»»åŠ¡â€ï¼ˆé€šå¸¸ç­‰äº CPU æ ¸å¿ƒæ•°ï¼‰</td></tr></tbody></table><h3 id="mpi-1" tabindex="-1"><a class="header-anchor" href="#mpi-1"><span>MPI</span></a></h3><p>MPI è¿›è¡Œå¹¶è¡Œç¼–ç¨‹ï¼Œè™½ç„¶æ›´å¤æ‚ã€æ›´ç¹çï¼Œä½†å®ƒèƒ½çªç ´å•æœºå†…å­˜é™åˆ¶ï¼Œå®ç°è·¨èŠ‚ç‚¹ã€è¶…å¤§è§„æ¨¡çš„å¹¶è¡Œè®¡ç®—ï¼Œæ˜¯é«˜æ€§èƒ½è®¡ç®—çš„æ ¸å¿ƒå·¥å…·ã€‚</p><h4 id="mpi4py" tabindex="-1"><a class="header-anchor" href="#mpi4py"><span>MPI4Py</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> mpi4py </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;"> MPI</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">nproc </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;"> MPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">COMM_WORLD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Get_size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è·å–é€šä¿¡å™¨çš„å¤§å°</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">iproc </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;"> MPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">COMM_WORLD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Get_rank</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è·å–å½“å‰è¿›ç¨‹çš„æ’å</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">inode </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;"> MPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Get_processor_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è·å–å½“å‰MPIè¿›ç¨‹è¿è¡Œçš„èŠ‚ç‚¹å</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> iproc </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;This code is a test for mpi4py.&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> range</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, nproc):</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">    MPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">COMM_WORLD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Barrier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åŒæ­¥æ‰€æœ‰è¿›ç¨‹</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> iproc </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i:</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Rank </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out of </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">%d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (iproc, nproc))</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">MPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Finalize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ç»“æŸMPIç¯å¢ƒ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿è¡Œ <code>srun -n 4 python mpi_hello.py</code> æ¥è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œå…¶ä¸­ <code>-n 4</code> è¡¨ç¤ºä½¿ç”¨ 4 ä¸ªè¿›ç¨‹ã€‚</li></ul><div class="language-pseudocode line-numbers-mode" data-highlighter="shiki" data-ext="pseudocode" data-title="pseudocode" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Initialize MPI environment</span></span>\n<span class="line"><span>Get total number of processes (size)</span></span>\n<span class="line"><span>Get rank of this process (rank)</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>[å¯é€‰] If rank == 0:</span></span>\n<span class="line"><span>    Prepare input data OR divide the task into chunks</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>Broadcast or scatter input/task to all processes</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>Each process:</span></span>\n<span class="line"><span>    Perform local computation on its chunk of data</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>Gather or reduce results back to root process</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>If rank == 0:</span></span>\n<span class="line"><span>    Merge results if necessary</span></span>\n<span class="line"><span>    Output final result</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>Finalize MPI environment</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="common-linux-commands" tabindex="-1"><a class="header-anchor" href="#common-linux-commands"><span>Common Linux Commands</span></a></h3><table><thead><tr><th><strong>Command</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><code>less &lt;filename&gt;</code></td><td>Displays the contents of a file in a pager.</td></tr><tr><td><code>touch &lt;filename&gt;</code></td><td>Creates an empty file. If the file already exists, it updates the file&#39;s timestamp.</td></tr><tr><td><code>source &lt;filename&gt;</code></td><td>Sources the contents of a file into the current shell environment.</td></tr><tr><td><code>scp &lt;source&gt; &lt;destination&gt;</code></td><td>Securely copies files or directories to/from a remote host.</td></tr><tr><td><code>diff &lt;file1&gt; &lt;file2&gt;</code></td><td>Compares the differences between two files.</td></tr><tr><td><code>sdiff &lt;file1&gt; &lt;file2&gt;</code></td><td>Displays the differences between two files side by side.</td></tr><tr><td><code>comm &lt;file1&gt; &lt;file2&gt;</code></td><td>Compares two sorted files and outputs common and different lines.</td></tr><tr><td><code>find &lt;path&gt; &lt;options&gt;</code></td><td>Searches for files or directories within the specified path.</td></tr><tr><td><code>grep &lt;pattern&gt; &lt;file&gt;</code></td><td>Searches for lines in a file that match a given pattern.</td></tr><tr><td><code>tar -xvfh &lt;archive&gt;</code></td><td>Extracts a <code>.tar</code> file and shows the file list.</td></tr><tr><td><code>ls -d &lt;path&gt;</code></td><td>Lists only the directory itself, not its contents.</td></tr><tr><td><code>cut &lt;options&gt;</code></td><td>Extracts specific columns from text.</td></tr><tr><td><code>paste &lt;file1&gt; &lt;file2&gt;</code></td><td>Merges the contents of two files side by side by columns.</td></tr><tr><td><code>ls | wc -l</code></td><td>Counts the number of files and directories in the current directory.</td></tr><tr><td><code>tar -xvfh &lt;archive.tar&gt;</code></td><td>Extracts a <code>.tar</code> archive and shows detailed information.</td></tr><tr><td><code>tar -cvf &lt;archive.tar&gt; &lt;files&gt;</code></td><td>Creates a <code>.tar</code> archive.</td></tr><tr><td><code>ls -l</code></td><td>Lists files in the current directory with detailed information like permissions, size, and modified time.</td></tr><tr><td><code>tar -cvf &lt;archive.tar&gt; &lt;files&gt;</code></td><td>Creates a <code>.tar</code> archive.</td></tr><tr><td><code>ls -l</code></td><td>Displays detailed information about files in the current directory.</td></tr><tr><td><code>tar -xvfh archive.tar</code></td><td>Extracts the contents of a <code>.tar</code> file and shows the files being extracted.</td></tr><tr><td><code>ls | wc -l</code></td><td>Counts the number of files and directories in the current directory.</td></tr><tr><td><code>tar -cvf archive.tar</code></td><td>Creates a <code>.tar</code> file from specified files.</td></tr><tr><td><code>ls -d */</code></td><td>Lists only the subdirectories in the current directory.</td></tr><tr><td><code>cut -f1 -d&quot;:&quot; &lt;file&gt;</code></td><td>Extracts the first column of data before the colon (ğŸ˜ƒ delimiter in a file.</td></tr></tbody></table><h2 id="week-4" tabindex="-1"><a class="header-anchor" href="#week-4"><span>Week 4</span></a></h2><table><thead><tr><th>ç‰¹æ€§</th><th>å…¬æœ‰äº‘ï¼ˆPublic Cloudï¼‰</th><th>ç§æœ‰äº‘ï¼ˆPrivate Cloud / On-Premiseï¼‰</th><th>æ··åˆäº‘ï¼ˆHybrid Cloudï¼‰</th></tr></thead><tbody><tr><td><strong>ä¼˜ç‚¹</strong></td><td>- æŒ‰éœ€è®¡è´¹ï¼ˆUtility computingï¼‰<br>- ä¸“æ³¨æ ¸å¿ƒä¸šåŠ¡<br>- æˆæœ¬æ›´ä½<br>- çµæ´»èµ„æºåˆ†é…ï¼ˆRight-sizingï¼‰<br>- æ™®æƒ è®¡ç®—</td><td>- å®Œå…¨æ§åˆ¶æƒ<br>- æ›´å¥½èµ„æºæ•´åˆ<br>- å®‰å…¨æ€§æ›´é«˜<br>- æ›´æ˜“äºå»ºç«‹ä¿¡ä»»</td><td>- äº‘çªå‘ï¼ˆCloud-burstingï¼‰èƒ½åŠ›<br>- é«˜å³°æ—¶ç”¨å…¬æœ‰äº‘ï¼Œå¹³æ—¶ç”¨ç§æœ‰äº‘<br>- å…¼é¡¾å¼¹æ€§ä¸æ§åˆ¶</td></tr><tr><td><strong>ç¼ºç‚¹</strong></td><td>- å®‰å…¨æ€§æ‹…å¿§<br>- æ§åˆ¶æƒç¼ºå¤±<br>- æ½œåœ¨å‚å•†é”å®šï¼ˆLock-inï¼‰<br>- äº‘å‚å•†å€’é—­é£é™©</td><td>- å¯èƒ½ä¸æ˜¯æ ¸å¿ƒä¸šåŠ¡ï¼ˆå¦‚ Netflix ä½¿ç”¨ Amazonï¼‰<br>- äººå‘˜/ç®¡ç†å¼€é”€<br>- ç¡¬ä»¶è€åŒ–é£é™©<br>- èµ„æºåˆ©ç”¨ç‡éš¾ä»¥è°ƒä¼˜<br>- å»ºè®¾æ•°æ®ä¸­å¿ƒæˆæœ¬é«˜</td><td>- æ•°æ®/èµ„æºè¿ç§»å¤æ‚<br>- å¦‚ä½•å®æ—¶åˆ¤æ–­æ•°æ®å¯å¦è¿›å…¬æœ‰äº‘ï¼Ÿ<br>- çŸ­æœŸéœ€æ±‚å¯èƒ½å¯¼è‡´é«˜æˆæœ¬<br>- æ˜¯å¦ç¬¦åˆåˆè§„ï¼ˆå¦‚ PCI-DSSï¼‰</td></tr><tr><td><strong>ä»£è¡¨ç¤ºä¾‹</strong></td><td>AWS, Microsoft Azure, Google Cloud</td><td>æœ¬åœ°éƒ¨ç½²ï¼šOpenStack, ç§æœ‰ VMware</td><td>Eucalyptus, VMware Cloud Foundationï¼ˆå¦‚ vSphereï¼‰</td></tr></tbody></table><table><thead><tr><th>å±‚çº§\\æ¨¡å‹</th><th><strong>On-Premises</strong>ï¼ˆæœ¬åœ°éƒ¨ç½²ï¼‰</th><th><strong>IaaS</strong>ï¼ˆåŸºç¡€è®¾æ–½å³æœåŠ¡ï¼‰</th><th><strong>PaaS</strong>ï¼ˆå¹³å°å³æœåŠ¡ï¼‰</th><th><strong>SaaS</strong>ï¼ˆè½¯ä»¶å³æœåŠ¡ï¼‰</th></tr></thead><tbody><tr><td><strong>ç”¨æˆ·è´Ÿè´£éƒ¨åˆ†</strong></td><td>æ‰€æœ‰ç¡¬ä»¶å’Œè½¯ä»¶å±‚çº§</td><td>åº”ç”¨ã€æ•°æ®ã€è¿è¡Œæ—¶ã€ä¸­é—´ä»¶ç­‰</td><td>åº”ç”¨å’Œæ•°æ®</td><td>ä»…ä½¿ç”¨åº”ç”¨</td></tr><tr><td><strong>å‚å•†è´Ÿè´£éƒ¨åˆ†</strong></td><td>æ— </td><td>è™šæ‹Ÿæœºã€å­˜å‚¨ã€ç½‘ç»œ</td><td>åŠ ä¸Šè¿è¡Œæ—¶ã€ä¸­é—´ä»¶ã€æ“ä½œç³»ç»Ÿ</td><td>å…¨éƒ¨ï¼šä»ç¡¬ä»¶åˆ°åº”ç”¨</td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>æœ€é«˜</td><td>é«˜</td><td>ä¸­</td><td>æœ€ä½</td></tr><tr><td><strong>ç»´æŠ¤è´Ÿæ‹…</strong></td><td>æœ€å¤§ï¼ˆè‡ªå»ºæœºæˆ¿ã€è‡ªç®¡ä¸€åˆ‡ï¼‰</td><td>ä¸­</td><td>å°</td><td>æå°ï¼ˆå‡ ä¹æ— ç»´æŠ¤ï¼‰</td></tr><tr><td><strong>æ§åˆ¶æƒ</strong></td><td>å®Œå…¨æ§åˆ¶</td><td>è¾ƒå¤šæ§åˆ¶æƒ</td><td>ä¸­ç­‰æ§åˆ¶æƒ</td><td>å‡ ä¹æ— æ§åˆ¶æƒ</td></tr><tr><td><strong>é€‚åˆå¯¹è±¡</strong></td><td>ä¼ä¸šå†…éƒ¨ä¸“å± ITã€ç›‘ç®¡ä¸¥æ ¼ã€ä¼ ç»Ÿç³»ç»Ÿ</td><td>éœ€è¦çµæ´»åŸºç¡€è®¾æ–½çš„å¤§å‹é¡¹ç›®</td><td>å¼€å‘è€…æ„å»º Web/App ç³»ç»Ÿ</td><td>æœ€ç»ˆç”¨æˆ·æˆ–ä¼ä¸šç›´æ¥ç”¨ç°æˆç³»ç»Ÿ</td></tr><tr><td><strong>ç¤ºä¾‹</strong></td><td>è‡ªå»ºæ•°æ®ä¸­å¿ƒã€ä¼ ç»ŸæœåŠ¡å™¨éƒ¨ç½²</td><td>AWS EC2ã€Google Compute Engine</td><td>Google App Engineã€Amazon Elastic MapReduce</td><td>Gmailã€Microsoft Office 365</td></tr></tbody></table><h3 id="openstack" tabindex="-1"><a class="header-anchor" href="#openstack"><span>OpenStack</span></a></h3><ul><li>Open Source: OpenStack is a completely open-source cloud computing platform, and anyone can download, install, and modify the source code. It allows enterprises to build and manage their own cloud infrastructure in private data centers with full control.</li><li>Deployment: OpenStack is typically deployed on an organization&#39;s own hardware or can be deployed on any supported hardware (including virtual machines). Therefore, it is suitable for private cloud and hybrid cloud deployments.</li><li>Highly Customizable: Being open-source, OpenStack allows users to highly customize according to their needs.</li><li>Primarily provides Infrastructure as a Service (IaaS) functionalities such as computing, storage, and networking.</li><li>Requires enterprises to manage and maintain their services themselves.</li></ul><figure><img src="'+n+'" alt="OpenStack Architecture from User&#39;s Perspective" tabindex="0" loading="lazy"><figcaption>OpenStack Architecture from User&#39;s Perspective</figcaption></figure><table><thead><tr><th>ç»„ä»¶</th><th>åŠŸèƒ½æ¦‚è¿°</th><th>å…³é”®æ¨¡å— / ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>Keystone</strong></td><td>è®¤è¯ä¸æˆæƒæœåŠ¡ï¼ˆAuthN/AuthZï¼‰ï¼Œç”¨æˆ·ä¸æƒé™ç®¡ç†ï¼ŒæœåŠ¡ç›®å½•</td><td>- ç”¨æˆ·ã€è§’è‰²ã€é¡¹ç›®ã€æœåŠ¡æ³¨å†Œ<br>- ç»Ÿä¸€èº«ä»½ç®¡ç†ç³»ç»Ÿ<br>- æ”¯æŒ Token è®¤è¯</td></tr><tr><td><strong>Horizon</strong></td><td>Web å›¾å½¢ç•Œé¢ï¼ŒOpenStack çš„è‡ªåŠ©æœåŠ¡é—¨æˆ·</td><td>- åŸºäº Python/Django<br>- ä¾èµ– Keystoneã€Novaã€Glanceã€Neutron ç­‰<br>- ä½¿ç”¨ Apache + mod_wsgi</td></tr><tr><td><strong>Nova</strong></td><td>ç®¡ç†è™šæ‹Ÿæœºç”Ÿå‘½å‘¨æœŸï¼ˆCompute æœåŠ¡ï¼‰</td><td>- <code>nova-api</code>: æ¥æ”¶ç”¨æˆ· API è¯·æ±‚<br>- <code>nova-compute</code>: è°ƒç”¨ hypervisor å¯åœ VM<br>- <code>nova-scheduler</code>: é€‰æ‹©ä¸»æœºéƒ¨ç½² VM<br>- <code>nova-conductor</code>: åè°ƒæ•°æ®åº“/é•œåƒç­‰èµ„æº<br>- <code>nova-network</code>ï¼ˆè€ç‰ˆï¼‰: ç½‘ç»œç®¡ç†ï¼ˆç°åœ¨ç”¨ Neutronï¼‰</td></tr><tr><td><strong>Glance</strong></td><td>é•œåƒæœåŠ¡ï¼šå­˜å‚¨å’Œåˆ†å‘ VM é•œåƒåŠå…ƒæ•°æ®</td><td>- <code>glance-api</code>: é•œåƒè·å–ã€å­˜å‚¨<br>- <code>glance-registry</code>: é•œåƒå…ƒæ•°æ®ç®¡ç†</td></tr><tr><td><strong>Swift</strong></td><td>å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼šå­˜å‚¨éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ VM é•œåƒã€å¤‡ä»½ç­‰ï¼‰</td><td>- åŸºäº REST API<br>- é POSIX æ–‡ä»¶ç³»ç»Ÿ<br>- æ•°æ®è‡ªåŠ¨å¤åˆ¶ï¼Œå®¹é”™æ€§å¼º<br>- ä¸ä¾èµ–å…¶ä»–æœåŠ¡ï¼Œå¯ç‹¬ç«‹ä½¿ç”¨</td></tr><tr><td><strong>Cinder</strong></td><td>å—å­˜å‚¨æœåŠ¡ï¼šä¸º VM æä¾›æŒä¹…å­˜å‚¨å·</td><td>- <code>cinder-api</code>: æ¥æ”¶è¯·æ±‚<br>- <code>cinder-volume</code>: ä¸å­˜å‚¨åç«¯äº¤äº’<br>- <code>cinder-scheduler</code>: åˆ†é…å·èµ„æº<br>- <code>cinder-backup</code>: å·å¤‡ä»½</td></tr><tr><td><strong>Neutron</strong></td><td>ç½‘ç»œæœåŠ¡ï¼šä¸º VM æä¾›è™šæ‹Ÿç½‘ç»œè¿æ¥</td><td>- <code>neutron-server</code>: æ¥æ”¶ç½‘ç»œè¯·æ±‚<br>- æ’ä»¶å¼æ¶æ„ï¼ˆæ”¯æŒ Open vSwitchã€Linux Bridge ç­‰ï¼‰<br>- ç®¡ç† IPã€ç«¯å£ã€å®‰å…¨ç»„ã€è·¯ç”±å™¨ç­‰</td></tr><tr><td><strong>Heat</strong></td><td>åŸºäºæ¨¡æ¿çš„ç¼–æ’æœåŠ¡ï¼šéƒ¨ç½²å’Œç®¡ç†äº‘ç«¯åº”ç”¨</td><td>- æ¨¡æ¿ = stack çš„è“å›¾<br>- æ”¯æŒ Ansibleã€Chefã€Puppet é›†æˆ<br>- ç±»ä¼¼ AWS CloudFormation</td></tr></tbody></table><h3 id="mrc-research-cloud" tabindex="-1"><a class="header-anchor" href="#mrc-research-cloud"><span>MRC Research Cloud</span></a></h3><h4 id="horizon-dashboard" tabindex="-1"><a class="header-anchor" href="#horizon-dashboard"><span>Horizon Dashboard</span></a></h4><table><thead><tr><th>æ¨¡å—åˆ†ç±»</th><th>åŠŸèƒ½é¡¹</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>é¡¹ç›®ç®¡ç†</strong></td><td>Project</td><td>äº‘ä¸­çš„ç»„ç»‡å•å…ƒï¼ˆä¹Ÿç§° Tenantï¼‰ï¼Œæ¯ä¸ªç”¨æˆ·å¯ä»¥å±äºä¸€ä¸ªæˆ–å¤šä¸ªé¡¹ç›®ï¼Œç”¨æˆ·åœ¨é¡¹ç›®ä¸­åˆ›å»ºå’Œç®¡ç†èµ„æºã€‚</td></tr><tr><td><strong>è®¡ç®—</strong></td><td>Overview</td><td>æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µï¼ˆå¦‚ CPUã€å†…å­˜ã€ç£ç›˜ç­‰é…é¢å’Œä½¿ç”¨é‡ï¼‰ã€‚</td></tr><tr><td></td><td>Instances</td><td>å¯åŠ¨ã€è¿æ¥ã€ç®¡ç†è™šæ‹Ÿæœºå®ä¾‹ï¼ˆé€šè¿‡ VNC æˆ– SSH ç™»å½•ï¼‰ã€‚</td></tr><tr><td></td><td>Images</td><td>ç®¡ç†é•œåƒå’Œå¿«ç…§ï¼Œç”¨äºåˆ›å»ºå®ä¾‹ã€‚</td></tr><tr><td></td><td>Key Pairs</td><td>ç®¡ç† SSH å¯†é’¥å¯¹ï¼Œç”¨äºç™»å½•å®ä¾‹ï¼š<br> - å¯åœ¨ä»ªè¡¨ç›˜ä¸­ç”Ÿæˆ<br> - æˆ–ç”¨å‘½ä»¤ <code>ssh-keygen</code> ç”Ÿæˆåå¯¼å…¥å…¬é’¥</td></tr><tr><td></td><td></td><td><strong>æ³¨æ„ï¼šåˆ‡å‹¿åˆ†äº«ç§é’¥ï¼›ç¡®ä¿ç§é’¥æƒé™ä¸º 600</strong>ï¼ˆå¦åˆ™æ— æ³•è¿æ¥å®ä¾‹ï¼‰</td></tr><tr><td><strong>å­˜å‚¨</strong></td><td>Volumes</td><td>å—å­˜å‚¨ç®¡ç†ï¼šåˆ›å»ºã€æŒ‚è½½ã€å¸è½½å’Œåˆ é™¤å·ã€‚</td></tr><tr><td></td><td>Backups</td><td>å·çš„å¤‡ä»½å‰¯æœ¬ï¼ˆé€‚ç”¨äºç¾éš¾æ¢å¤ï¼Œå­˜å‚¨äºä¸åŒåç«¯ï¼‰ã€‚</td></tr><tr><td></td><td>Snapshots</td><td>å·çš„å¿«ç…§ï¼ˆå¿«é€Ÿåˆ›å»ºå‰¯æœ¬æˆ–å›æ»šï¼‰ï¼›ä¾èµ–å½“å‰å­˜å‚¨åç«¯ã€‚</td></tr><tr><td></td><td>Multi-Attach</td><td>æ”¯æŒä¸€ä¸ªå·æŒ‚è½½åˆ°å¤šä¸ªè™šæ‹Ÿæœºä¸Šï¼ˆé©±åŠ¨éœ€æ”¯æŒï¼‰ã€‚</td></tr><tr><td></td><td>Volume Expansion</td><td>å·çš„åœ¨çº¿æ‰©å®¹åŠŸèƒ½ã€‚</td></tr><tr><td><strong>ç½‘ç»œ</strong></td><td>Network Topology</td><td>å¯è§†åŒ–æ˜¾ç¤ºç½‘ç»œç»“æ„ï¼ˆå®ä¾‹ã€è·¯ç”±å™¨ã€ç½‘ç»œè¿æ¥ç­‰ï¼‰ã€‚</td></tr><tr><td></td><td>Networks</td><td>åˆ›å»º/ç®¡ç†ç§æœ‰ç½‘ç»œæˆ–è¿æ¥åˆ°å…¬ç½‘ã€‚</td></tr><tr><td></td><td>Routers</td><td>ç®¡ç†è·¯ç”±å™¨ï¼Œç”¨äºè¿æ¥ç§ç½‘ä¸å…¬ç½‘ã€‚</td></tr><tr><td></td><td>Security Groups</td><td>ç®¡ç†è™šæ‹Ÿé˜²ç«å¢™è§„åˆ™ï¼Œæ§åˆ¶å®ä¾‹å…¥/å‡ºç«¯å£ï¼ˆå¦‚ SSHã€HTTPï¼‰ã€‚</td></tr><tr><td></td><td>Floating IPs</td><td>ç»‘å®šæˆ–é‡Šæ”¾å…¬ç½‘ IPï¼Œä½¿å®ä¾‹å¯è¢«å¤–éƒ¨è®¿é—®ã€‚</td></tr></tbody></table><h4 id="lauching-a-vm" tabindex="-1"><a class="header-anchor" href="#lauching-a-vm"><span>Lauching a VM</span></a></h4><table><thead><tr><th><strong>è®¾ç½®ç±»åˆ«</strong></th><th><strong>å­—æ®µ</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>Details</strong></td><td>Instance Name</td><td>è™šæ‹Ÿæœºå®ä¾‹åç§°ï¼ˆ&lt; 63å­—ç¬¦ï¼‰ï¼Œä¹Ÿæ˜¯ä¸»æœºå</td></tr><tr><td></td><td>Description (optional)</td><td>å®ä¾‹çš„ç®€è¦æè¿°ï¼ˆå¯é€‰ï¼‰</td></tr><tr><td></td><td>Availability Zone</td><td>é€šå¸¸é€‰æ‹©é»˜è®¤ <code>melbourne-qh2-uom</code></td></tr><tr><td></td><td>Count</td><td>å¯åŠ¨çš„å®ä¾‹æ•°é‡ï¼Œå¯ä¸€æ¬¡å¯åŠ¨å¤šä¸ªç›¸åŒé…ç½®å®ä¾‹</td></tr><tr><td><strong>Source</strong></td><td>Select Boot Source</td><td>é€‰æ‹©å¯åŠ¨æ–¹å¼ï¼Œå¸¸ç”¨ä¸º <code>Image</code></td></tr><tr><td></td><td>Image Name</td><td>æ¨èé•œåƒï¼šNeCTAR Ubuntu 22.04 LTS (Jammy) amd64</td></tr><tr><td><strong>Flavor</strong></td><td>Flavor</td><td>åˆ†é…çš„è®¡ç®—èµ„æºï¼ˆCPUã€RAMã€ç£ç›˜ï¼‰ï¼Œéœ€åœ¨é¡¹ç›®é…é¢èŒƒå›´å†…</td></tr><tr><td><strong>Network</strong></td><td>Network</td><td>ä½¿ç”¨é»˜è®¤ç½‘ç»œï¼Œåˆ†é…ç§æœ‰ IPï¼›æ ¡å¤–éœ€ VPN æ‰èƒ½è®¿é—®</td></tr><tr><td></td><td>å¤šç½‘ç»œæ”¯æŒ</td><td>å½“å‰é¡¹ç›®ä¸æ”¯æŒå¤šä¸ªç½‘ç»œè¿æ¥</td></tr><tr><td><strong>Security Groups</strong></td><td>Security Group</td><td>é»˜è®¤ç»„å…è®¸ä»ä»»æ„ä½ç½®é€šè¿‡ç«¯å£22è¿æ¥ï¼ˆSSHï¼‰</td></tr><tr><td><strong>Key Pair</strong></td><td>Key Pair</td><td><strong>å¿…é¡»é€‰æ‹©</strong>ä¸€ä¸ªå¯†é’¥å¯¹ï¼Œå¦åˆ™æ— æ³•è®¿é—®è™šæ‹Ÿæœº</td></tr><tr><td><strong>SSHè¿æ¥</strong></td><td>Private Key</td><td>ä½¿ç”¨ç§é’¥æ–‡ä»¶è¿æ¥è™šæ‹Ÿæœº</td></tr><tr><td></td><td>ç¤ºä¾‹å‘½ä»¤</td><td><code>ssh -i mykeypair ubuntu@&lt;hostname&gt;</code></td></tr><tr><td><strong>è½¯ä»¶å®‰è£…ï¼ˆå¯é€‰ï¼‰</strong></td><td>å®‰è£… Apache</td><td><code>sudo apt update &amp;&amp; sudo apt install -y apache2</code></td></tr><tr><td></td><td>æµ‹è¯•æ˜¯å¦è¿è¡Œ</td><td><code>curl localhost</code>ï¼ˆåº”è¿”å›ç½‘é¡µå†…å®¹ï¼‰</td></tr></tbody></table><h4 id="volume-storage" tabindex="-1"><a class="header-anchor" href="#volume-storage"><span>Volume Storage</span></a></h4><table><thead><tr><th><strong>æ­¥éª¤</strong></th><th><strong>æ“ä½œ/å‘½ä»¤</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>1ï¸âƒ£</td><td>Attach Volume</td><td>åœ¨ Horizon ç•Œé¢ä¸­ï¼Œå°† Volume é™„åŠ åˆ°ä¸€ä¸ªè™šæ‹Ÿæœºå®ä¾‹ä¸Š</td></tr><tr><td>2ï¸âƒ£</td><td><code>sudo fdisk -l</code></td><td>æŸ¥çœ‹æŒ‚è½½çš„å·è®¾å¤‡åç§°ï¼ˆä¾‹å¦‚ <code>/dev/vdb</code>ï¼‰</td></tr><tr><td>3ï¸âƒ£</td><td><code>sudo mkfs.ext4 /dev/vdb</code></td><td>æ ¼å¼åŒ–å·ä¸º ext4 æ–‡ä»¶ç³»ç»Ÿï¼ˆ<strong>ä»…é¦–æ¬¡ä½¿ç”¨</strong>æ—¶æ‰§è¡Œï¼‰</td></tr><tr><td>4ï¸âƒ£</td><td><code>sudo mkdir /mnt/demo</code></td><td>åˆ›å»ºä¸€ä¸ªæŒ‚è½½ç‚¹ç›®å½•ï¼ˆä½ æƒ³æŠŠè¿™ä¸ªç›˜æŒ‚åˆ°å“ªé‡Œï¼‰</td></tr><tr><td>5ï¸âƒ£</td><td><code>sudo mount /dev/vdb /mnt/demo</code></td><td>å°†å·æŒ‚è½½åˆ°è¯¥ç›®å½•ä¸‹</td></tr><tr><td>6ï¸âƒ£</td><td><code>df -h</code></td><td>æŸ¥çœ‹å½“å‰æŒ‚è½½æƒ…å†µå’Œç£ç›˜ä½¿ç”¨æƒ…å†µï¼ˆéªŒè¯æŒ‚è½½æ˜¯å¦æˆåŠŸï¼‰</td></tr></tbody></table><h4 id="æˆ–è€…å¯ä»¥ä½¿ç”¨openstack-cli-osc-å®Œæˆä»¥ä¸Šæ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#æˆ–è€…å¯ä»¥ä½¿ç”¨openstack-cli-osc-å®Œæˆä»¥ä¸Šæ­¥éª¤"><span>æˆ–è€…å¯ä»¥ä½¿ç”¨Openstack CLI(OSC)å®Œæˆä»¥ä¸Šæ­¥éª¤</span></a></h4><table><thead><tr><th><strong>æ“ä½œ</strong></th><th><strong>å‘½ä»¤</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>âœ… 1. åŠ è½½ OpenRC æ–‡ä»¶</td><td><code>source ./&lt;your-openrc-file&gt;</code></td><td>è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œè¿æ¥ä½ çš„ OpenStack é¡¹ç›®</td></tr><tr><td>ğŸ–¥ï¸ 2. åˆ›å»ºè™šæ‹Ÿæœºå®ä¾‹</td><td><code>openstack server create --image 49f677df-01e5-45c9-9611-609ef21f60e1 --flavor uom.general.1c4g --network f0c86d08-d45b-45c4-9216-b8abd6bc133c --key-name id_alwyn --availability-zone melbourne-qh2-uom demo2</code></td><td>é€šè¿‡æŒ‡å®šé•œåƒã€é…ç½®ã€ç½‘ç»œã€å¯†é’¥ã€å¯ç”¨åŸŸåˆ›å»ºåä¸º <code>demo2</code> çš„å®ä¾‹</td></tr><tr><td>ğŸ’½ 3. åˆ›å»ºå·</td><td><code>openstack volume create --size 10 --type performance --availability-zone melbourne-qh2-uom demo2-volume</code></td><td>åˆ›å»º 10GB æ€§èƒ½å‹å·ï¼Œå‘½åä¸º <code>demo2-volume</code></td></tr><tr><td>ğŸ”— 4. å°†å·æŒ‚è½½åˆ°å®ä¾‹</td><td><code>openstack server add volume demo2 demo2-volume</code></td><td>å°†åˆšåˆšåˆ›å»ºçš„å·æŒ‚è½½åˆ°å®ä¾‹ <code>demo2</code></td></tr><tr><td>ğŸ” 5. åˆ›å»ºå®‰å…¨ç»„</td><td><code>openstack security group create demo2-sg</code></td><td>æ–°å»ºä¸€ä¸ªåä¸º <code>demo2-sg</code> çš„å®‰å…¨ç»„</td></tr><tr><td>ğŸ”“ 6. æ·»åŠ å®‰å…¨è§„åˆ™ï¼ˆå¼€æ”¾ç«¯å£ï¼‰</td><td><code>openstack security group rule create --protocol tcp --dst-port 80 --remote-ip 0.0.0.0/0 demo2-sg</code></td><td>å‘ <code>demo2-sg</code> æ·»åŠ å…è®¸å¤–éƒ¨è®¿é—®ç«¯å£ 80 çš„è§„åˆ™ï¼ˆç”¨äº Web æœåŠ¡ï¼‰</td></tr><tr><td>ğŸ“ 7. å°†å®‰å…¨ç»„é™„åŠ åˆ°å®ä¾‹</td><td><code>openstack server add security group demo2 demo2-sg</code></td><td>æŠŠå®‰å…¨ç»„ <code>demo2-sg</code> ç»‘å®šåˆ°å®ä¾‹ <code>demo2</code> ä¸Š</td></tr></tbody></table><h2 id="week-5" tabindex="-1"><a class="header-anchor" href="#week-5"><span>Week 5</span></a></h2><table><thead><tr><th><strong>Feature</strong></th><th><strong>Docker Engine (Containerization)</strong></th><th><strong>Hypervisor (Virtualization)</strong></th></tr></thead><tbody><tr><td><strong>Boot time</strong></td><td>Seconds</td><td>Minutes</td></tr><tr><td><strong>Startup overhead</strong></td><td>Very low (shares host OS kernel)</td><td>High (boots a full OS per VM)</td></tr><tr><td><strong>Disk usage</strong></td><td>Small (MBs to a few hundred MBs)</td><td>Large (GBs per VM image)</td></tr><tr><td><strong>Memory usage</strong></td><td>Low (shared libraries, no full OS)</td><td>High (each VM needs its own OS RAM)</td></tr><tr><td><strong>Performance</strong></td><td>Near-native</td><td>Slightly slower due to hardware emulation</td></tr><tr><td><strong>Isolation level</strong></td><td>Process-level (namespaces, cgroups)</td><td>Full OS isolation (stronger, heavier)</td></tr></tbody></table><table><thead><tr><th><strong>æ¶æ„æ–¹å¼</strong></th><th><strong>æ¦‚å¿µ</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>Bare Metalï¼ˆè£¸é‡‘å±ï¼‰</strong></td><td>ç›´æ¥åœ¨ç‰©ç†æœåŠ¡å™¨ä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿå’Œåº”ç”¨ï¼Œæ— è™šæ‹ŸåŒ–æˆ–å®¹å™¨å±‚ã€‚</td><td>- æœ€é«˜æ€§èƒ½å’Œæœ€ä½å»¶è¿Ÿ<br>- å®Œå…¨æ§åˆ¶ç¡¬ä»¶<br>- èµ„æºæ— é¢å¤–å¼€é”€</td><td>- éƒ¨ç½²å’Œç»´æŠ¤å¤æ‚<br>- èµ„æºåˆ©ç”¨ç‡ä½<br>- ç¼ºä¹çµæ´»æ€§å’Œå¼¹æ€§</td><td>é«˜æ€§èƒ½è®¡ç®—ã€å¤§å‹æ•°æ®åº“ã€å¯¹æ€§èƒ½è¦æ±‚æé«˜çš„åº”ç”¨</td></tr><tr><td><strong>Virtualizedï¼ˆè™šæ‹ŸåŒ–ï¼‰</strong></td><td>åœ¨ç‰©ç†æœåŠ¡å™¨ä¸Šè¿è¡ŒHypervisorï¼Œæ‰˜ç®¡å¤šä¸ªè™šæ‹Ÿæœºï¼Œæ¯ä¸ªè™šæ‹Ÿæœºè¿è¡Œç‹¬ç«‹æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ã€‚</td><td>- è‰¯å¥½çš„èµ„æºéš”ç¦»<br>- å¤šä¸ªæ“ä½œç³»ç»Ÿæ”¯æŒ<br>- çµæ´»éƒ¨ç½²å’Œè¿ç§»</td><td>- è™šæ‹ŸåŒ–å¼€é”€ï¼Œæ€§èƒ½ä½äºè£¸é‡‘å±<br>- å¯åŠ¨æ—¶é—´è¾ƒé•¿<br>- èµ„æºå ç”¨è¾ƒé«˜</td><td>äº‘æœåŠ¡ï¼ˆIaaSï¼‰ã€å¼‚æ„ç¯å¢ƒã€å¼€å‘æµ‹è¯•</td></tr><tr><td><strong>Containerizedï¼ˆå®¹å™¨åŒ–ï¼‰</strong></td><td>ç‰©ç†æœåŠ¡å™¨è¿è¡Œä¸»æœºæ“ä½œç³»ç»Ÿï¼Œå®¹å™¨å¼•æ“è¿è¡Œå¤šä¸ªè½»é‡çº§å®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨å°è£…ä¸€ä¸ªåº”ç”¨ã€‚</td><td>- å¯åŠ¨å¿«ï¼Œèµ„æºåˆ©ç”¨é«˜<br>- æ˜“äºéƒ¨ç½²å’Œæ‰©å±•<br>- è½»é‡çº§éš”ç¦»</td><td>- å®¹å™¨é—´éš”ç¦»è¾ƒè™šæ‹Ÿæœºå¼±<br>- å…±äº«å†…æ ¸å¯èƒ½å¯¼è‡´å®‰å…¨éšæ‚£</td><td>å¾®æœåŠ¡æ¶æ„ã€DevOpsã€CI/CDã€äº‘åŸç”Ÿåº”ç”¨</td></tr><tr><td><strong>Containerized on Virtualizedï¼ˆè™šæ‹ŸåŒ–ä¸Šçš„å®¹å™¨åŒ–ï¼‰</strong></td><td>åœ¨è™šæ‹Ÿæœºä¸Šè¿è¡Œå®¹å™¨å¼•æ“ï¼Œå†ç”±å®¹å™¨è¿è¡Œåº”ç”¨ï¼Œå®ç°åŒå±‚éš”ç¦»å’Œç®¡ç†ã€‚</td><td>- è™šæ‹Ÿæœºæä¾›å¼ºéš”ç¦»<br>- å®¹å™¨å¸¦æ¥è½»é‡çº§éƒ¨ç½²ä¼˜åŠ¿<br>- é€‚åˆå¤šç§Ÿæˆ·</td><td>- åŒé‡å¼€é”€ï¼Œèµ„æºåˆ©ç”¨ç‡ä½äºçº¯å®¹å™¨<br>- ç®¡ç†å¤æ‚åº¦è¾ƒé«˜</td><td>ä¼ä¸šå¤šç§Ÿæˆ·ç¯å¢ƒã€éœ€è¦åŒæ—¶å…¼é¡¾å®‰å…¨ä¸å¼¹æ€§çš„åœºæ™¯</td></tr></tbody></table><h3 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>Docker</span></a></h3><table><thead><tr><th>åç§°</th><th>å®šä¹‰ä¸ä½œç”¨</th></tr></thead><tbody><tr><td><strong>Containerï¼ˆå®¹å™¨ï¼‰</strong></td><td>ä¸€ä¸ªè¿›ç¨‹ï¼Œè¡Œä¸ºç±»ä¼¼äºç‹¬ç«‹æœºå™¨ï¼›æ˜¯é•œåƒçš„è¿è¡Œæ—¶å®ä¾‹ã€‚</td></tr><tr><td><strong>Imageï¼ˆé•œåƒï¼‰</strong></td><td>å®¹å™¨çš„è“å›¾ï¼ŒåŒ…å«æ–‡ä»¶ç³»ç»Ÿå’Œè¿è¡Œæ‰€éœ€ç¯å¢ƒã€‚</td></tr><tr><td><strong>Layerï¼ˆå±‚ï¼‰</strong></td><td>é•œåƒä¸­çš„ä¿®æ”¹ï¼Œæ¯æ¡ Dockerfile æŒ‡ä»¤å½¢æˆä¸€ä¸ªå±‚ã€‚</td></tr><tr><td><strong>Dockerfile</strong></td><td>æ„å»ºé•œåƒçš„â€œé…æ–¹â€ï¼ŒåŒ…å«æ‰€æœ‰æ„å»ºæŒ‡ä»¤ã€‚</td></tr><tr><td><strong>Buildï¼ˆæ„å»ºï¼‰</strong></td><td>æ„å»º Docker é•œåƒçš„è¿‡ç¨‹ï¼Œä¾æ® Dockerfileã€‚</td></tr><tr><td><strong>Registryï¼ˆé•œåƒä»“åº“ï¼‰</strong></td><td>å­˜å‚¨é•œåƒä»“åº“çš„æ‰˜ç®¡æœåŠ¡ï¼Œå¦‚ Docker Hubã€‚</td></tr><tr><td><strong>Docker Hub</strong></td><td>Docker çš„å®˜æ–¹é›†ä¸­é•œåƒä»“åº“å’Œç®¡ç†å¹³å°ã€‚</td></tr><tr><td><strong>Repositoryï¼ˆä»“åº“ï¼‰</strong></td><td>æŸä¸ªé•œåƒåŠå…¶ä¸åŒç‰ˆæœ¬ï¼ˆtagï¼‰çš„é›†åˆã€‚</td></tr><tr><td><strong>Tagï¼ˆæ ‡ç­¾ï¼‰</strong></td><td>é•œåƒçš„ç‰ˆæœ¬æ ‡è¯†ï¼Œé»˜è®¤æ˜¯ <code>latest</code>ã€‚</td></tr><tr><td><strong>Compose</strong></td><td>ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šä¸ªå®¹å™¨ç»„æˆçš„åº”ç”¨çš„å·¥å…·ï¼ˆé€šè¿‡ <code>docker-compose.yml</code> æ–‡ä»¶ï¼‰ã€‚</td></tr></tbody></table><h3 id="persistence-data-in-docker" tabindex="-1"><a class="header-anchor" href="#persistence-data-in-docker"><span>Persistence data in Docker</span></a></h3><h4 id="docker-has-two-options-for-containers-to-store-files-on-the-host-machine-so-that-the-files-are-persisted-even-after-the-container-stops" tabindex="-1"><a class="header-anchor" href="#docker-has-two-options-for-containers-to-store-files-on-the-host-machine-so-that-the-files-are-persisted-even-after-the-container-stops"><span>Docker has two options for containers to store files on the host machine, so that the files are persisted even after the container stops.</span></a></h4><table><thead><tr><th>ç‰¹æ€§</th><th>Docker Volumes</th><th>Bind Mounts</th></tr></thead><tbody><tr><td><strong>ç®¡ç†æ–¹å¼</strong></td><td>ç”± Docker ç®¡ç†</td><td>ç”±ç”¨æˆ·æ‰‹åŠ¨ç®¡ç†</td></tr><tr><td><strong>é»˜è®¤ä½ç½®</strong></td><td><code>/var/lib/docker/volumes/</code></td><td>ä»»æ„è·¯å¾„ï¼ˆå¦‚ <code>/home/user/data</code>ï¼‰</td></tr><tr><td><strong>åˆ›å»ºæ–¹å¼</strong></td><td>ä½¿ç”¨ <code>docker volume create</code> å‘½ä»¤</td><td>åœ¨è¿è¡Œå®¹å™¨æ—¶æŒ‡å®š <code>-v /host/path:/container/path</code></td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>æ›´å®‰å…¨ï¼ŒDocker å¯ä»¥æ§åˆ¶è®¿é—®</td><td>å¯èƒ½å—ä¸»æœºç›®å½•ç»“æ„å’Œæƒé™å½±å“</td></tr><tr><td><strong>å¯ç§»æ¤æ€§</strong></td><td>æ›´å¥½ï¼Œå®¹æ˜“åœ¨å¤šä¸»æœºæˆ–å·¥å…·é—´è¿ç§»</td><td>å·®ï¼Œè·¯å¾„ä¾èµ–å…·ä½“ä¸»æœº</td></tr><tr><td><strong>å¸¸è§ç”¨é€”</strong></td><td>æ•°æ®åº“å­˜å‚¨ã€æ—¥å¿—ã€æŒä¹…åŒ–æ•°æ®</td><td>å¼€å‘é˜¶æ®µæŒ‚è½½æºä»£ç ã€é…ç½®æ–‡ä»¶</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>é€šå¸¸ç•¥å¿«ï¼Œå› ä¸º Docker ä¼˜åŒ–äº†æŒ‚è½½è·¯å¾„</td><td>æ€§èƒ½å–å†³äºæŒ‚è½½ç›®å½•æ‰€åœ¨çš„æ–‡ä»¶ç³»ç»Ÿ</td></tr></tbody></table><h3 id="docker-networking" tabindex="-1"><a class="header-anchor" href="#docker-networking"><span>Docker networking</span></a></h3><table><thead><tr><th>ç½‘ç»œæ¨¡å¼</th><th>ç‰¹ç‚¹ä¸æè¿°</th></tr></thead><tbody><tr><td><strong>host</strong></td><td>å®¹å™¨ä¸å®¿ä¸»æœºå…±ç”¨ç½‘ç»œæ ˆï¼ˆåŒä¸€ IPï¼‰ï¼Œ<strong>ä¸èƒ½ç«¯å£å¤ç”¨</strong>ã€‚é€‚ç”¨äº <strong>Linux ä¸Šçš„ Docker Engine</strong>ï¼ˆä¸é€‚ç”¨äº Docker Desktopï¼‰ã€‚</td></tr><tr><td><strong>bridge</strong></td><td>é»˜è®¤ç½‘ç»œæ¨¡å¼ï¼Œ<strong>æ¯ä¸ªå®¹å™¨æœ‰ç‹¬ç«‹ IP</strong>ï¼Œå¯ä»¥é€šè¿‡ç«¯å£æ˜ å°„è®©å¤–éƒ¨è®¿é—®ã€‚å®¹å™¨é—´å¯é€šä¿¡ã€‚é€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯ã€‚</td></tr><tr><td><strong>none</strong></td><td>å®¹å™¨æ— ç½‘ç»œè¿æ¥ï¼Œ<strong>å®Œå…¨éš”ç¦»</strong>ï¼Œæ—¢æ— æ³•è®¿é—®å¤–éƒ¨ï¼Œä¹Ÿæ— æ³•è¢«è®¿é—®ã€‚ç”¨äºæµ‹è¯•ã€æœ€å¤§éš”ç¦»ç­‰éœ€æ±‚ã€‚</td></tr><tr><td><strong>overlay</strong></td><td>ç”¨äº <strong>å¤šä¸»æœºç½‘ç»œé€šä¿¡</strong>ï¼Œæ”¯æŒåœ¨ Docker Swarm ä¸­è·¨ä¸»æœºè¿æ¥å®¹å™¨ã€‚é€‚åˆåˆ†å¸ƒå¼éƒ¨ç½²ã€‚</td></tr><tr><td><strong>macvlan</strong></td><td>å®¹å™¨åœ¨ç‰©ç†ç½‘ç»œä¸­<strong>æ‹¥æœ‰ç‹¬ç«‹ IP</strong>ï¼Œè¡¨ç°å¾—åƒä¸€å°çœŸæ­£çš„ä¸»æœºã€‚é€‚ç”¨äºå¯¹ç½‘ç»œè¦æ±‚ä¸¥æ ¼çš„åœºæ™¯ã€‚</td></tr></tbody></table><h3 id="docker-security" tabindex="-1"><a class="header-anchor" href="#docker-security"><span>Docker Security</span></a></h3><table><thead><tr><th>å®‰å…¨æªæ–½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ä½¿ç”¨å®˜æ–¹æˆ–å—ä¿¡ä»»çš„é•œåƒ</strong></td><td>ä¼˜å…ˆä½¿ç”¨ Docker Hub ä¸Šçš„å®˜æ–¹ä»“åº“é•œåƒï¼Œé¿å…ä½¿ç”¨æœªçŸ¥æ¥æºçš„é•œåƒ</td></tr><tr><td><strong>é root ç”¨æˆ·è¿è¡Œå®¹å™¨</strong></td><td>ä½¿ç”¨é root ç”¨æˆ·è¿è¡Œåº”ç”¨ç¨‹åºï¼Œé™ä½æƒé™ï¼Œå‡å°‘æ”»å‡»å½±å“èŒƒå›´</td></tr><tr><td><strong>æœ€å°åŒ–å®¹å™¨å¤§å°</strong></td><td>å®¹å™¨è¶Šå°ï¼Œæ”»å‡»é¢è¶Šå°ï¼Œæœ‰åŠ©äºå‡å°‘ä¸å¿…è¦çš„è½¯ä»¶å’Œä¾èµ–</td></tr><tr><td><strong>é•œåƒæ¼æ´æ‰«æ</strong></td><td>ä½¿ç”¨ <code>docker scan</code> æˆ–é›†æˆå·¥å…·æ‰«æé•œåƒï¼ŒåŠæ—¶ä¿®å¤å·²çŸ¥æ¼æ´ï¼ˆCVEï¼‰</td></tr><tr><td><strong>é™åˆ¶ç½‘ç»œä¸å·çš„è®¿é—®æƒé™</strong></td><td>- åªå¼€æ”¾å¿…è¦ç«¯å£<br>- æŒ‚è½½å¿…è¦å·å¹¶è®¾ç½®æƒé™<br>- å°½å¯èƒ½ä½¿ç”¨åªè¯»æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td><strong>ä¿æŒ Docker å¼•æ“æ›´æ–°</strong></td><td>å®šæœŸå‡çº§ Docker Engineï¼Œä¿®å¤å®‰å…¨æ¼æ´å’Œé”™è¯¯</td></tr></tbody></table><h3 id="docker-commands" tabindex="-1"><a class="header-anchor" href="#docker-commands"><span>Docker Commands</span></a></h3><h1 id="docker-å¸¸ç”¨å‘½ä»¤å‚è€ƒè¡¨" tabindex="-1"><a class="header-anchor" href="#docker-å¸¸ç”¨å‘½ä»¤å‚è€ƒè¡¨"><span>Docker å¸¸ç”¨å‘½ä»¤å‚è€ƒè¡¨</span></a></h1><table><thead><tr><th><strong>æ“ä½œç±»åˆ«</strong></th><th><strong>æ“ä½œè¯´æ˜</strong></th><th><strong>å‘½ä»¤ç¤ºä¾‹</strong></th><th><strong>å¤‡æ³¨</strong></th></tr></thead><tbody><tr><td><strong>ç™»å½•/ç™»å‡º</strong></td><td>ç™»å½•Docker Registry</td><td><code>docker login [registry_url]</code></td><td>ç™»å½•åè¾“å…¥ç”¨æˆ·åå’Œå¯†ç </td></tr><tr><td></td><td>ç™»å‡ºDocker Registry</td><td><code>docker logout</code></td><td></td></tr><tr><td><strong>é•œåƒç®¡ç†</strong></td><td>æ„å»ºé•œåƒï¼ˆåŸºäºdockerfileï¼‰</td><td><code>docker build -t &lt;image_name&gt;:&lt;tag&gt; &lt;è·¯å¾„æˆ–URL&gt;</code></td><td><code>-t</code> æŒ‡å®šé•œåƒåå’Œæ ‡ç­¾</td></tr><tr><td></td><td>æ‹‰å–é•œåƒ</td><td><code>docker pull &lt;image_name&gt;:&lt;tag&gt;</code></td><td>é»˜è®¤tagä¸ºlatest</td></tr><tr><td></td><td>åˆ—å‡ºæœ¬åœ°é•œåƒ</td><td><code>docker images</code></td><td>æ˜¾ç¤ºé•œåƒåã€tagã€IDã€å¤§å°ç­‰ä¿¡æ¯</td></tr><tr><td></td><td>æ‰“æ ‡ç­¾</td><td><code>docker tag &lt;source_image&gt;:&lt;tag&gt; &lt;target_image&gt;:&lt;tag&gt;</code></td><td>é‡æ–°æ ‡è®°é•œåƒ</td></tr><tr><td></td><td>æ¨é€é•œåƒåˆ°è¿œç¨‹ä»“åº“</td><td><code>docker push &lt;image_name&gt;:&lt;tag&gt;</code></td><td>éœ€å…ˆç™»å½•</td></tr><tr><td></td><td>åˆ é™¤æœ¬åœ°é•œåƒ</td><td><code>docker rmi &lt;image_name&gt;:&lt;tag&gt;</code></td><td></td></tr><tr><td></td><td>æ‰«æé•œåƒå®‰å…¨æ¼æ´(CVE)</td><td><code>docker scout cves &lt;image_name&gt;:&lt;tag&gt;</code></td><td>æ£€æµ‹é•œåƒä¸­çš„å·²çŸ¥æ¼æ´</td></tr><tr><td><strong>å®¹å™¨ç®¡ç†</strong></td><td>è¿è¡Œå®¹å™¨</td><td><code>docker run -d --name &lt;container_name&gt; &lt;image_name&gt;:&lt;tag&gt;</code></td><td><code>-d</code> åå°è¿è¡Œï¼Œäº¤äº’éœ€åŠ  <code>-it</code></td></tr><tr><td></td><td>äº¤äº’å¼è¿è¡Œå®¹å™¨</td><td><code>docker run -it --name &lt;container_name&gt; &lt;image_name&gt;:&lt;tag&gt; /bin/bash</code></td><td>äº¤äº’shellï¼Œé€€å‡ºå®¹å™¨ç”¨<code>exit</code></td></tr><tr><td></td><td>åˆ—å‡ºè¿è¡Œä¸­çš„å®¹å™¨</td><td><code>docker ps</code></td><td>æ˜¾ç¤ºIDã€åç§°ã€çŠ¶æ€ã€ç«¯å£æ˜ å°„ç­‰</td></tr><tr><td></td><td>åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢çš„ï¼‰</td><td><code>docker ps -a</code></td><td>æ˜¾ç¤ºçŠ¶æ€åŒ…æ‹¬Exited</td></tr><tr><td></td><td>åœæ­¢å®¹å™¨</td><td><code>docker stop &lt;container_name_or_id&gt;</code></td><td></td></tr><tr><td></td><td>é‡å¯å®¹å™¨</td><td><code>docker restart &lt;container_name_or_id&gt;</code></td><td></td></tr><tr><td></td><td>åˆ é™¤å®¹å™¨</td><td><code>docker rm &lt;container_name_or_id&gt;</code></td><td></td></tr><tr><td></td><td>å¼ºåˆ¶åœæ­¢å¹¶åˆ é™¤å®¹å™¨</td><td><code>docker rm -f &lt;container_name_or_id&gt;</code></td><td>å¼ºåˆ¶åœæ­¢å¹¶åˆ é™¤</td></tr><tr><td></td><td>æŸ¥çœ‹å®¹å™¨æ—¥å¿—</td><td><code>docker logs &lt;container_name_or_id&gt;</code></td><td></td></tr><tr><td></td><td>è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨shell</td><td><code>docker exec -it &lt;container_name_or_id&gt; /bin/bash</code></td><td>å®¹å™¨å†…æ‰§è¡Œäº¤äº’å¼shell</td></tr><tr><td></td><td>ä½¿ç”¨docker debugè°ƒè¯•å®¹å™¨</td><td><code>docker debug &lt;container_name_or_id&gt;</code></td><td>è¿›å…¥åªè¯»æˆ–å¼‚å¸¸å®¹å™¨è°ƒè¯•ç¯å¢ƒ</td></tr><tr><td><strong>å·ä¸æŒ‚è½½</strong></td><td>åˆ›å»ºDockerå·</td><td><code>docker volume create --name &lt;volume_name&gt;</code></td><td>åˆ›å»ºå‘½åå·</td></tr><tr><td></td><td>è¿è¡Œå®¹å™¨å¹¶æŒ‚è½½å‘½åå·</td><td><code>docker run -d --name &lt;container_name&gt; -v &lt;volume_name&gt;:&lt;container_path&gt; &lt;image&gt;</code></td><td>å·å†…å®¹ä¼šè‡ªåŠ¨åˆå§‹åŒ–å®¹å™¨å†…é»˜è®¤å†…å®¹</td></tr><tr><td></td><td>è¿è¡Œå®¹å™¨å¹¶æŒ‚è½½ç»‘å®šç›®å½•</td><td><code>docker run -d --name &lt;container_name&gt; -v $(pwd)/host_dir:&lt;container_path&gt; &lt;image&gt;</code></td><td>å®¿ä¸»æœºç›®å½•ç›´æ¥æŒ‚è½½ï¼Œå†…å®¹ä»¥å®¿ä¸»æœºä¸ºå‡†</td></tr><tr><td></td><td>åˆ—å‡ºæ‰€æœ‰å·</td><td><code>docker volume ls</code></td><td>æ˜¾ç¤ºæ‰€æœ‰å·</td></tr><tr><td></td><td>åˆ é™¤å·</td><td><code>docker volume rm &lt;volume_name&gt;</code></td><td>æ³¨æ„å·è¢«å®¹å™¨ä½¿ç”¨æ—¶æ— æ³•åˆ é™¤</td></tr><tr><td><strong>é•œåƒä¸å®¹å™¨æ¸…ç†</strong></td><td>åˆ é™¤æœªä½¿ç”¨çš„é•œåƒã€å®¹å™¨ã€ç½‘ç»œç­‰</td><td><code>docker system prune</code></td><td>äº¤äº’ç¡®è®¤ååˆ é™¤æ‰€æœ‰æ— ç”¨èµ„æº</td></tr></tbody></table><h3 id="dockerfile-å¸¸ç”¨æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#dockerfile-å¸¸ç”¨æŒ‡ä»¤"><span>Dockerfile å¸¸ç”¨æŒ‡ä»¤</span></a></h3><table><thead><tr><th>æŒ‡ä»¤</th><th>ä½œç”¨è¯´æ˜</th><th>ç¤ºä¾‹</th><th></th><th></th></tr></thead><tbody><tr><td><code>FROM</code></td><td>æŒ‡å®šåŸºç¡€é•œåƒï¼Œæ„å»ºé•œåƒçš„èµ·ç‚¹ã€‚</td><td><code>FROM ubuntu:20.04</code></td><td></td><td></td></tr><tr><td><code>LABEL</code></td><td>ä¸ºé•œåƒæ·»åŠ å…ƒæ•°æ®ï¼ˆä½œè€…ã€ç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼‰ã€‚</td><td><code>LABEL maintainer=&quot;you@example.com&quot;</code></td><td></td><td></td></tr><tr><td><code>RUN</code></td><td>åœ¨é•œåƒæ„å»ºæ—¶æ‰§è¡Œå‘½ä»¤ï¼Œå®‰è£…è½¯ä»¶æˆ–ä¿®æ”¹æ–‡ä»¶ç³»ç»Ÿã€‚</td><td><code>RUN apt-get update &amp;&amp; apt-get install -y curl</code></td><td></td><td></td></tr><tr><td><code>CMD</code></td><td>å®¹å™¨å¯åŠ¨æ—¶é»˜è®¤æ‰§è¡Œçš„å‘½ä»¤æˆ–å‚æ•°ï¼ˆå¯è¢«å¯åŠ¨å‚æ•°è¦†ç›–ï¼‰ã€‚</td><td><code>CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]</code></td><td></td><td></td></tr><tr><td><code>ENTRYPOINT</code></td><td>å®¹å™¨å¯åŠ¨æ—¶å¿…æ‰§è¡Œçš„å‘½ä»¤ï¼Œé€šå¸¸å’Œ CMD é…åˆä½¿ç”¨ã€‚</td><td><code>ENTRYPOINT [&quot;/entrypoint.sh&quot;]</code></td><td></td><td></td></tr><tr><td><code>ENV</code></td><td>è®¾ç½®ç¯å¢ƒå˜é‡ã€‚</td><td><code>ENV PATH=/usr/local/bin:$PATH</code></td><td></td><td></td></tr><tr><td><code>COPY</code></td><td>å°†æ–‡ä»¶/ç›®å½•ä»æ„å»ºä¸Šä¸‹æ–‡å¤åˆ¶åˆ°é•œåƒæ–‡ä»¶ç³»ç»Ÿã€‚</td><td><code>COPY ./app /app</code></td><td></td><td></td></tr><tr><td><code>WORKDIR</code></td><td>è®¾ç½®å·¥ä½œç›®å½•ï¼Œåç»­å‘½ä»¤éƒ½åœ¨è¯¥ç›®å½•æ‰§è¡Œã€‚</td><td><code>WORKDIR /app</code></td><td></td><td></td></tr></tbody></table><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" data-title="dockerfile" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># é€‰æ‹©åŸºç¡€é•œåƒ</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nginx:latest</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç¤ºèŒƒç”¨</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ENV</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> WELCOME_STRING=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello, Docker!&quot;</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¤åˆ¶å…¥å£è„šæœ¬åˆ°é•œåƒ</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">COPY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> entrypoint.sh /entrypoint.sh</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">RUN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> chmod +x /entrypoint.sh</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¤åˆ¶è‡ªå®šä¹‰ç½‘é¡µï¼ˆå¯é€‰ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">COPY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index.html /usr/share/nginx/html/index.html</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å£°æ˜å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å…¥å£ç‚¹è„šæœ¬</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ENTRYPOINT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/entrypoint.sh&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># é»˜è®¤å‘½ä»¤ï¼ˆä¼ é€’ç»™ entrypoint.sh æ‰§è¡Œï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CMD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;nginx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-g&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;daemon off;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ENTRYPOINT gets executed when the container starts. CMD specifies arguments that will be fed to the ENTRYPOINT. ENTRYPOINT will always be executed unless it is overridden.</li></ul><h3 id="ci-cd-continuous-integration-and-continuous-delivery" tabindex="-1"><a class="header-anchor" href="#ci-cd-continuous-integration-and-continuous-delivery"><span>CI/CD (Continuous Integration and Continuous Delivery)</span></a></h3><table><thead><tr><th>ç‰¹æ€§</th><th>Continuous Integration (CI)</th><th>Continuous Delivery (CD)</th></tr></thead><tbody><tr><td><strong>å®šä¹‰</strong></td><td>å¼€å‘è€…é¢‘ç¹æäº¤ä»£ç ï¼Œè‡ªåŠ¨æ„å»ºå¹¶è¿è¡Œæµ‹è¯•ä»¥éªŒè¯ä»£ç æ­£ç¡®æ€§</td><td>é€šè¿‡ CI éªŒè¯åï¼Œä»£ç è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæˆ–é¢„ç”Ÿäº§ç¯å¢ƒ</td></tr><tr><td><strong>ä¸»è¦ç›®æ ‡</strong></td><td>å¿«é€Ÿå‘ç°å¹¶ä¿®å¤ä»£ç é”™è¯¯</td><td>è‡ªåŠ¨å‘å¸ƒåŠŸèƒ½/ä¿®å¤ï¼Œæ— éœ€äººå·¥å¹²é¢„</td></tr><tr><td><strong>æ ¸å¿ƒåŠŸèƒ½</strong></td><td>è‡ªåŠ¨æ„å»º + è‡ªåŠ¨åŒ–æµ‹è¯•</td><td>è‡ªåŠ¨éƒ¨ç½² + æŒç»­å‘å¸ƒ</td></tr><tr><td><strong>å…¸å‹å·¥å…·</strong></td><td>Jenkins, GitHub Actions, Travis CI, GitLab CI/CD ç­‰</td><td>Spinnaker, ArgoCD, AWS CodeDeploy, GitLab CD ç­‰</td></tr><tr><td><strong>ä¼˜ç‚¹</strong></td><td>- è‡ªåŠ¨æ„å»ºå’Œæµ‹è¯•<br>- ææ—©å‘ç°é”™è¯¯<br>- æé«˜é€æ˜åº¦å’Œåä½œæ•ˆç‡</td><td>- è‡ªåŠ¨éƒ¨ç½²æµç¨‹<br>- æ›´é¢‘ç¹çš„å°è§„æ¨¡å‘å¸ƒ<br>- æå‡å¼€å‘ä¸äº¤ä»˜æ•ˆç‡</td></tr><tr><td><strong>è§¦å‘æ–¹å¼</strong></td><td>æ¯æ¬¡ä»£ç æäº¤/åˆå¹¶è§¦å‘è‡ªåŠ¨æµ‹è¯•æµç¨‹</td><td>æ¯æ¬¡é€šè¿‡ CI åè‡ªåŠ¨è§¦å‘éƒ¨ç½²æµç¨‹</td></tr><tr><td><strong>æ˜¯å¦éœ€è¦äººå·¥å¹²é¢„</strong></td><td>ä¸éœ€è¦äººå·¥å¹²é¢„è¿›è¡Œæµ‹è¯•</td><td>å¯èƒ½åªéœ€æ‰¹å‡†æˆ–é…ç½®ä¸€æ¬¡æ€§ç­–ç•¥ï¼Œä¹‹åæ— éœ€äººå·¥å¹²é¢„</td></tr><tr><td><strong>è¾“å‡ºç»“æœ</strong></td><td>å¯è¿è¡Œé€šè¿‡æµ‹è¯•çš„æ„å»ºäº§ç‰©</td><td>å®é™…è¿è¡Œä¸­çš„æ–°ç‰ˆæœ¬è½¯ä»¶éƒ¨ç½²</td></tr></tbody></table><ul><li>CI/CD Pipeline: Integrates the CI/CD practices, the tools, and stages that software changes undergo from development to deployment</li></ul><h4 id="ci-cd-pipeline-stages" tabindex="-1"><a class="header-anchor" href="#ci-cd-pipeline-stages"><span>CI/CD Pipeline Stages</span></a></h4><table><thead><tr><th><strong>é˜¶æ®µ</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>å¥½å¤„</strong></th></tr></thead><tbody><tr><td><strong>Lint Check</strong></td><td>ä»£ç è¯­æ³•å’Œé£æ ¼æ£€æŸ¥å·¥å…·ï¼ˆå¦‚ ESLintã€flake8ï¼‰è‡ªåŠ¨æ‰«æä»£ç é—®é¢˜</td><td>æé«˜ä»£ç ä¸€è‡´æ€§ã€å‡å°‘ä½çº§é”™è¯¯</td></tr><tr><td><strong>Dependency Check</strong></td><td>æ‰«æä¾èµ–åº“ä¸­çš„å®‰å…¨æ¼æ´æˆ–è®¸å¯é—®é¢˜ï¼ˆå¦‚ <code>safety</code>ã€<code>npm audit</code>ï¼‰</td><td>æé«˜å®‰å…¨æ€§ï¼Œé˜²æ­¢å¼•å…¥æ˜“å—æ”»å‡»çš„è½¯ä»¶åŒ…</td></tr><tr><td><strong>Code Quality Analysis</strong></td><td>ä½¿ç”¨å·¥å…·åˆ†æä»£ç å¤æ‚åº¦ã€é‡å¤ç‡ç­‰è´¨é‡æŒ‡æ ‡ï¼ˆå¦‚ SonarQubeï¼‰</td><td>æé«˜å¯ç»´æŠ¤æ€§ã€å¯è¯»æ€§ï¼Œå‡å°‘æŠ€æœ¯å€ºåŠ¡</td></tr><tr><td><strong>Unit Testing</strong></td><td>æµ‹è¯•å•ä¸ªå‡½æ•°/æ¨¡å—çš„é€»è¾‘æ˜¯å¦æ­£ç¡®ï¼ˆå¦‚ JUnitï¼‰</td><td>å¿«é€Ÿå‘ç°å‡½æ•°çº§åˆ«çš„ bugï¼Œæå‡å¯é æ€§</td></tr><tr><td><strong>Integration/E2E Tests</strong></td><td>æµ‹è¯•æ¨¡å—ä¹‹é—´æˆ–æ•´ä¸ªç³»ç»Ÿçš„è¡Œä¸ºæ˜¯å¦ç¬¦åˆé¢„æœŸï¼ˆå¦‚ Seleniumã€Cypressï¼‰</td><td>æé«˜ç³»ç»Ÿæ•´ä½“ç¨³å®šæ€§ï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºé˜²æ­¢å›å½’é—®é¢˜</td></tr><tr><td><strong>Pack the Software</strong></td><td>æ‰“åŒ…æˆ–æ„å»ºå‘å¸ƒå·¥ä»¶ï¼Œå¦‚ç”ŸæˆäºŒè¿›åˆ¶ã€Docker é•œåƒ</td><td>ç»Ÿä¸€äº¤ä»˜æ ¼å¼ï¼Œæ”¯æŒå¿«é€Ÿéƒ¨ç½²å’Œè·¨ç¯å¢ƒè¿è¡Œ</td></tr><tr><td><strong>Deployment</strong></td><td>è‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•æˆ–ç”Ÿäº§ç¯å¢ƒï¼ˆå¦‚ä½¿ç”¨ Helmã€Ansibleã€Terraform ç­‰å·¥å…·ï¼‰</td><td>å¿«é€Ÿä¸Šçº¿ï¼Œå‡å°‘äººä¸ºå¤±è¯¯ï¼Œæå‡æ•ˆç‡å’Œå‘å¸ƒé¢‘ç‡</td></tr></tbody></table><h2 id="week-6" tabindex="-1"><a class="header-anchor" href="#week-6"><span>Week 6</span></a></h2><h3 id="container-orchestration-tools" tabindex="-1"><a class="header-anchor" href="#container-orchestration-tools"><span>Container Orchestration Tools</span></a></h3><ul><li>Provide a framework for integrating and managing containers at scale</li><li>å®¹å™¨ç¼–æ’æŠ€æœ¯çš„ä¸»è¦åŠŸèƒ½</li></ul><ul><li><strong>ç½‘ç»œç®¡ç†ï¼ˆNetworkingï¼‰</strong> ç®¡ç†å®¹å™¨é—´é€šä¿¡ï¼Œæ”¯æŒè·¨ä¸»æœºé€šä¿¡ã€‚</li><li><strong>å¼¹æ€§æ‰©ç¼©å®¹ï¼ˆScalingï¼‰</strong> æ ¹æ®è´Ÿè½½è‡ªåŠ¨å¢åŠ æˆ–å‡å°‘å®¹å™¨å®ä¾‹æ•°é‡ã€‚</li><li><strong>æœåŠ¡å‘ç°ä¸è´Ÿè½½å‡è¡¡ï¼ˆService Discovery &amp; Load Balancingï¼‰</strong> å®¹å™¨æœåŠ¡è‡ªåŠ¨æ³¨å†Œï¼Œæµé‡æ™ºèƒ½åˆ†é…ã€‚</li><li><strong>å¥åº·æ£€æŸ¥ä¸è‡ªæ„ˆï¼ˆHealth Check &amp; Self-healingï¼‰</strong> è‡ªåŠ¨æ£€æµ‹æ•…éšœå®¹å™¨å¹¶é‡å¯æˆ–æ›¿æ¢ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šã€‚</li><li><strong>å®‰å…¨ï¼ˆSecurityï¼‰</strong> ä¿éšœå®¹å™¨éš”ç¦»ã€è®¿é—®æ§åˆ¶å’Œå®‰å…¨é€šä¿¡ã€‚</li><li><strong>æ»šåŠ¨æ›´æ–°ï¼ˆRolling Updatesï¼‰</strong> æ— ä¸­æ–­åœ°æ›´æ–°å®¹å™¨æœåŠ¡ï¼Œä¿è¯é«˜å¯ç”¨ã€‚</li></ul><h3 id="container-orchestration-tools-goals" tabindex="-1"><a class="header-anchor" href="#container-orchestration-tools-goals"><span>Container Orchestration Tools Goals</span></a></h3><ul><li>ç®€åŒ–å®¹å™¨ç®¡ç†æµç¨‹ï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç»´æŠ¤ã€‚</li><li>ç¡®ä¿å®¹å™¨æœåŠ¡çš„é«˜å¯ç”¨æ€§å’Œå¼¹æ€§ä¼¸ç¼©ã€‚</li></ul><h3 id="combine-declarative-management-with-infrastructure-as-code" tabindex="-1"><a class="header-anchor" href="#combine-declarative-management-with-infrastructure-as-code"><span>Combine Declarative Management with Infrastructure as Code</span></a></h3><ul><li>é€šè¿‡<strong>å£°æ˜å¼é…ç½®</strong>ï¼ˆYAML/JSONï¼‰ï¼Œå®šä¹‰æœŸæœ›çš„çŠ¶æ€ã€‚</li><li>é‡‡ç”¨<strong>åŸºç¡€è®¾æ–½å³ä»£ç </strong>ç†å¿µï¼Œå®ç°é…ç½®è‡ªåŠ¨åŒ–ã€ç‰ˆæœ¬åŒ–å’Œå¯å¤ç”¨ã€‚</li><li>æ”¯æŒç³»ç»Ÿè‡ªæ„ˆå’Œå¹‚ç­‰æ€§ï¼Œæå‡è¿ç»´æ•ˆç‡å’Œç¨³å®šæ€§ã€‚</li></ul><h3 id="k8s" tabindex="-1"><a class="header-anchor" href="#k8s"><span>K8S</span></a></h3><ul><li><p><strong>é›†ç¾¤ç›®æ ‡</strong> è¿è¡Œå¯¹ç»ˆç«¯ç”¨æˆ·æœ‰ç”¨çš„è½¯ä»¶åº”ç”¨ï¼Œä¿è¯æœåŠ¡ç¨³å®šå¯é ã€‚</p></li><li><p><strong>K8s å…³é”®åŠŸèƒ½</strong></p><ul><li><strong>å®¹å™¨è‡ªåŠ¨é‡å¯ä¸å®¹é”™</strong>ï¼šå®¹å™¨å´©æºƒè‡ªåŠ¨é‡å¯ï¼ŒèŠ‚ç‚¹å®•æœºæ—¶å®¹å™¨è‡ªåŠ¨è¿ç§»åˆ°å…¶ä»–å¥åº·èŠ‚ç‚¹ã€‚</li><li><strong>æœåŠ¡å‘ç°ä¸ DNS åç§°</strong>ï¼šä¸ºæœåŠ¡åˆ†é…å›ºå®šçš„ DNS åç§°ï¼Œé¿å…ä¾èµ–æ˜“å˜çš„ IP åœ°å€ã€‚</li><li><strong>æ™ºèƒ½è°ƒåº¦</strong>ï¼šæ ¹æ®èŠ‚ç‚¹ç‰¹æ€§ï¼ˆå¦‚ GPUã€å†…å­˜å¤§å°ï¼‰è‡ªåŠ¨åˆ†é…å®¹å™¨ã€‚</li><li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šå‡åŒ€åˆ†å¸ƒå®¹å™¨è´Ÿè½½ï¼Œä¼˜åŒ–èµ„æºåˆ©ç”¨ã€‚</li><li><strong>å¤šç‰ˆæœ¬ç®¡ç†</strong>ï¼šé€šè¿‡å‘½åç©ºé—´ï¼ˆnamespaceï¼‰æ”¯æŒåŒä¸€é›†ç¾¤ä¸­ä¸åŒç‰ˆæœ¬çš„å®¹å™¨å¹¶å­˜ï¼ˆå¦‚ dev ä¸ prod ç¯å¢ƒï¼‰ã€‚</li><li><strong>é…ç½®ç®¡ç†</strong>ï¼šçµæ´»åˆ†å‘é…ç½®æ•°æ®å’Œç¯å¢ƒå˜é‡åˆ°å®¹å™¨å†…ï¼Œæ–¹ä¾¿åŠ¨æ€è°ƒæ•´åº”ç”¨å‚æ•°ã€‚</li></ul></li></ul><h3 id="k8s-components" tabindex="-1"><a class="header-anchor" href="#k8s-components"><span>K8S Components</span></a></h3><table><thead><tr><th><strong>æœ¯è¯­</strong></th><th><strong>å®šä¹‰</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>Node</strong></td><td>è®¡ç®—èŠ‚ç‚¹ï¼Œé€šå¸¸æ˜¯è¿è¡Œ Kubernetes çš„è™šæ‹Ÿæœºæˆ–ç‰©ç†æœº</td><td>Kubernetes é›†ç¾¤ä¸­çš„è®¡ç®—èµ„æºå•å…ƒ</td></tr><tr><td><strong>Volume</strong></td><td>æŒä¹…åŒ–å­˜å‚¨ï¼Œå¯ä»¥é™„åŠ åˆ°èŠ‚ç‚¹å¹¶æŒ‚è½½ä¸ºæ–‡ä»¶ç³»ç»Ÿ</td><td>ç”¨äºå­˜å‚¨æŒä¹…æ•°æ®ï¼Œå®¹å™¨é‡å¯åæ•°æ®ä¸ä¼šä¸¢å¤±</td></tr><tr><td><strong>Pod</strong></td><td>ä¸€ç»„ååŒå·¥ä½œçš„ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼Œæ˜¯ Kubernetes ä¸­æœ€å°çš„å¯éƒ¨ç½²å•å…ƒ</td><td>åŒä¸€ Pod å†…å®¹å™¨å…±äº«ç½‘ç»œå’Œå­˜å‚¨èµ„æº</td></tr><tr><td><strong>Deployment</strong></td><td>ä¸€ç»„åŒæ—¶è¿è¡Œçš„ç›¸åŒ Pod å‰¯æœ¬ï¼Œç”¨äºç®¡ç†å’Œç»´æŠ¤åº”ç”¨çš„å¤šä¸ªå®ä¾‹ï¼ˆå¦‚è¿è¡Œ3ä¸ª Nginx Podï¼‰</td><td>è´Ÿè´£å‰¯æœ¬ç®¡ç†ã€æ»šåŠ¨æ›´æ–°ã€å›æ»šç­‰</td></tr><tr><td><strong>Service</strong></td><td>Pod å¯¹å¤–æä¾›çš„åŠŸèƒ½ï¼Œé€šè¿‡ç«¯å£æš´éœ²ï¼ŒæœåŠ¡ä»…åœ¨é›†ç¾¤å†…éƒ¨å¯è§</td><td>ç”¨äºå®ç°è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°</td></tr><tr><td><strong>Ingress</strong></td><td>ç®¡ç†å¤–éƒ¨å®¢æˆ·ç«¯è®¿é—®ä¸€ä¸ªæˆ–å¤šä¸ª Service çš„ç»„ä»¶ï¼Œæ”¯æŒåŸºäºä¸»æœºåã€è·¯å¾„ç­‰çš„è·¯ç”±</td><td>å®ç°é›†ç¾¤å¤–éƒ¨è®¿é—®ï¼Œæ”¯æŒåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡</td></tr><tr><td><strong>ConfigMap</strong></td><td>Kubernetes ä¸­ä¼ é€’é…ç½®å‚æ•°çš„æœºåˆ¶</td><td>ç”¨äºåŠ¨æ€æ³¨å…¥é…ç½®æ•°æ®ï¼Œé¿å…å°†é…ç½®å†™æ­»åœ¨é•œåƒä¸­</td></tr><tr><td><strong>Namespace</strong></td><td>å¯¹é›†ç¾¤ä¸­çš„èµ„æºï¼ˆé™¤ Node å¤–ï¼‰è¿›è¡Œåˆ†ç»„ç®¡ç†çš„æœºåˆ¶</td><td>æ–¹ä¾¿å¤šå›¢é˜Ÿã€å¤šç¯å¢ƒå…±ç”¨åŒä¸€ä¸ªé›†ç¾¤ï¼Œé»˜è®¤å‘½åç©ºé—´ä¸º <code>default</code></td></tr></tbody></table>',154)),(0,e.Lk)("p",null,[s[1]||(s[1]=(0,e.Lk)("img",{src:r,alt:"K8S Architecture Example",loading:"lazy"},null,-1)),(0,e.bF)(i,{to:"/posts/kubernetes/"},{default:(0,e.k6)((()=>s[0]||(s[0]=[(0,e.eW)("Check more about K8S")]))),_:1})]),s[3]||(s[3]=(0,e.Fv)('<h3 id="pods" tabindex="-1"><a class="header-anchor" href="#pods"><span>Pods</span></a></h3><table><thead><tr><th><strong>ä¸»é¢˜</strong></th><th><strong>å†…å®¹</strong></th></tr></thead><tbody><tr><td><strong>Pod ç»„æˆ</strong></td><td>é€šå¸¸ç”±ä¸€ä¸ªå®¹å™¨ç»„æˆï¼Œä½†å¯ä»¥æœ‰å¤šä¸ªå®¹å™¨å¹¶è¡Œè¿è¡Œï¼ˆä¾‹å¦‚åº”ç”¨å®¹å™¨ + è¾…åŠ©å®¹å™¨ï¼‰</td></tr><tr><td><strong>å¤šå®¹å™¨ç¤ºä¾‹</strong></td><td>- CouchDB å®¹å™¨ + Lucene æœç´¢å®¹å™¨ï¼ˆå®ç°å…¨æ–‡æ£€ç´¢ï¼‰<br>- åº”ç”¨å®¹å™¨ + è®¤è¯å®¹å™¨ï¼ˆéªŒè¯è¯·æ±‚æœ‰æ•ˆæ€§ï¼‰</td></tr><tr><td><strong>Pod Manifest</strong></td><td>å¿…é¡»åŒ…å« Pod åç§°ã€å®¹å™¨åç§°å’Œé•œåƒ<br>å¯åŒ…å«ç¯å¢ƒå˜é‡ã€ç«¯å£ã€å·æŒ‚è½½ç­‰ä¿¡æ¯</td></tr><tr><td><strong>Pod ç‰¹æ€§</strong></td><td>åŒä¸€ Pod å†…å®¹å™¨è¿è¡Œåœ¨åŒä¸€èŠ‚ç‚¹ï¼Œå…±äº«å­˜å‚¨å’Œç½‘ç»œ</td></tr><tr><td><strong>è°ƒåº¦è§„åˆ™</strong></td><td>ä½¿ç”¨ Affinityï¼ˆäº²å’Œï¼‰ã€Anti-Affinityï¼ˆåäº²å’Œï¼‰ã€Node Selectorã€Taints &amp; Tolerations æ§åˆ¶è°ƒåº¦</td></tr><tr><td><strong>å®¹å™¨é•œåƒç®¡ç†</strong></td><td>Kubernetes è‡ªåŠ¨ä¸‹è½½é•œåƒï¼Œç§æœ‰é•œåƒåº“éœ€æä¾›ä½ç½®å’Œå‡­è¯</td></tr><tr><td><strong>ä¸ºä»€ä¹ˆç”¨ Podsï¼Ÿ</strong></td><td>- æ”¯æŒå¾®æœåŠ¡æ¶æ„ï¼Œå®ç°æ¾è€¦åˆ<br>- æ–¹ä¾¿æ—¥å¿—æ”¶é›†ï¼ˆå‰¯å®¹å™¨å¤„ç†æ—¥å¿—ï¼Œåº”ç”¨æ— éœ€ä¿®æ”¹ä»£ç ï¼‰<br>- å¯é…ç½® Init å®¹å™¨åˆå§‹åŒ–åº”ç”¨ç¯å¢ƒ<br>- Sidecar å®¹å™¨æ‰©å±•åº”ç”¨åŠŸèƒ½ï¼ˆå¦‚æ·»åŠ /å»é™¤ HTTP å¤´ï¼‰</td></tr></tbody></table><ul><li>Affinity: A way to force the scheduling of certain pods on a given node type</li><li>Sidecars: Containers that run alongside the application container to extend its functionality</li></ul><h3 id="yaml" tabindex="-1"><a class="header-anchor" href="#yaml"><span>YAML</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">...</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">...</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">...</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="metadata" tabindex="-1"><a class="header-anchor" href="#metadata"><span>Metadata</span></a></h4><p>èµ„æºçš„å…ƒä¿¡æ¯ï¼Œé€šå¸¸åŒ…å«ï¼š</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">my-app</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              # èµ„æºåç§°ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  namespace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">default</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å‘½åç©ºé—´ï¼ˆå¯é€‰ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  labels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:                   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ ‡ç­¾ï¼Œç”¨äºé€‰æ‹©å™¨å’Œç®¡ç†</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">my-app</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  annotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:              </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ³¨è§£ï¼Œç”¨äºå­˜å‚¨å…ƒæ•°æ®ï¼ˆéé€‰æ‹©ç”¨é€”ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    description</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;My test app&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="spec" tabindex="-1"><a class="header-anchor" href="#spec"><span>Spec</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  containers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:               </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®¹å™¨åˆ—è¡¨ï¼ˆé€šå¸¸è‡³å°‘ä¸€ä¸ªï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">app-container</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx:latest</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # å®¹å™¨é•œåƒ</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">containerPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:                  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ENV</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;prod&quot;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      volumeMounts</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:         </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®¹å™¨å†…æŒ‚è½½è·¯å¾„</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">data-volume</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          mountPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/data</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  volumes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:                  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®¿ä¸»æœºæˆ–å¤–éƒ¨æŒ‚è½½å·å®šä¹‰</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">data-volume</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      emptyDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {}</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  nodeSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:             </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># èŠ‚ç‚¹é€‰æ‹©å™¨ï¼ˆè°ƒåº¦è§„åˆ™ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    disktype</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ssd</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  tolerations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:              </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®¹å¿æ±¡ç‚¹ï¼ˆè°ƒåº¦è§„åˆ™ï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  affinity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:                 </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># èŠ‚ç‚¹/Pod äº²å’Œæ€§ï¼ˆè°ƒåº¦è§„åˆ™ï¼‰</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="selector" tabindex="-1"><a class="header-anchor" href="#selector"><span>Selector</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  selector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    matchLabels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">my-app</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # é€‰æ‹©åŒ¹é…æ ‡ç­¾çš„ Pod</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="deployment" tabindex="-1"><a class="header-anchor" href="#deployment"><span>Deployment</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">apps/v1</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Deployment</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">my-app</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  replicas</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  selector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    matchLabels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">my-app</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  template</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:                    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Pod æ¨¡æ¿</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      labels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">my-app</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      containers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">app-container</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h4><table><thead><tr><th>åŒºå—</th><th>ç”¨é€”è¯´æ˜</th></tr></thead><tbody><tr><td><code>apiVersion</code></td><td>è¡¨ç¤ºèµ„æºä½¿ç”¨çš„ API ç‰ˆæœ¬</td></tr><tr><td><code>kind</code></td><td>æŒ‡å®šèµ„æºç±»å‹ï¼Œå¦‚ Podã€Deployment ç­‰</td></tr><tr><td><code>metadata</code></td><td>æè¿°èµ„æºçš„åç§°ã€æ ‡ç­¾ã€æ³¨è§£ç­‰</td></tr><tr><td><code>spec</code></td><td>å®šä¹‰èµ„æºçš„å…·ä½“è¡Œä¸ºï¼ˆå®¹å™¨ã€å·ã€æœåŠ¡ç«¯å£ç­‰ï¼‰</td></tr><tr><td><code>selector</code></td><td>ç”¨äºåŒ¹é…ç›®æ ‡ Podï¼ˆå¸¸è§äº Deployment å’Œ Serviceï¼‰</td></tr></tbody></table><h3 id="kubeconfig-file" tabindex="-1"><a class="header-anchor" href="#kubeconfig-file"><span>Kubeconfig File</span></a></h3><ul><li>The kubeconfig file contains: <ul><li>The master node floating point address</li><li>A client certificate (unique to that cluster) used to authenticate the user</li><li>The port the k8s API is listening to (all communications use HTTPS)</li><li>â€¦plus other parameters</li></ul></li></ul><h3 id="kubectl" tabindex="-1"><a class="header-anchor" href="#kubectl"><span>Kubectl</span></a></h3><table><thead><tr><th>åŠŸèƒ½åˆ†ç±»</th><th>å‘½ä»¤æ ¼å¼ä¸è¯´æ˜</th></tr></thead><tbody><tr><td>ğŸ” æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</td><td><code>kubectl get nodes</code> <br> æ˜¾ç¤ºé›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹ï¼ˆnodeï¼‰</td></tr><tr><td>ğŸ” æŸ¥çœ‹ Pod</td><td><code>kubectl get pods -n &lt;namespace&gt;</code> <br> æŸ¥çœ‹æŸä¸ªå‘½åç©ºé—´å†…æ‰€æœ‰ pod</td></tr><tr><td>ğŸ” æŸ¥çœ‹æ‰€æœ‰èµ„æº</td><td><code>kubectl get all -n &lt;namespace&gt;</code> <br> æŸ¥çœ‹è¯¥ namespace å†…æ‰€æœ‰èµ„æº<br><code>kubectl get all -A</code> <br> æŸ¥çœ‹æ‰€æœ‰ namespace çš„æ‰€æœ‰èµ„æº</td></tr><tr><td>ğŸ” æŸ¥çœ‹æ‰€æœ‰ Podï¼ˆæ‰€æœ‰ namespaceï¼‰</td><td><code>kubectl get pods -A</code></td></tr><tr><td>ğŸ” æŸ¥çœ‹ Pod è¯¦ç»†ä¿¡æ¯</td><td><code>kubectl describe pods &lt;pod-name&gt; -n &lt;namespace&gt;</code> <br> æ˜¾ç¤ºè¯¥ pod çš„è¯¦ç»†é…ç½®ã€äº‹ä»¶ç­‰</td></tr><tr><td>ğŸ” æŸ¥çœ‹ Node èµ„æºä½¿ç”¨æƒ…å†µ</td><td><code>kubectl describe node &lt;node-name&gt;</code> <br> æŸ¥çœ‹è¯¥èŠ‚ç‚¹ä¸Šçš„ podsã€å†…å­˜ï¼ˆMiï¼‰ã€CPUï¼ˆmillicoresï¼‰ç­‰</td></tr><tr><td>ğŸ” æŸ¥çœ‹ Pod èµ„æºä½¿ç”¨æƒ…å†µ</td><td><code>kubectl top pods -n &lt;namespace&gt;</code> <br> æŸ¥çœ‹ pod çš„ CPU å’Œå†…å­˜ç”¨é‡</td></tr><tr><td>ğŸš€ åˆ é™¤ Podï¼ˆå¼ºåˆ¶é‡å¯ï¼‰</td><td><code>kubectl delete pod &lt;pod-name&gt; -n &lt;namespace&gt;</code> <br> ä¼šè§¦å‘ Kubernetes è‡ªåŠ¨é‡æ–°åˆ›å»ºè¯¥ pod</td></tr><tr><td>ğŸ” ä¼˜é›…é‡å¯ Deploymentï¼ˆæ»šåŠ¨æ›´æ–°ï¼‰</td><td><code>kubectl rollout restart deployment &lt;deployment-name&gt; -n &lt;namespace&gt;</code> <br> æŒ‰é¡ºåºä¾æ¬¡é‡å¯ podï¼Œä¸ä¸­æ–­æœåŠ¡</td></tr><tr><td>ğŸ“¦ åº”ç”¨ Manifest</td><td><code>kubectl apply -f &lt;manifest&gt;.yaml -n &lt;namespace&gt; --wait</code> <br> <code>--wait</code> å‚æ•°ä¼šç­‰å¾…èµ„æºå‡†å¤‡å®Œæˆåæ‰è¿”å›</td></tr><tr><td>ğŸ”Œ æœ¬åœ°ç«¯å£è½¬å‘</td><td><code>kubectl port-forward deployment/&lt;deployment-name&gt; &lt;local-port&gt;:&lt;pod-port&gt;</code> <br> å°† pod çš„ç«¯å£è½¬å‘åˆ°æœ¬æœºç«¯å£ï¼Œä¾¿äºæœ¬åœ°è°ƒè¯•è®¿é—®</td></tr><tr><td>ğŸ”‘ è·å–é›†ç¾¤è®¿é—®é…ç½®</td><td><code>openstack coe cluster config &lt;cluster-name&gt;</code> <br> ç”Ÿæˆ <code>kubeconfig</code> æ–‡ä»¶ï¼Œé…ç½®é›†ç¾¤è®¿é—®æƒé™</td></tr></tbody></table><h3 id="helm" tabindex="-1"><a class="header-anchor" href="#helm"><span>Helm</span></a></h3><table><thead><tr><th>é¡¹ç›®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ğŸ§± Helm æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>Helm æ˜¯ Kubernetes çš„åŒ…ç®¡ç†å™¨ï¼Œç”¨äºç®€åŒ–åº”ç”¨çš„éƒ¨ç½²å’Œç®¡ç†ã€‚</td></tr><tr><td>ğŸ“¦ Helm Chart</td><td>Chart æ˜¯ Helm åº”ç”¨åŒ…ï¼ŒåŒ…å«ä¸€ç»„ Kubernetes Manifestsï¼ˆYAML æ–‡ä»¶ï¼‰</td></tr><tr><td>ğŸ›ï¸ è‡ªå®šä¹‰å‚æ•°</td><td>Helm chart æ”¯æŒé€šè¿‡å‘½ä»¤è¡Œå‚æ•°æˆ– YAML æ–‡ä»¶è¿›è¡Œé…ç½®</td></tr></tbody></table><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>helm repo add &lt;name&gt; &lt;url&gt;</code></td><td>æ·»åŠ  Helm ä»“åº“</td></tr><tr><td><code>helm repo update</code></td><td>æ›´æ–°ä»“åº“å†…å®¹</td></tr><tr><td><code>helm upgrade --install &lt;release-name&gt; &lt;chart-name&gt;</code></td><td>å®‰è£…æˆ–å‡çº§ä¸€ä¸ª chart å®ä¾‹ï¼ˆreleaseï¼‰</td></tr><tr><td><code>--set &lt;key&gt;=&lt;value&gt;</code></td><td>åœ¨ CLI ä¸­è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰å‚æ•°</td></tr><tr><td><code>--values &lt;values.yaml&gt;</code></td><td>ä» YAML æ–‡ä»¶ä¸­è¯»å–å¤šä¸ªè‡ªå®šä¹‰å‚æ•°é…ç½®</td></tr></tbody></table><h3 id="soa-service-oriented-architecture" tabindex="-1"><a class="header-anchor" href="#soa-service-oriented-architecture"><span>SoA (Service Oriented Architecture)</span></a></h3><table><thead><tr><th><strong>æ¦‚å¿µ</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>SoA å®šä¹‰</strong></td><td>æ¶æ„é£æ ¼ï¼šå°†ç³»ç»Ÿè®¾è®¡ä¸ºå¤šä¸ª<strong>æ¾è€¦åˆçš„æœåŠ¡</strong>ï¼Œæ¯ä¸ªæœåŠ¡ç‹¬ç«‹å®Œæˆä¸€éƒ¨åˆ†åŠŸèƒ½ã€‚</td></tr><tr><td><strong>åº”ç”¨åœºæ™¯</strong></td><td>åœ¨ç»„ä»¶åˆ†å¸ƒåœ¨ä¸åŒç³»ç»Ÿæˆ–æœºå™¨ä¹‹é—´æ—¶ï¼Œå‡½æ•°è°ƒç”¨ä¸å†å¯è¡Œï¼Œå¿…é¡»é€šè¿‡æœåŠ¡é€šä¿¡ã€‚</td></tr><tr><td><strong>é€šä¿¡æ–¹å¼</strong></td><td>ä½¿ç”¨ç½‘ç»œåè®®ï¼ˆå¦‚ HTTPï¼‰è¿›è¡ŒæœåŠ¡è°ƒç”¨ï¼Œç»„ä»¶é—´ä»¥æ¶ˆæ¯æ–¹å¼äº¤äº’ã€‚</td></tr><tr><td><strong>ä¼˜åŠ¿</strong></td><td>æ˜“äºå¤ç”¨ã€æ‰©å±•ã€è·¨å¹³å°ã€é€‚é…å˜åŒ–ï¼Œæ”¯æŒå¼‚æ„ç³»ç»Ÿé›†æˆã€‚</td></tr></tbody></table><table><thead><tr><th><strong>æœ¯è¯­</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>Web æœåŠ¡</strong></td><td>å®ç° SoA çš„å¸¸ç”¨æ–¹å¼ï¼šé€šè¿‡ç½‘ç»œè°ƒç”¨æœåŠ¡ï¼ˆä¾‹å¦‚ HTTP + XML/JSONï¼‰ã€‚</td></tr><tr><td><strong>å¸¸è§ç±»å‹</strong></td><td>- <strong>SOAP</strong>ï¼ˆSimple Object Access Protocolï¼‰<br>- <strong>REST</strong>ï¼ˆRepresentational State Transferï¼‰<br>- å…¶ä»–ä¸“ç”¨æ ‡å‡†ï¼ˆWFSã€WMSã€HL7ã€SDMXï¼‰</td></tr><tr><td><strong>ä¼ è¾“åè®®</strong></td><td>è™½ç„¶ä¸¤è€…éƒ½å¯ä½¿ç”¨ HTTPï¼Œä½† SOAP ä¹Ÿå¯åŸºäº SMTPã€TCP ç­‰åè®®è¿è¡Œã€‚</td></tr></tbody></table><h3 id="soap-vs-rest" tabindex="-1"><a class="header-anchor" href="#soap-vs-rest"><span>SOAP vs REST</span></a></h3><ul><li>ReST is more of a style to use HTTP than a separate protocol</li><li>SOAP/WS is a stack of protocols that covers every aspect of using a remote service, from service discovery, to service description, to the actual request/response</li></ul><table><thead><tr><th><strong>æ¯”è¾ƒé¡¹</strong></th><th><strong>SOAP/WS</strong></th><th><strong>REST</strong></th></tr></thead><tbody><tr><td><strong>é€šä¿¡é£æ ¼</strong></td><td>åŸºäºè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRemote Procedure Callï¼‰</td><td>åŸºäºèµ„æºæ“ä½œï¼ˆé€šè¿‡ HTTP åŠ¨è¯æ“ä½œèµ„æºï¼‰</td></tr><tr><td><strong>åè®®æ ˆ</strong></td><td>æ˜¯ä¸€å¥—å®Œæ•´åè®®æ ˆï¼ˆåŒ…æ‹¬æœåŠ¡å‘ç°ã€æè¿°ã€æ¶ˆæ¯æ ¼å¼ã€å®‰å…¨ç­‰ï¼‰</td><td>æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œä¸æ˜¯åè®®ï¼›ç›´æ¥ç”¨ HTTP åè®®çš„è¯­ä¹‰</td></tr><tr><td><strong>æ•°æ®æ ¼å¼</strong></td><td>é€šå¸¸ä½¿ç”¨ XMLï¼ˆç»“æ„ä¸¥æ ¼ï¼‰</td><td>é€šå¸¸ä½¿ç”¨ JSONï¼ˆè½»é‡ï¼‰ï¼Œä¹Ÿæ”¯æŒ XML</td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>å¼ºå¤§ä½†å¤æ‚ï¼Œé€‚åˆä¼ä¸šå†…éƒ¨æˆ–é«˜å®‰å…¨æ€§åœºæ™¯</td><td>ç®€æ´è½»ä¾¿ï¼Œé€‚åˆå…¬å¼€ API å’Œ Web æœåŠ¡</td></tr><tr><td><strong>è·¨è¯­è¨€/å¹³å°æ”¯æŒ</strong></td><td>éå¸¸å¼ºï¼Œé€‚åˆå¼‚æ„ç¯å¢ƒ</td><td>åŒæ ·è‰¯å¥½ï¼Œä½†ä¾èµ–äºæ ‡å‡†åŒ–èµ„æºæ¥å£è®¾è®¡</td></tr><tr><td><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong></td><td>é“¶è¡Œç³»ç»Ÿã€ä¼ä¸šå†…éƒ¨ç³»ç»Ÿã€B2B æœåŠ¡</td><td>Web APIã€å¾®æœåŠ¡æ¶æ„ã€ç§»åŠ¨ç«¯æ¥å£</td></tr></tbody></table><h3 id="wdsl-web-services-description-language" tabindex="-1"><a class="header-anchor" href="#wdsl-web-services-description-language"><span>WDSL (Web Services Description Language)</span></a></h3><ul><li>WSDLï¼ˆWeb Services Description Languageï¼‰æ˜¯WebæœåŠ¡çš„æ ¸å¿ƒæ ‡å‡†ä¹‹ä¸€ï¼Œå®ƒåœ¨è¿‡å»å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…è¢«å¹¿æ³›ç”¨äºæè¿°å’Œå®ç°SOAPï¼ˆSimple Object Access Protocolï¼‰é£æ ¼çš„WebæœåŠ¡ã€‚ç„¶è€Œï¼Œéšç€æŠ€æœ¯çš„å‘å±•ï¼Œç‰¹åˆ«æ˜¯åœ¨RESTï¼ˆRepresentational State Transferï¼‰æ¶æ„é£æ ¼çš„å…´èµ·å’Œå¾®æœåŠ¡æ¶æ„çš„æµè¡Œï¼ŒWSDLçš„ä½¿ç”¨ç¡®å®æœ‰æ‰€å‡å°‘ã€‚</li></ul><h3 id="rest-best-practices" tabindex="-1"><a class="header-anchor" href="#rest-best-practices"><span>ReST Best Practices</span></a></h3><ol><li>Keep URIs short â€“ and create URIs that donâ€™t change.</li><li>URIs should be opaque identifiers that are meant to be discovered by following hyperlinks, not constructed by the client.</li><li>Use nouns, not verbs in URLs</li><li>Make all HTTP GETs side-effect free. Doing so makes the request &quot;safe&quot;.</li><li>Use links in your responses to requests! Doing so connects your response with other data. It enables client applications to be &quot;self-propelledâ€, i.e. &quot;what is the next step to take&quot;.</li><li>Minimize use of query strings.</li></ol><table><thead><tr><th><strong>HTTP æ–¹æ³•</strong></th><th><strong>Safeï¼ˆå®‰å…¨ï¼‰</strong></th><th><strong>Idempotentï¼ˆå¹‚ç­‰ï¼‰</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><code>GET</code></td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td><td>è·å–èµ„æºï¼Œä¸æ”¹å˜çŠ¶æ€ï¼ˆå®‰å…¨ï¼‰ï¼Œè°ƒç”¨å¤šæ¬¡æ•ˆæœä¸€è‡´ï¼ˆå¹‚ç­‰ï¼‰</td></tr><tr><td><code>POST</code></td><td>âŒ å¦</td><td>âŒ å¦</td><td>åˆ›å»ºæ–°èµ„æºæˆ–æäº¤æ•°æ®ï¼Œè°ƒç”¨å¤šæ¬¡ä¼šäº§ç”Ÿå¤šä¸ªå‰¯ä½œç”¨ï¼ˆä¸å®‰å…¨ä¹Ÿä¸å¹‚ç­‰ï¼‰</td></tr><tr><td><code>PUT</code></td><td>âŒ å¦</td><td>âœ… æ˜¯</td><td>æ›¿æ¢æˆ–åˆ›å»ºèµ„æºï¼Œè°ƒç”¨å¤šæ¬¡ç»“æœä¸€è‡´ï¼ˆå¹‚ç­‰ï¼‰ï¼Œä½†ä¼šä¿®æ”¹çŠ¶æ€ï¼ˆä¸å®‰å…¨ï¼‰</td></tr><tr><td><code>DELETE</code></td><td>âŒ å¦</td><td>âœ… æ˜¯</td><td>åˆ é™¤èµ„æºï¼Œè°ƒç”¨å¤šæ¬¡æ•ˆæœä¸€æ ·ï¼ˆå¹‚ç­‰ï¼‰ï¼Œä½†ä¼šæ”¹å˜æœåŠ¡å™¨çŠ¶æ€ï¼ˆä¸å®‰å…¨ï¼‰</td></tr></tbody></table><h3 id="git" tabindex="-1"><a class="header-anchor" href="#git"><span>Git</span></a></h3><table><thead><tr><th><strong>æœ¯è¯­/æ¦‚å¿µ</strong></th><th><strong>è§£é‡Š</strong></th><th><strong>å¸¸è§å‘½ä»¤ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><strong>Repositoryï¼ˆä»“åº“ï¼‰</strong></td><td>Git é¡¹ç›®ç›®å½•ï¼ŒåŒ…å«ç‰ˆæœ¬å†å²ã€åˆ†æ”¯ç­‰</td><td><code>git init</code>ï¼ˆåˆå§‹åŒ–æœ¬åœ°ä»“åº“ï¼‰<br><code>git clone https://&lt;user&gt;@&lt;host&gt;/path/to/repo.git</code>ï¼ˆå…‹éš†ï¼‰</td></tr><tr><td><strong>Commitï¼ˆæäº¤ï¼‰</strong></td><td>ä¸€æ¬¡ä»£ç æ›´æ”¹è®°å½•</td><td><code>git commit -m &quot;message&quot;</code><br><code>git log</code>ï¼ˆæŸ¥çœ‹æäº¤å†å²ï¼‰</td></tr><tr><td><strong>Branchï¼ˆåˆ†æ”¯ï¼‰</strong></td><td>å¹¶è¡Œå¼€å‘è·¯å¾„</td><td><code>git branch &lt;branch&gt;</code>ï¼ˆåˆ›å»ºï¼‰<br><code>git checkout &lt;branch&gt;</code>ï¼ˆåˆ‡æ¢ï¼‰<br><code>git branch</code>ï¼ˆåˆ—å‡ºæœ¬åœ°åˆ†æ”¯ï¼‰<br><code>git branch --remotes</code>ï¼ˆè¿œç¨‹ï¼‰</td></tr><tr><td><strong>head</strong></td><td>æŸä¸ªåˆ†æ”¯çš„æœ€æ–°æäº¤ä½ç½®</td><td>è‡ªåŠ¨ç®¡ç†ï¼ŒæŸ¥çœ‹ï¼š<code>git log --oneline</code></td></tr><tr><td><strong>HEAD</strong></td><td>å½“å‰æ‰€åœ¨åˆ†æ”¯æˆ–æäº¤</td><td><code>git status</code> æŸ¥çœ‹å½“å‰ HEAD ä½ç½®</td></tr><tr><td><strong>Tagï¼ˆæ ‡ç­¾ï¼‰</strong></td><td>ç»™æŸæ¬¡æäº¤æ‰“æ ‡ç­¾ï¼Œç”¨äºå‘å¸ƒç‰ˆæœ¬</td><td><code>git tag v1.0</code><br><code>git tag</code>ï¼ˆåˆ—å‡ºæ ‡ç­¾ï¼‰</td></tr><tr><td><strong>Remote repository</strong></td><td>æ‰˜ç®¡åœ¨ GitHub/GitLab ç­‰å¹³å°çš„è¿œç¨‹ä»“åº“</td><td><code>git remote add origin &lt;url&gt;</code><br><code>git remote -v</code>ï¼ˆæŸ¥çœ‹ï¼‰</td></tr><tr><td><strong>Cloneï¼ˆå…‹éš†ï¼‰</strong></td><td>å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°</td><td><code>git clone https://&lt;username&gt;@&lt;host&gt;/path/to/repo.git</code></td></tr><tr><td><strong>Checkoutï¼ˆç­¾å‡ºï¼‰</strong></td><td>åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯æˆ–æ–°å»ºåˆ†æ”¯</td><td><code>git checkout &lt;branch&gt;</code><br><code>git checkout -b &lt;new_branch&gt;</code></td></tr><tr><td><strong>Pullï¼ˆæ‹‰å–ï¼‰</strong></td><td>è·å–è¿œç¨‹æ›´æ”¹å¹¶åˆå¹¶åˆ°å½“å‰åˆ†æ”¯</td><td><code>git pull</code><br><code>git fetch -a</code>ï¼ˆè·å–æ‰€æœ‰è¿œç¨‹æ›´æ–°ï¼‰</td></tr><tr><td><strong>Pushï¼ˆæ¨é€ï¼‰</strong></td><td>å°†æœ¬åœ°æäº¤ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“</td><td><code>git push origin &lt;branch&gt;</code>ï¼ˆå¦‚ï¼š<code>git push origin feature/demo2</code>ï¼‰</td></tr><tr><td><strong>Mergeï¼ˆåˆå¹¶ï¼‰</strong></td><td>æŠŠå…¶ä»–åˆ†æ”¯åˆå¹¶è¿›å½“å‰åˆ†æ”¯</td><td><code>git merge &lt;branch&gt;</code></td></tr><tr><td><strong>Rebaseï¼ˆå˜åŸºï¼‰</strong></td><td>é‡æ–°åº”ç”¨æäº¤åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¹‹ä¸Šï¼ˆç”Ÿæˆæ›´çº¿æ€§çš„å†å²ï¼‰</td><td><code>git rebase &lt;branch&gt;</code></td></tr><tr><td><strong>Addï¼ˆæ·»åŠ æš‚å­˜ï¼‰</strong></td><td>å°†æ–‡ä»¶å˜æ›´æ·»åŠ åˆ°æš‚å­˜åŒº</td><td><code>git add &lt;filename&gt;</code>ï¼ˆæ·»åŠ å•ä¸ªï¼‰<br><code>git add .</code>ï¼ˆæ·»åŠ æ‰€æœ‰ï¼‰</td></tr><tr><td><strong>Diffï¼ˆæŸ¥çœ‹æ›´æ”¹ï¼‰</strong></td><td>æ˜¾ç¤ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºã€æäº¤ä¹‹é—´çš„å·®å¼‚</td><td><code>git diff</code>ï¼ˆå·¥ä½œç›®å½•å˜æ›´ï¼‰<br><code>git diff --cached</code>ï¼ˆå·²æš‚å­˜æœªæäº¤ï¼‰</td></tr><tr><td><strong>æ—¥å¿—æŸ¥çœ‹</strong></td><td>æŸ¥çœ‹æäº¤å†å²</td><td><code>git log</code><br><code>git log --oneline</code>ï¼ˆç®€æ´æ ¼å¼ï¼‰<br><code>git log --graph --all --oneline</code></td></tr><tr><td><strong>çŠ¶æ€æŸ¥çœ‹</strong></td><td>æŸ¥çœ‹å½“å‰åˆ†æ”¯ã€ä¿®æ”¹çŠ¶æ€</td><td><code>git status</code></td></tr></tbody></table><h2 id="week-7" tabindex="-1"><a class="header-anchor" href="#week-7"><span>Week 7</span></a></h2><h3 id="faas" tabindex="-1"><a class="header-anchor" href="#faas"><span>FaaS</span></a></h3><table><thead><tr><th><strong>ç±»åˆ«</strong></th><th><strong>å†…å®¹è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>å®šä¹‰</strong></td><td>FaaSï¼ˆFunction-as-a-Serviceï¼‰åˆç§° <strong>Serverless Computing</strong>ï¼ˆæ›´æµè¡Œä½†ä¸ç²¾ç¡®ï¼‰</td></tr><tr><td><strong>æ ¸å¿ƒç†å¿µ</strong></td><td>å¼€å‘è€…åªå…³æ³¨ä»£ç é€»è¾‘ï¼Œä¸éœ€ç®¡ç†æœåŠ¡å™¨æˆ–åŸºç¡€è®¾æ–½ï¼ˆå¦‚æ‰©å®¹ã€è´Ÿè½½ç­‰ï¼‰</td></tr><tr><td><strong>â€œServerlessâ€çš„å«ä¹‰</strong></td><td>å®é™…ä¸Šå¹¶ä¸æ˜¯â€œæ— æœåŠ¡å™¨â€ï¼Œè€Œæ˜¯â€œçœ‹ä¸è§æœåŠ¡å™¨â€ï¼ˆServer-unseenï¼‰</td></tr><tr><td><strong>FaaS vs ç¼–ç¨‹è¯­è¨€ä¸­çš„å‡½æ•°</strong></td><td>- <strong>ç¼–ç¨‹è¯­è¨€å‡½æ•°</strong>ï¼šåœ¨åŒä¸€è¿›ç¨‹å†…æ‰§è¡Œï¼Œè¿”å›å€¼ä»…é™å½“å‰ç¨‹åºä½¿ç”¨<br>- <strong>FaaS å‡½æ•°</strong>ï¼šç‹¬ç«‹è¿è¡Œï¼ˆå¦‚ Docker å®¹å™¨ï¼‰ï¼Œæ˜¯å¯è¢«å…¶ä»–ç³»ç»Ÿè°ƒç”¨çš„æœåŠ¡ï¼Œå¸¸è¿”å› JSON</td></tr><tr><td><strong>ä¸å¾®æœåŠ¡çš„å…³ç³»</strong></td><td>æ˜¯å¾®æœåŠ¡æ¶æ„çš„æç«¯å½¢å¼ï¼Œå‡½æ•°æ›´å°æ›´ç‹¬ç«‹ï¼Œæ¯ä¸ªå‡½æ•°å®Œæˆä¸€ä¸ªç®€å•ä»»åŠ¡</td></tr><tr><td><strong>æ‰§è¡Œæ¨¡å‹</strong></td><td>- æŒ‰éœ€åŠ è½½ï¼ŒæŒ‰éœ€æ‰§è¡Œ<br>- <strong>äº‹ä»¶é©±åŠ¨</strong>ï¼šå‡½æ•°é€šè¿‡è§¦å‘äº‹ä»¶è¢«è°ƒç”¨</td></tr><tr><td><strong>è§¦å‘æ–¹å¼ç¤ºä¾‹</strong></td><td>- æ¯å°æ—¶è§¦å‘ï¼ˆå¦‚å‹ç¼©æ—¥å¿—ï¼‰<br>- æœ‰èŠ‚ç‚¹åŠ å…¥é›†ç¾¤<br>- GitHub PR åˆå¹¶<br>- æ¶ˆæ¯é˜Ÿåˆ—æœ‰æ–°æ¶ˆæ¯</td></tr><tr><td><strong>å‡½æ•°ç‰¹æ€§ï¼ˆå‡½æ•°å¼ç¼–ç¨‹ç›¸å…³ï¼‰</strong></td><td>- æ— å‰¯ä½œç”¨ï¼ˆside-effect-freeï¼‰<br>- ç¬æ€ï¼ˆephemeralï¼‰<br>- æ— çŠ¶æ€ï¼ˆstatelessï¼‰<br>â†’ é€‚åˆå¹¶å‘å’Œè‡ªåŠ¨ä¼¸ç¼©</td></tr><tr><td><strong>ä¼˜åŠ¿</strong></td><td>âœ… è‡ªåŠ¨æ‰©å®¹<br>âœ… é™ä½æˆæœ¬ï¼ˆåªæŒ‰æ‰§è¡Œæ—¶é—´è®¡è´¹ï¼‰<br>âœ… ç®€åŒ–éƒ¨ç½²ï¼ˆæ— éœ€è¿ç»´ï¼‰<br>âœ… æ¶æ„æ›´çµæ´»</td></tr><tr><td><strong>æ„å»ºæ–¹å¼</strong></td><td>é€šè¿‡<strong>å‡½æ•° + äº‹ä»¶ç»„åˆ</strong>æ„å»ºå®Œæ•´åº”ç”¨ï¼Œåƒ UI ç³»ç»Ÿä¸­çš„â€œäº‹ä»¶å“åº”å›è°ƒâ€æ¨¡å¼</td></tr><tr><td><strong>å…¸å‹å®ç°å½¢å¼</strong></td><td>FaaS å‡½æ•°é€šå¸¸å°è£…åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œ</td></tr></tbody></table><h3 id="functions" tabindex="-1"><a class="header-anchor" href="#functions"><span>Functions</span></a></h3><ul><li>ä¸ä¿®æ”¹ç³»ç»ŸçŠ¶æ€çš„å‡½æ•°è¢«ç§°ä¸ºæ— å‰¯ä½œç”¨çš„ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªæ¥å—å›¾åƒå¹¶è¿”å›è¯¥å›¾åƒç¼©ç•¥å›¾çš„å‡½æ•°ï¼‰ã€‚</li><li>ä»¥æŸç§æ–¹å¼æ”¹å˜ç³»ç»Ÿçš„å‡½æ•°ä¸æ˜¯æ— å‰¯ä½œç”¨çš„ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªè¿”å›å›¾åƒç¼©ç•¥å›¾å¹¶å°†å…¶å†™å…¥æ–‡ä»¶ç³»ç»Ÿçš„å‡½æ•°ï¼‰ã€‚</li><li>æ— å‰¯ä½œç”¨çš„å‡½æ•°å¯ä»¥å¹¶è¡Œè¿è¡Œï¼Œå¹¶ä¸”åœ¨ç»™å®šç›¸åŒè¾“å…¥çš„æƒ…å†µä¸‹ï¼Œä¿è¯è¿”å›ç›¸åŒçš„è¾“å‡ºã€‚</li><li>ç„¶è€Œï¼Œåœ¨ç›¸å¯¹å¤æ‚çš„ç³»ç»Ÿä¸­ï¼Œå‰¯ä½œç”¨å‡ ä¹æ˜¯ä¸å¯é¿å…çš„ã€‚å› æ­¤ï¼Œå¿…é¡»è€ƒè™‘å¦‚ä½•ä½¿å…·æœ‰å‰¯ä½œç”¨çš„å‡½æ•°åœ¨FaaSç¯å¢ƒä¸­é€šå¸¸æ‰€éœ€çš„å¹¶è¡Œè¿è¡Œï¼Œé¿å…æ­»é”ï¼ˆæ¯ä¸ªå‡½æ•°éƒ½åœ¨ç­‰å¾…å¦ä¸€ä¸ªå‡½æ•°é‡Šæ”¾èµ„æºï¼‰ã€‚</li><li>å°†éæ— å‰¯ä½œç”¨çš„å‡½æ•°æ•°é‡é™åˆ¶åœ¨æœ€å°èŒƒå›´å†…æ˜¯ä¸€ä¸ªå¥½çš„å®è·µï¼Œè€Œä¸æ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­æ•£å¸ƒæ”¹å˜ç³»ç»Ÿçš„ä»£ç ç‰‡æ®µã€‚</li></ul><h4 id="æœ‰çŠ¶æ€å‡½æ•°-è¾“å‡ºä¾èµ–äºå†…éƒ¨å­˜å‚¨çš„ä¿¡æ¯-éš¾ä»¥å¹¶è¡Œè¿è¡Œã€‚" tabindex="-1"><a class="header-anchor" href="#æœ‰çŠ¶æ€å‡½æ•°-è¾“å‡ºä¾èµ–äºå†…éƒ¨å­˜å‚¨çš„ä¿¡æ¯-éš¾ä»¥å¹¶è¡Œè¿è¡Œã€‚"><span>æœ‰çŠ¶æ€å‡½æ•°ï¼šè¾“å‡ºä¾èµ–äºå†…éƒ¨å­˜å‚¨çš„ä¿¡æ¯ï¼Œéš¾ä»¥å¹¶è¡Œè¿è¡Œã€‚</span></a></h4><h4 id="æ— çŠ¶æ€å‡½æ•°-ä¸å†…éƒ¨å­˜å‚¨ä¿¡æ¯-ä¾èµ–å¤–éƒ¨å­˜å‚¨æ¥ç»´æŠ¤çŠ¶æ€-æ›´é€‚åˆåœ¨faasç¯å¢ƒä¸­è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#æ— çŠ¶æ€å‡½æ•°-ä¸å†…éƒ¨å­˜å‚¨ä¿¡æ¯-ä¾èµ–å¤–éƒ¨å­˜å‚¨æ¥ç»´æŠ¤çŠ¶æ€-æ›´é€‚åˆåœ¨faasç¯å¢ƒä¸­è¿è¡Œ"><span>æ— çŠ¶æ€å‡½æ•°ï¼šä¸å†…éƒ¨å­˜å‚¨ä¿¡æ¯ï¼Œä¾èµ–å¤–éƒ¨å­˜å‚¨æ¥ç»´æŠ¤çŠ¶æ€ï¼Œæ›´é€‚åˆåœ¨FaaSç¯å¢ƒä¸­è¿è¡Œ</span></a></h4><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒFaaSä¸­çš„å‡½æ•°æ˜¯åŒæ­¥çš„ï¼Œå› æ­¤å®ƒä»¬ä¼šç«‹å³ï¼ˆæˆ–å‡ ä¹ç«‹å³ï¼‰è¿”å›ç»“æœã€‚</li><li>ç„¶è€Œï¼Œæœ‰äº›å‡½æ•°å¯èƒ½éœ€è¦æ›´é•¿çš„æ—¶é—´æ‰èƒ½è¿”å›ç»“æœï¼Œå› æ­¤åœ¨è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå¯¼è‡´è¶…æ—¶å¹¶é”å®šä¸å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå› æ­¤æœ€å¥½å°†å®ƒä»¬è½¬æ¢ä¸ºå¼‚æ­¥å‡½æ•°ã€‚</li><li>å¼‚æ­¥å‡½æ•°è¿”å›ä¸€ä¸ªä»£ç ï¼Œé€šçŸ¥å®¢æˆ·ç«¯æ‰§è¡Œå·²å¼€å§‹ï¼ˆé€šå¸¸æ˜¯HTTPçŠ¶æ€ç 202ï¼‰ï¼Œç„¶ååœ¨æ‰§è¡Œå®Œæˆæ—¶è§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚</li><li>åœ¨æ›´å¤æ‚çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨æ¶‰åŠæ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿçš„å‘å¸ƒ/è®¢é˜…æ¨¡å¼æ¥å¤„ç†å¼‚æ­¥å‡½æ•°ã€‚</li></ul><table><thead><tr><th>ç‰¹æ€§</th><th>å•ä½“åº”ç”¨</th><th>å¾®æœåŠ¡åº”ç”¨</th><th>æ— æœåŠ¡å™¨åº”ç”¨</th></tr></thead><tbody><tr><td><strong>æ¶æ„</strong></td><td>æ‰€æœ‰åŠŸèƒ½åœ¨ä¸€ä¸ªä»£ç åº“å’Œè¿è¡Œæ—¶ç¯å¢ƒä¸­</td><td>å°†åŠŸèƒ½æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡æœ‰è‡ªå·±çš„ä»£ç åº“å’Œè¿è¡Œæ—¶ç¯å¢ƒ</td><td>å°†åŠŸèƒ½è¿›ä¸€æ­¥æ‹†åˆ†ä¸ºå‡½æ•°ï¼Œç”±ç¬¬ä¸‰æ–¹å¹³å°ç®¡ç†è¿è¡Œæ—¶ç¯å¢ƒ</td></tr><tr><td><strong>éƒ¨ç½²</strong></td><td>ä½œä¸ºä¸€ä¸ªæ•´ä½“éƒ¨ç½²</td><td>å„ä¸ªæœåŠ¡ç‹¬ç«‹éƒ¨ç½²</td><td>å‡½æ•°æŒ‰éœ€éƒ¨ç½²ï¼Œç”±å¹³å°è‡ªåŠ¨æ‰©å±•</td></tr><tr><td><strong>æ‰©å±•</strong></td><td>å‚ç›´æ‰©å±•ï¼ˆå¢åŠ èµ„æºï¼‰</td><td>æ°´å¹³æ‰©å±•ï¼ˆå¢åŠ å®ä¾‹ï¼‰</td><td>è‡ªåŠ¨æ°´å¹³æ‰©å±•</td></tr><tr><td><strong>è€¦åˆåº¦</strong></td><td>é«˜è€¦åˆ</td><td>ä½è€¦åˆ</td><td>æ— è€¦åˆ</td></tr><tr><td><strong>æŠ€æœ¯æ ˆ</strong></td><td>é€šå¸¸ä½¿ç”¨å•ä¸€æŠ€æœ¯æ ˆ</td><td>å„ä¸ªæœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„æŠ€æœ¯æ ˆ</td><td>å‡½æ•°å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€å’Œç¯å¢ƒ</td></tr><tr><td><strong>å¼€å‘</strong></td><td>å¼€å‘å’Œè°ƒè¯•ç›¸å¯¹ç®€å•</td><td>å¼€å‘å’Œè°ƒè¯•æ›´å¤æ‚ï¼Œéœ€è¦æœåŠ¡é—´é€šä¿¡æœºåˆ¶</td><td>å¼€å‘ç®€å•ï¼Œåªéœ€å…³æ³¨å‡½æ•°é€»è¾‘</td></tr><tr><td><strong>æµ‹è¯•</strong></td><td>æµ‹è¯•ç›¸å¯¹ç®€å•</td><td>éœ€è¦è¿›è¡Œé›†æˆæµ‹è¯•å’Œç«¯åˆ°ç«¯æµ‹è¯•</td><td>æµ‹è¯•ç›¸å¯¹ç®€å•ï¼Œä½†éœ€è¦æ¨¡æ‹Ÿäº‹ä»¶è§¦å‘</td></tr><tr><td><strong>ç»´æŠ¤</strong></td><td>ç»´æŠ¤ç›¸å¯¹ç®€å•</td><td>éœ€è¦ç»´æŠ¤å¤šä¸ªæœåŠ¡ï¼Œæ›´å¤æ‚</td><td>ç»´æŠ¤ç”±å¹³å°è´Ÿè´£ï¼Œå¼€å‘è€…åªéœ€å…³æ³¨ä»£ç </td></tr><tr><td><strong>æ•…éšœéš”ç¦»</strong></td><td>æ•…éšœä¼šå½±å“æ•´ä¸ªåº”ç”¨</td><td>æ•…éšœè¢«éš”ç¦»åœ¨å•ä¸ªæœåŠ¡ä¸­</td><td>æ•…éšœè¢«éš”ç¦»åœ¨å•ä¸ªå‡½æ•°ä¸­</td></tr><tr><td><strong>èµ„æºåˆ©ç”¨ç‡</strong></td><td>èµ„æºåˆ©ç”¨ç‡å¯èƒ½è¾ƒä½</td><td>èµ„æºåˆ©ç”¨ç‡è¾ƒé«˜ï¼Œä½†éœ€è¦ç®¡ç†å¤šä¸ªæœåŠ¡</td><td>èµ„æºåˆ©ç”¨ç‡æœ€é«˜ï¼ŒæŒ‰éœ€ä»˜è´¹</td></tr><tr><td><strong>å»¶è¿Ÿ</strong></td><td>é€šå¸¸è¾ƒä½</td><td>å¯èƒ½å¼•å…¥ç½‘ç»œå»¶è¿Ÿ</td><td>å¯èƒ½å¼•å…¥ç½‘ç»œå»¶è¿Ÿå’Œå†·å¯åŠ¨å»¶è¿Ÿ</td></tr><tr><td><strong>æˆæœ¬</strong></td><td>åˆæœŸæˆæœ¬è¾ƒä½ï¼Œä½†éšç€è§„æ¨¡æ‰©å¤§æˆæœ¬å¢åŠ </td><td>åˆæœŸæˆæœ¬è¾ƒé«˜ï¼Œä½†æ›´å®¹æ˜“æ‰©å±•ï¼Œé•¿æœŸæˆæœ¬å¯èƒ½è¾ƒä½</td><td>æˆæœ¬ä¸ä½¿ç”¨é‡ç›´æ¥ç›¸å…³ï¼Œé€‚åˆäº‹ä»¶é©±åŠ¨çš„åº”ç”¨</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å°å‹åº”ç”¨ã€å¿«é€ŸåŸå‹å¼€å‘</td><td>å¤§å‹å¤æ‚åº”ç”¨ã€éœ€è¦çµæ´»æ€§å’Œå¯æ‰©å±•æ€§çš„åº”ç”¨</td><td>äº‹ä»¶é©±åŠ¨çš„åº”ç”¨ã€éœ€è¦é«˜åº¦å¼¹æ€§å’Œè‡ªåŠ¨æ‰©å±•çš„åº”ç”¨</td></tr><tr><td><strong>ç¤ºä¾‹å·¥å…·</strong></td><td>ä¼ ç»Ÿçš„ Web åº”ç”¨æ¡†æ¶</td><td>Kubernetes, Docker, Istio</td><td>AWS Lambda, Azure Functions, Google Cloud Functions</td></tr><tr><td><strong>æ€»ç»“:</strong></td><td></td><td></td><td></td></tr></tbody></table><ul><li><strong>å•ä½“åº”ç”¨</strong> ç®€å•æ˜“ç”¨ï¼Œé€‚åˆå°å‹é¡¹ç›®æˆ–å¿«é€ŸåŸå‹å¼€å‘ã€‚</li><li><strong>å¾®æœåŠ¡åº”ç”¨</strong> æä¾›æ›´é«˜çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ï¼Œé€‚åˆå¤§å‹å¤æ‚é¡¹ç›®ã€‚</li><li><strong>æ— æœåŠ¡å™¨åº”ç”¨</strong> æä¾›æœ€é«˜çš„å¼¹æ€§å’Œè‡ªåŠ¨æ‰©å±•èƒ½åŠ›ï¼Œé€‚åˆäº‹ä»¶é©±åŠ¨çš„åº”ç”¨ã€‚</li></ul><h3 id="fission" tabindex="-1"><a class="header-anchor" href="#fission"><span>Fission</span></a></h3><table><thead><tr><th><strong>æœ¯è¯­/ç»„ä»¶</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>Function</strong></td><td>å¯è¢«ç‹¬ç«‹è§¦å‘æ‰§è¡Œçš„<strong>ä»£ç æ¨¡å—</strong>ï¼Œè¿”å›å€¼ï¼Œè¿è¡Œåœ¨æŸè¯­è¨€ç¯å¢ƒå†…</td></tr><tr><td><strong>Environment</strong></td><td>åŸºäº Docker é•œåƒçš„è¿è¡Œç¯å¢ƒï¼Œè¯­è¨€ç›¸å…³ï¼ˆå¦‚ Pythonï¼‰ï¼Œå¸¦æœ‰ HTTP server å’ŒåŸºæœ¬åº“ï¼Œå¯è¢«è‡ªå®šä¹‰</td></tr><tr><td><strong>Package</strong></td><td>ç”¨äº<strong>è‡ªå®šä¹‰ç¯å¢ƒ</strong>çš„ä¸€ç»„ä»£ç /ä¾èµ–ï¼ˆå¦‚ï¼šæ·»åŠ  elasticsearch åº“ï¼‰</td></tr><tr><td><strong>Trigger</strong></td><td>è§¦å‘å‡½æ•°æ‰§è¡Œçš„äº‹ä»¶ï¼š<br>âœ… HTTP è¯·æ±‚<br>âœ… å®šæ—¶å™¨ï¼ˆCronï¼‰<br>âœ… æ¶ˆæ¯é˜Ÿåˆ—<br>âœ… K8s Job å®Œæˆ</td></tr><tr><td><strong>Router</strong></td><td>è´Ÿè´£å°† HTTP è¯·æ±‚<strong>è·¯ç”±åˆ°å¯¹åº”å‡½æ•°</strong></td></tr><tr><td><strong>Specsï¼ˆè§„èŒƒï¼‰</strong></td><td>ç”¨ YAML æ–‡ä»¶æè¿° Functionsã€Triggers ç­‰é…ç½®ï¼Œä¾¿äºåº”ç”¨<strong>å£°æ˜å¼éƒ¨ç½²ä¸ç‰ˆæœ¬ç®¡ç†</strong></td></tr></tbody></table><h4 id="executors" tabindex="-1"><a class="header-anchor" href="#executors"><span>Executors</span></a></h4><table><thead><tr><th><strong>æ‰§è¡Œæ–¹å¼</strong></th><th><strong>æœºåˆ¶</strong></th><th><strong>ç‰¹ç‚¹</strong></th></tr></thead><tbody><tr><td><strong>PoolManager</strong></td><td>é»˜è®¤æ–¹å¼ã€‚ä¸ºæ¯ä¸ª environment ç»´æŠ¤<strong>ä¸€ä¸ª pod æ± </strong>ï¼Œå‡½æ•°è°ƒç”¨æ—¶åŠ è½½ package æ‰§è¡Œ</td><td>âœ… å¯åŠ¨å¿«ï¼ˆwarm startï¼‰<br>âŒ å•å®ä¾‹ï¼Œæ‰¿è½½å‹åŠ›å°ï¼ˆå¤šçº¿ç¨‹å¤„ç†ï¼Œä½†å®¹æ˜“è¿‡è½½ï¼‰</td></tr><tr><td><strong>NewDeploy</strong></td><td>æ¯ä¸ªå‡½æ•°æ‹¥æœ‰è‡ªå·±çš„ deploymentï¼Œæ ¹æ®è´Ÿè½½<strong>è‡ªåŠ¨æ‰©å±•å¤šä¸ª pod å®ä¾‹</strong></td><td>âŒ å¯åŠ¨æ…¢ï¼ˆcold startï¼‰<br>âœ… å¯æ‰©å±•ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯</td></tr></tbody></table><h3 id="fission-cli" tabindex="-1"><a class="header-anchor" href="#fission-cli"><span>Fission Cli</span></a></h3><h4 id="function" tabindex="-1"><a class="header-anchor" href="#function"><span>Function</span></a></h4><table><thead><tr><th><strong>ç±»åˆ«</strong></th><th><strong>æ“ä½œè¯´æ˜</strong></th><th><strong>å‘½ä»¤ç¤ºä¾‹</strong></th><th><strong>å¤‡æ³¨</strong></th></tr></thead><tbody><tr><td><strong>å‡½æ•° Function</strong></td><td>åˆ›å»ºå‡½æ•°</td><td><code>fission fn create --name hello --env python --code hello.py</code></td><td>ä»£ç ä¸º <code>hello.py</code> æ–‡ä»¶</td></tr><tr><td></td><td>æµ‹è¯•å‡½æ•°</td><td><code>fission fn test --name hello</code></td><td>é»˜è®¤ä½¿ç”¨ <code>default</code> namespace</td></tr><tr><td></td><td>æŸ¥çœ‹æ—¥å¿—</td><td><code>fission fn log --name hello --namespace default</code></td><td>æŸ¥çœ‹ç‰¹å®šå‘½åç©ºé—´ä¸‹æ—¥å¿—</td></tr><tr><td></td><td>æ›´æ–°å‡½æ•°ä»£ç </td><td><code>fission fn update --name hello --code hello.py</code></td><td>ä¿®æ”¹æºä»£ç åéœ€æ‰§è¡Œæ­¤å‘½ä»¤</td></tr><tr><td></td><td>åˆ—å‡ºå‡½æ•°</td><td><code>fission fn list</code></td><td></td></tr><tr><td></td><td>åˆ é™¤å‡½æ•°</td><td><code>fission fn delete --name hello</code></td><td></td></tr><tr><td></td><td>å®¹å™¨è¿è¡Œå‡½æ•° (Alpha)</td><td><code>fission fn run-container ...</code></td><td>ä½¿ç”¨ Docker å®¹å™¨ä½œä¸ºå‡½æ•°</td></tr></tbody></table><h4 id="create-http-route" tabindex="-1"><a class="header-anchor" href="#create-http-route"><span>Create HTTP Route</span></a></h4><table><thead><tr><th><strong>æ“ä½œè¯´æ˜</strong></th><th><strong>å‘½ä»¤ç¤ºä¾‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>åˆ›å»º HTTP è·¯ç”±</td><td><code>fission route create --name hellort --function hello --method GET --url /hello</code></td><td>curl è¯·æ±‚åè¿”å› Hello world</td></tr><tr><td>åˆ›å»ºå¸¦å‚æ•°çš„è·¯ç”±</td><td><code>fission route update --name hello --function hello --method GET --url &#39;/hello/{word:[A-Za-z]+}&#39;</code></td><td>å‚æ•°é€šè¿‡ header ä¼ å…¥</td></tr><tr><td>ç¤ºä¾‹å‡½æ•°å¤„ç†å‚æ•°</td><td><code>request.headers[&quot;X-Fission-Params-Word&quot;]</code></td><td>Flask é£æ ¼è¯»å– header å‚æ•°</td></tr><tr><td>ç»‘å®šå¤šä¸ªè·¯ç”±åˆ°åŒä¸€å‡½æ•°</td><td>åˆ›å»ºå¤šä¸ª <code>route create</code> å‘½ä»¤</td><td>åŒä¸€ä¸ªå‡½æ•°æ”¯æŒ GETã€POSTã€DELETE ç­‰å¤šä¸ª HTTP åŠ¨ä½œ</td></tr></tbody></table><h4 id="åŒ…ä¸è‡ªå®šä¹‰ç¯å¢ƒ-package" tabindex="-1"><a class="header-anchor" href="#åŒ…ä¸è‡ªå®šä¹‰ç¯å¢ƒ-package"><span>åŒ…ä¸è‡ªå®šä¹‰ç¯å¢ƒï¼ˆPackageï¼‰</span></a></h4><table><thead><tr><th><strong>æ“ä½œè¯´æ˜</strong></th><th><strong>å‘½ä»¤ç¤ºä¾‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>åˆ›å»ºè‡ªå®šä¹‰åŒ…</td><td><code>fission pkg create --name mypackage --sourcearchive mypackage.zip --env python --buildcmd &#39;./build.sh&#39;</code></td><td>ZIP åŒ…å« <code>requirements.txt</code>, <code>build.sh</code>, <code>__init__.py</code></td></tr><tr><td>ä½¿ç”¨ package åˆ›å»ºå‡½æ•°</td><td><code>fission fn create --name myfunction --env python --pkg mypackage --entrypoint &quot;myfunction.main&quot;</code></td><td>æŒ‡å®šå…¥å£å‡½æ•°</td></tr></tbody></table><h4 id="å®šæ—¶-èµ„æºè§¦å‘å™¨-triggers" tabindex="-1"><a class="header-anchor" href="#å®šæ—¶-èµ„æºè§¦å‘å™¨-triggers"><span>å®šæ—¶/èµ„æºè§¦å‘å™¨ï¼ˆTriggersï¼‰</span></a></h4><table><thead><tr><th><strong>ç±»å‹</strong></th><th><strong>å‘½ä»¤ç¤ºä¾‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>å®šæ—¶è§¦å‘å™¨</td><td><code>fission timer create --name everyminuteMyFunction --function myfunction --cron &quot;@every 1m&quot;</code></td><td>æ¯åˆ†é’Ÿè°ƒç”¨ä¸€æ¬¡å‡½æ•°</td></tr><tr><td>K8s èµ„æºç›‘æ§</td><td><code>fission watch create --name podEventsMyFunction --function myfunction --type pod</code></td><td>pod çŠ¶æ€å˜åŒ–æ—¶è§¦å‘å‡½æ•°</td></tr></tbody></table><h4 id="cli-å¯¹è±¡ç¼©å†™å¯¹ç…§è¡¨" tabindex="-1"><a class="header-anchor" href="#cli-å¯¹è±¡ç¼©å†™å¯¹ç…§è¡¨"><span>CLI å¯¹è±¡ç¼©å†™å¯¹ç…§è¡¨</span></a></h4><table><thead><tr><th><strong>ç¼©å†™</strong></th><th><strong>å¯¹åº”å…¨å</strong></th></tr></thead><tbody><tr><td><code>fn</code></td><td>Function</td></tr><tr><td><code>env</code></td><td>Environment</td></tr><tr><td><code>rt</code></td><td>Route</td></tr><tr><td><code>tr</code></td><td>Trigger</td></tr><tr><td><code>pkg</code></td><td>Package</td></tr><tr><td><code>spec</code></td><td>Specification</td></tr></tbody></table><h4 id="example-create-a-http-function" tabindex="-1"><a class="header-anchor" href="#example-create-a-http-function"><span>Example: Create a HTTP Function</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1. åˆ›å»º Python ç¯å¢ƒ</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fission</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> env</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fission/python-env</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2. å†™ hello.py</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;def main(): return &#39;Hello, world!&#39;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">hello.py</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 3. åˆ›å»ºå‡½æ•°</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fission</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hello</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --env</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --code</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hello.py</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 4. åˆ›å»º HTTP è·¯ç”±</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fission</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> route</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> create</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hellort</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --function</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hello</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --method</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GET</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --url</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /hello</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 5. è°ƒç”¨å‡½æ•°</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://localhost:9090/hello</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è¾“å‡º: Hello, world!</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="fission-mq-websocket" tabindex="-1"><a class="header-anchor" href="#fission-mq-websocket"><span>Fission MQ &amp; WebSocket</span></a></h3><table><thead><tr><th><strong>åŠŸèƒ½ç±»åˆ«</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>å…³é”®æŠ€æœ¯/ç‰¹ç‚¹</strong></th></tr></thead><tbody><tr><td>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰</td><td>Fission æ”¯æŒä½¿ç”¨ Kafka æˆ– Redis ç­‰ä½œä¸ºåç«¯ï¼Œå®ç°å‡½æ•°ä¹‹é—´çš„å¼‚æ­¥é€šä¿¡ã€‚ä¸€ä¸ªå‡½æ•°å¯ä»¥å‘é€æ¶ˆæ¯åˆ°é˜Ÿåˆ—ï¼Œå¦ä¸€ä¸ªå‡½æ•°ç¨åæ¶ˆè´¹ã€‚</td><td>å®ç°å‡½æ•°è§£è€¦ã€å¼‚æ­¥å¤„ç†ã€é«˜æ€§èƒ½</td></tr><tr><td>WebSocket æ”¯æŒ</td><td>ç”¨äºå¤„ç†é•¿ä»»åŠ¡ç»“æœè¿”å›ã€‚å®¢æˆ·ç«¯å‘è¯·æ±‚åå¼€å¯ WebSocket è¿æ¥ï¼ŒFission åå°å‡½æ•°å®Œæˆä»»åŠ¡åé€šè¿‡ WebSocket è¿”å›ç»“æœã€‚</td><td>å®æ—¶ã€åŒå‘é€šä¿¡ï¼›é€‚åˆä¸å‰ç«¯ JS é…åˆä½¿ç”¨</td></tr></tbody></table><h3 id="fission-specs" tabindex="-1"><a class="header-anchor" href="#fission-specs"><span>Fission Specs</span></a></h3><table><thead><tr><th><strong>åŠŸèƒ½ç±»åˆ«</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>å…³é”®å‘½ä»¤/ç”¨æ³•</strong></th></tr></thead><tbody><tr><td>è§„èŒƒç®¡ç†ï¼ˆSpecsï¼‰</td><td>ä½¿ç”¨ YAML æ–‡ä»¶æ¥å£°æ˜å‡½æ•°ã€è§¦å‘å™¨ã€è·¯ç”±ç­‰é…ç½®ï¼Œç»Ÿä¸€ç®¡ç†ï¼Œå®ç°åŸºç¡€è®¾æ–½å³ä»£ç ã€å£°æ˜å¼ç®¡ç†ã€‚</td><td><code>fission specs apply</code> ä¸€æ¬¡æ€§éƒ¨ç½²å…¨éƒ¨ç»„ä»¶</td></tr><tr><td>åˆ›å»º Specs</td><td>ä½¿ç”¨ Fission CLI å‘½ä»¤æ—¶åŠ  <code>--spec</code> ä¼šå°†é…ç½®å†™å…¥ specs ç›®å½•ï¼Œè€Œä¸æ˜¯ç«‹å³åº”ç”¨åˆ°é›†ç¾¤ä¸­ã€‚</td><td><code>fission function create --spec ...</code></td></tr><tr><td>åˆ é™¤ Specs å¯¹è±¡</td><td>ä» specs ç›®å½•åˆ é™¤å¯¹åº” YAML æ–‡ä»¶åï¼Œä½¿ç”¨ <code>fission specs apply --delete</code> å¯åŒæ­¥ä»é›†ç¾¤ä¸­ç§»é™¤å¯¹åº”å¯¹è±¡ã€‚</td><td><code>fission specs apply --delete</code></td></tr><tr><td>å‚æ•°ä¼ é€’ï¼ˆConfigMapï¼‰</td><td>å¯é€šè¿‡ Kubernetes çš„ ConfigMap å°†å‚æ•°æ³¨å…¥å‡½æ•°ä¸­ï¼ŒFission ä¼šå°†å…¶æŒ‚è½½ä¸ºæ–‡ä»¶ï¼Œå¯é€šè¿‡è¯»å–æ–‡ä»¶æ¥è·å–å€¼ã€‚</td><td><code>kubectl apply -f &lt;configmap&gt;.yaml</code></td></tr><tr><td>è¯»å–å‚æ•°ï¼ˆPythonï¼‰</td><td>é€šè¿‡å‡½æ•°è¯»å–è·¯å¾„å¦‚ <code>/configs/&lt;namespace&gt;/&lt;configmap-name&gt;/&lt;key&gt;</code> è·å–å‚æ•°å€¼ã€‚</td><td><code>open(&#39;/configs/default/shared-data/ES_USERNAME&#39;)</code></td></tr><tr><td>æ³¨æ„äº‹é¡¹</td><td>ConfigMap é€‚ç”¨äºéæ•æ„Ÿå‚æ•°ï¼›æ•æ„Ÿä¿¡æ¯å»ºè®®ä½¿ç”¨ Kubernetes Secretã€‚</td><td>Secrets ä¼šæŒ‚è½½åœ¨ <code>/secrets/...</code> ç›®å½•ä¸­</td></tr></tbody></table><h3 id="test-faas" tabindex="-1"><a class="header-anchor" href="#test-faas"><span>Test FaaS</span></a></h3><table><thead><tr><th><strong>ç±»åˆ«</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>ç¤ºä¾‹ / å»ºè®®</strong></th></tr></thead><tbody><tr><td><strong>ä¸ºä½•æµ‹è¯•</strong></td><td>æå‰å‘ç°é—®é¢˜ï¼Œå‡å°‘ç»´æŠ¤æˆæœ¬ï¼Œæå‡å›¢é˜Ÿåä½œæ•ˆç‡</td><td>æ—©æœŸå‘ç° bug æˆæœ¬ä½ï¼Œé¿å…å„æ¨¡å—äº’ç›¸â€œç”©é”…â€</td></tr><tr><td><strong>æµ‹è¯•æ–¹å¼</strong></td><td>è‡ªåŠ¨åŒ–ã€æ—©æœŸã€å…¨é¢ã€å¢é‡</td><td>ä½¿ç”¨è„šæœ¬/CI å·¥å…·è‡ªåŠ¨æµ‹è¯•ï¼›ç»“åˆè®¾è®¡åŒæ—¶å†™æµ‹è¯•ï¼ˆTDDï¼‰ï¼›æ¯æ”¹ä¸€ç‚¹æµ‹ä¸€ç‚¹</td></tr><tr><td><strong>æµ‹è¯•ç›®æ ‡</strong></td><td>- æ­£å¸¸æƒ…å†µ<br>- è¾¹ç•Œæƒ…å†µ<br>- é”™è¯¯æƒ…å†µ</td><td><ul><li>æ­£å¸¸è¾“å…¥æ˜¯å¦æˆåŠŸï¼Ÿ</li><li>å¼‚å¸¸è¾“å…¥ï¼ˆå¦‚é™¤0ã€ç©ºå­—ç¬¦ä¸²ï¼‰æ˜¯å¦å¤„ç†ï¼Ÿ</li><li>æœåŠ¡æŒ‚äº†èƒ½å¦ç»™å‡ºåˆç†é”™è¯¯ï¼Ÿ</li></ul></td></tr><tr><td><strong>æµ‹è¯•å¯¹è±¡</strong></td><td><ul><li>å‡½æ•°æœ¬èº«</li><li>å‡½æ•°ä¹‹é—´äº¤äº’</li><li>è§¦å‘å™¨è°ƒç”¨æ˜¯å¦æ­£ç¡®</li><li>å¤–éƒ¨ä¾èµ–ï¼ˆå¦‚ DBï¼‰æ˜¯å¦è¿æ¥æ­£å¸¸</li></ul></td><td>REST API è¾“å…¥è¾“å‡ºã€Kafka æ¶ˆæ¯å¤„ç†ã€å®šæ—¶ä»»åŠ¡ã€ConfigMap/Env å‚æ•°æ˜¯å¦ç”Ÿæ•ˆ</td></tr><tr><td><strong>ä¸ Fission é…åˆ</strong></td><td>å¯åœ¨å‡½æ•°å¼€å‘æ—©æœŸæœ¬åœ°è¿è¡Œæˆ–é€šè¿‡ CLI å¿«é€Ÿéƒ¨ç½²ï¼Œç»“åˆ curl æˆ– pytest æµ‹è¯•</td><td><code>fission function test --name &lt;fn&gt;</code> æˆ– <code>curl localhost:9090/api/...</code></td></tr><tr><td><strong>æŒç»­é›†æˆ (CI)</strong></td><td>æŠŠå‡½æ•°æµ‹è¯•åŠ å…¥ CI/CD æµæ°´çº¿è‡ªåŠ¨æ‰§è¡Œ</td><td>åœ¨ GitLab/GitHub Actions ä¸­é…ç½®è‡ªåŠ¨éƒ¨ç½² &amp; æµ‹è¯•</td></tr></tbody></table><table><thead><tr><th><strong>æµ‹è¯•ç±»å‹</strong></th><th><strong>æµ‹è¯•ç›®æ ‡</strong></th><th><strong>ç‰¹ç‚¹</strong></th></tr></thead><tbody><tr><td><strong>Unit Test</strong></td><td>æµ‹è¯•å•ä¸ªå‡½æ•°/æ¨¡å—æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ</td><td>- å¿«é€Ÿæ‰§è¡Œ<br>- ä¸ä¾èµ–å¤–éƒ¨ç³»ç»Ÿï¼ˆæ•°æ®åº“ã€ç½‘ç»œç­‰ï¼‰<br>- èšç„¦è¾¹ç•Œæ¡ä»¶ä¸é€»è¾‘åˆ†æ”¯</td></tr><tr><td><strong>Integration Test</strong></td><td>æµ‹è¯•å¤šä¸ªç»„ä»¶ååŒå·¥ä½œæ˜¯å¦æ­£å¸¸ï¼ˆä¾‹å¦‚å‡½æ•°ä¸æ•°æ®åº“çš„é›†æˆï¼‰</td><td>- å¯ä½¿ç”¨ <strong>mock</strong>ï¼ˆæ¨¡æ‹Ÿä¾èµ–ï¼‰æµ‹è¯•å¼‚å¸¸æƒ…å†µ<br>- è¾ƒæ…¢ï¼Œä½†çœŸå®åæ˜ æ¨¡å—é—´äº¤äº’</td></tr><tr><td><strong>System Test (End-to-End)</strong></td><td>æµ‹è¯•æ•´ä¸ªç³»ç»Ÿä»å…¥å£åˆ°è¾“å‡ºæ˜¯å¦ç¬¦åˆé¢„æœŸï¼ˆå¦‚æœ€ç»ˆç”¨æˆ·è®¿é—®æ¥å£ï¼‰</td><td>- æ¨¡æ‹ŸçœŸå®ç”¨æˆ·<br>- æ£€æŸ¥ APIã€è§¦å‘å™¨ã€å‡½æ•°ã€æ¶ˆæ¯é˜Ÿåˆ—ã€æ•°æ®åº“æ˜¯å¦èƒ½ååŒå·¥ä½œ</td></tr></tbody></table><h2 id="week-8" tabindex="-1"><a class="header-anchor" href="#week-8"><span>Week 8</span></a></h2><h3 id="_4v-of-big-data" tabindex="-1"><a class="header-anchor" href="#_4v-of-big-data"><span>4V of Big Data</span></a></h3><table><thead><tr><th><strong>ç‰¹å¾</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>å½±å“ä¸æŒ‘æˆ˜</strong></th></tr></thead><tbody><tr><td><strong>Volume</strong></td><td>æ•°æ®é‡å·¨å¤§ï¼ˆGBã€TBã€PBâ€¦ï¼‰</td><td>è¦æ±‚æ•°æ®åº“å…·å¤‡é«˜å­˜å‚¨èƒ½åŠ›å’Œåˆ†å¸ƒå¼æ‰©å±•èƒ½åŠ›</td></tr><tr><td><strong>Velocity</strong></td><td>æ•°æ®ç”Ÿæˆ/åˆ°è¾¾é€Ÿåº¦å¿«ï¼ˆå¦‚å®æ—¶ä¼ æ„Ÿå™¨ã€ç¤¾äº¤åª’ä½“ï¼‰</td><td>è¦æ±‚ç³»ç»Ÿå…·å¤‡å®æ—¶æˆ–è¿‘å®æ—¶å¤„ç†èƒ½åŠ›ï¼Œæ”¯æŒé«˜ååå†™å…¥/æ›´æ–°</td></tr><tr><td><strong>Variety</strong></td><td>æ•°æ®å½¢å¼å¤šæ ·ï¼ˆç»“æ„åŒ–ã€åŠç»“æ„åŒ–ã€éç»“æ„åŒ–ï¼‰ï¼Œæ¨¡å¼å¤æ‚</td><td>ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“éš¾ä»¥åº”å¯¹ï¼Œéœ€è€ƒè™‘æ–‡æ¡£å‹ã€å›¾æ•°æ®åº“ã€é”®å€¼å¯¹å­˜å‚¨ç­‰éå…³ç³»å‹æ•°æ®åº“ï¼ˆNoSQLï¼‰</td></tr><tr><td><strong>Veracity</strong></td><td>æ•°æ®å‡†ç¡®æ€§ã€å¯ä¿¡åº¦ä¸ä¸€ï¼ˆæ•°æ®æ¥æºå¤šï¼Œè´¨é‡å‚å·®ï¼‰</td><td>æ•°æ®æ¸…æ´—å’ŒéªŒè¯å˜å¾—æ›´é‡è¦ï¼Œéœ€è¦çµæ´»çš„æ•°æ®æ¨¡å‹æ”¯æŒä½ä¸€è‡´æ€§æˆ–ä¸åŒâ€œæ–°é²œåº¦â€çš„æ•°æ®</td></tr></tbody></table><table><thead><tr><th><strong>æ•°æ®æ¨¡å‹ç±»å‹</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>ä»£è¡¨ç³»ç»Ÿ</strong></th><th><strong>ç‰¹ç‚¹/é€‚ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td>ğŸ”‘ <strong>Key-Value Store</strong></td><td>ä»¥é”®-å€¼å¯¹æ–¹å¼å­˜å‚¨æ•°æ®ï¼Œè®¿é—®å¿«é€Ÿä½†åŠŸèƒ½ç®€å•</td><td>Redis, RocksDB, Berkeley DB</td><td>æè‡´æ€§èƒ½ï¼ˆç¼“å­˜ã€æ’è¡Œæ¦œç­‰ï¼‰ï¼Œä¸æ”¯æŒå¤æ‚æŸ¥è¯¢</td></tr><tr><td>ğŸ§± <strong>Column Family Store</strong> (åˆ—å¼æ•°æ®åº“)</td><td>è¡Œ-åˆ—æ—ç»“æ„ï¼Œæ¯è¡Œå¯æœ‰ä¸åŒåˆ—ï¼Œé€‚åˆç¨€ç–æ•°æ®</td><td>Apache Cassandra, HBase, Accumulo</td><td>å†™å¤šè¯»å°‘åœºæ™¯ã€å¤§è§„æ¨¡æ—¶é—´åºåˆ—ã€æ—¥å¿—åˆ†æ</td></tr><tr><td>ğŸ“„ <strong>Document Store</strong></td><td>ä»¥æ–‡æ¡£ï¼ˆJSON/XMLï¼‰ä¸ºå•ä½å­˜å‚¨åŠç»“æ„åŒ–æ•°æ®ï¼Œç»“æ„çµæ´»ï¼Œæ”¯æŒåµŒå¥—</td><td>MongoDB, CouchDB, ElasticSearch</td><td>éç»“æ„åŒ–æ•°æ®ã€å¤šå˜ schemaã€æ”¯æŒå…¨æ–‡æ£€ç´¢ã€é¢å‘ API çš„åº”ç”¨</td></tr><tr><td>ğŸ”— <strong>Graph Database</strong></td><td>åŸºäºèŠ‚ç‚¹å’Œè¾¹å»ºæ¨¡ï¼Œé€‚åˆå¤æ‚å…³ç³»æ•°æ®</td><td>Neo4j, Amazon Neptune</td><td>ç¤¾äº¤ç½‘ç»œã€æ¨èç³»ç»Ÿã€è·¯å¾„æœç´¢åœºæ™¯</td></tr></tbody></table><h3 id="couchdb-vs-postgresql-vs-elasticsearch" tabindex="-1"><a class="header-anchor" href="#couchdb-vs-postgresql-vs-elasticsearch"><span>CouchDB vs PostgreSQL vs ElasticSearch</span></a></h3><table><thead><tr><th>ç‰¹æ€§ / æ•°æ®åº“ç³»ç»Ÿ</th><th><strong>CouchDB</strong></th><th><strong>PostgreSQL (Federated)</strong></th><th><strong>ElasticSearch</strong></th></tr></thead><tbody><tr><td><strong>æ¶æ„ç±»å‹</strong></td><td>Master-Masterï¼ˆå¤šä¸»ï¼‰</td><td>Federatedï¼ˆåˆ†å¸ƒå¼è”é‚¦æ•°æ®åº“ï¼‰</td><td>Master-eligible + Data Node æ¶æ„</td></tr><tr><td><strong>è¯»å†™æœºåˆ¶</strong></td><td>æ‰€æœ‰èŠ‚ç‚¹å‡å¯è¯»å†™</td><td>åªæœ‰ä¸»èŠ‚ç‚¹å¯æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå†™æ“ä½œç”±ä¸»èŠ‚ç‚¹è½¬å‘</td><td>å†™æ“ä½œä»…é€šè¿‡ä¸»èŠ‚ç‚¹ï¼ˆä¸»åˆ†ç‰‡ï¼‰ï¼Œè¯»å¯å¹¶è¡Œè®¿é—®å‰¯æœ¬</td></tr><tr><td><strong>æ•°æ®åˆ†å¸ƒ</strong></td><td>æ‰€æœ‰èŠ‚ç‚¹æŒæœ‰éƒ¨åˆ†æ•°æ®ï¼ˆåˆ†ç‰‡ + å‰¯æœ¬ï¼‰</td><td>æ¯ä¸ªèŠ‚ç‚¹æŒæœ‰ç‰¹å®šè¡¨ï¼Œéœ€å¤–éƒ¨åè°ƒ</td><td>æ•°æ®ç´¢å¼•è¢«åˆ‡æˆåˆ†ç‰‡ï¼Œåˆ†å¸ƒåœ¨æ•°æ®èŠ‚ç‚¹ä¸Šï¼ˆä¸»+å‰¯æœ¬ï¼‰</td></tr><tr><td><strong>å¤±è´¥å®¹å¿æ€§</strong></td><td>é«˜ï¼šåªè¦è¿˜æœ‰å‰¯æœ¬å­˜åœ¨ï¼Œå…¶ä»–èŠ‚ç‚¹ç»§ç»­æœåŠ¡</td><td>ä½ï¼šå…³é”®èŠ‚ç‚¹æ•…éšœå¯èƒ½å¯¼è‡´æ•´ä¸ªç³»ç»Ÿå¤±æ•ˆ</td><td>ä¸­ç­‰ï¼šä¸»èŠ‚ç‚¹å¤±æ•ˆæ—¶éœ€é€‰ä¸¾æ–°ä¸»èŠ‚ç‚¹</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>é«˜ï¼šèŠ‚ç‚¹å¯éšæ—¶åŠ å…¥ï¼Œæ‰‹åŠ¨é‡æ–°åˆ†ç‰‡</td><td>ä½ï¼šæ‰‹åŠ¨ç®¡ç†åˆ†å¸ƒï¼Œåè°ƒå¤æ‚</td><td>é«˜ï¼šè‡ªåŠ¨åˆ†ç‰‡åˆ†é…ã€å‰¯æœ¬å‡è¡¡ã€ä¸»èŠ‚ç‚¹é€‰ä¸¾</td></tr><tr><td><strong>ä¸€è‡´æ€§ä¿è¯</strong></td><td>æœ€ç»ˆä¸€è‡´æ€§</td><td>å¼ºä¸€è‡´æ€§ï¼ˆéœ€å…¨éƒ¨èŠ‚ç‚¹æˆåŠŸï¼‰</td><td>å¼ºä¸€è‡´æ€§ï¼ˆé€šè¿‡ä¸»èŠ‚ç‚¹ + ä¸¤é˜¶æ®µæäº¤ï¼‰</td></tr><tr><td><strong>ä¸»èŠ‚ç‚¹è§’è‰²å˜åŒ–</strong></td><td>æ— ä¸»èŠ‚ç‚¹æ¦‚å¿µ</td><td>å›ºå®šä¸»å…¥å£ï¼ˆå¦‚ Node 1ï¼‰</td><td>æœ‰ä¸»èŠ‚ç‚¹ï¼Œæ”¯æŒä¸»èŠ‚ç‚¹é€‰ä¸¾</td></tr><tr><td><strong>CAP æ¨¡å‹å€¾å‘</strong></td><td><strong>AP</strong>ï¼ˆå¯ç”¨æ€§ + åˆ†åŒºå®¹å¿ï¼‰</td><td><strong>CA</strong>ï¼ˆä¸€è‡´æ€§ + å¯ç”¨æ€§ï¼‰</td><td><strong>CP</strong>ï¼ˆä¸€è‡´æ€§ + åˆ†åŒºå®¹å¿ï¼‰</td></tr><tr><td><strong>ä¸€è‡´æ€§æœºåˆ¶</strong></td><td>MVCC + å†²çªè§£å†³ï¼ˆRevision å†²çªï¼‰</td><td>Two-phase commit</td><td>Two-phase commitï¼ˆæ•°æ®å¤åˆ¶ï¼‰+ Master é€‰ä¸¾ï¼ˆPaxosï¼‰</td></tr><tr><td><strong>å¯ç”¨æ€§</strong></td><td>é«˜ï¼šå³ä½¿å‘ç”Ÿç½‘ç»œåˆ†åŒºä¹Ÿèƒ½æ¥å—å†™è¯·æ±‚</td><td>é«˜ï¼šå‰ææ˜¯æ— åˆ†åŒº</td><td>é™ä½ï¼šä¸»èŠ‚ç‚¹å¤±è”æˆ–æ—  quorum æ—¶åœæ­¢å†™</td></tr><tr><td><strong>åˆ†åŒºå®¹å¿æ€§</strong></td><td>æœ‰ï¼šå„èŠ‚ç‚¹ç»§ç»­è¿è¡Œï¼Œç¨åè§£å†³å†²çª</td><td>æ— ï¼šå‘ç”Ÿåˆ†åŒºå³ç»ˆæ­¢äº‹åŠ¡</td><td>æœ‰ï¼šå¯é€‰ä¸¾æ–°ä¸»èŠ‚ç‚¹ï¼Œä½†å¤±å» quorum æ—¶åœæ­¢å†™</td></tr><tr><td><strong>å†™è¯·æ±‚ç­–ç•¥</strong></td><td>å¤šèŠ‚ç‚¹å¹¶å‘æ¥å—å†™å…¥</td><td>ä»…ä¸»èŠ‚ç‚¹åè°ƒï¼Œå­èŠ‚ç‚¹å¤„ç†éƒ¨åˆ†æ•°æ®</td><td>ä»…ä¸»åˆ†ç‰‡èŠ‚ç‚¹æ¥å—å†™å…¥</td></tr><tr><td><strong>äº‹åŠ¡ç­–ç•¥</strong></td><td>ä¹è§‚å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰ï¼Œå¯å†²çª</td><td>ä¸¥æ ¼åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œéœ€å…¨å‘˜æäº¤æ‰æˆåŠŸ</td><td>å†™å…¥å…ˆåˆ°ä¸»åˆ†ç‰‡ â†’ å¤åˆ¶åˆ°å‰¯æœ¬ â†’ ä½¿ç”¨ 2PC ç¡®è®¤</td></tr><tr><td><strong>å†²çªå¤„ç†</strong></td><td>æ¥å—å¤šä¸ªç‰ˆæœ¬ï¼Œç”±åº”ç”¨å±‚è§£å†³</td><td>ä¸å…è®¸å†²çªï¼Œå†²çªå›æ»š</td><td>è‡ªåŠ¨å›æ»šå¤±è´¥å†™å…¥ï¼ˆä»¥ primary term åŒºåˆ†æ›´æ–°é¡ºåºï¼‰</td></tr><tr><td><strong>é€‰ä¸»æœºåˆ¶</strong></td><td>æ— ï¼ˆå»ä¸­å¿ƒåŒ–ï¼‰</td><td>å›ºå®šä¸»èŠ‚ç‚¹</td><td>Paxos-likeï¼ˆRaftï¼‰é€‰ä¸»æœºåˆ¶</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å®¹é”™è¦æ±‚é«˜ã€æš‚æ—¶ä¸ä¸€è‡´å¯æ¥å—</td><td>é«˜ä¸€è‡´æ€§è¦æ±‚ã€ä¸å¯å®¹å¿åˆ†åŒº</td><td>å®æ—¶æœç´¢/åˆ†æã€é«˜å†™å…¥ä¸€è‡´æ€§è¦æ±‚</td></tr><tr><td><strong>ä½¿ç”¨åœºæ™¯</strong></td><td>IoTã€è¾¹ç¼˜è®¡ç®—ã€æ–­ç½‘å®¹å¿</td><td>æ•°æ®ä¸¥æ ¼ä¸€è‡´éœ€æ±‚ç³»ç»Ÿï¼ˆå¦‚é“¶è¡Œã€è®¢å•ç³»ç»Ÿï¼‰</td><td>å®æ—¶æœç´¢ã€æ—¥å¿—å¤„ç†ã€å¤§æ•°æ®åˆ†æ</td></tr></tbody></table><h3 id="cap-theorem" tabindex="-1"><a class="header-anchor" href="#cap-theorem"><span>CAP Theorem</span></a></h3><figure><img src="'+l+'" alt="CAP Theorem and the Classification of Distributed Processing Algorithms" tabindex="0" loading="lazy"><figcaption>CAP Theorem and the Classification of Distributed Processing Algorithms</figcaption></figure><table><thead><tr><th>ç®—æ³• / æœºåˆ¶</th><th>ç”¨é€” / ç‰¹æ€§</th></tr></thead><tbody><tr><td><strong>Two-phase commit (2PC)</strong></td><td>ç¡®ä¿ä¸€è‡´æ€§ï¼Œå†™æ“ä½œåœ¨æ‰€æœ‰èŠ‚ç‚¹æäº¤æˆåŠŸåæ‰çœŸæ­£ç”Ÿæ•ˆï¼›ç¼ºç‚¹ï¼šé‡åˆ°åˆ†åŒºæ—¶ä¸­æ­¢å†™æ“ä½œ</td></tr><tr><td><strong>Paxos / Raft</strong></td><td>ç”¨äºé€‰ä¸»ã€è¾¾æˆä¸€è‡´ï¼ˆä¸»èŠ‚ç‚¹çš„æ“ä½œå¯è¢«è®¤å¯ï¼‰ï¼›ä¿è¯ä¸€è‡´æ€§ä½†ç‰ºç‰²éƒ¨åˆ†å¯ç”¨æ€§</td></tr><tr><td><strong>MVCC</strong></td><td>æ¯æ¬¡å†™å…¥ä¸ºæ–°ç‰ˆæœ¬ï¼Œæ— å…¨å±€é”ï¼Œå†²çªç•™å¾…åæœŸå¤„ç†ï¼›é«˜å¯ç”¨ä½†å¼±ä¸€è‡´æ€§</td></tr></tbody></table><h3 id="document-oriented-databases-for-big-data" tabindex="-1"><a class="header-anchor" href="#document-oriented-databases-for-big-data"><span>Document-Oriented Databases for Big Data</span></a></h3><table><thead><tr><th><strong>ç‰¹ç‚¹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>é¿å…è·¨è¡¨JOIN</td><td>é€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿ</td></tr><tr><td>å¤©ç„¶æ°´å¹³æ‰©å±•</td><td>é€‚åˆæ°´å¹³æ‰©å±•ï¼ˆåˆ†åŒºï¼‰</td></tr><tr><td>çµæ´»ç»“æ„å˜åŒ–</td><td>æ”¯æŒçµæ´»çš„ç»“æ„å˜åŒ–</td></tr><tr><td>æé«˜æ€§èƒ½</td><td>æé«˜æŸ¥è¯¢/å†™å…¥æ€§èƒ½ï¼Œå°¤å…¶æ˜¯è¯»å–å®Œæ•´å¯¹è±¡æ—¶</td></tr><tr><td>è‡ªåŒ…å«æ•°æ®</td><td>æ¯ä¸ªæ–‡æ¡£æ˜¯ä¸€ä¸ªè‡ªåŒ…å«çš„æ•°æ®å•å…ƒï¼Œä¾¿äºç‹¬ç«‹å¤„ç†ä¸å¤åˆ¶</td></tr></tbody></table><h3 id="sharding-replication" tabindex="-1"><a class="header-anchor" href="#sharding-replication"><span>Sharding &amp; Replication</span></a></h3><table><thead><tr><th>ç‰¹æ€§</th><th>ğŸ“Œ åˆ†ç‰‡ï¼ˆShardingï¼‰</th><th>ğŸ“Œ å¤åˆ¶ï¼ˆReplicationï¼‰</th></tr></thead><tbody><tr><td>å®šä¹‰</td><td>å°†æ•°æ®â€œ<strong>æ°´å¹³åˆ’åˆ†</strong>â€ä¸ºå¤šä¸ªå­é›†ï¼Œæ¯ä¸ªå­é›†ç§°ä¸ºä¸€ä¸ª<strong>åˆ†ç‰‡ï¼ˆshardï¼‰</strong></td><td>å°†<strong>ç›¸åŒçš„æ•°æ®å¤åˆ¶</strong>åˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆä¸»ä»ç»“æ„æˆ–å‰¯æœ¬é›†</td></tr><tr><td>ç›®æ ‡</td><td><strong>åˆ†æ•£è´Ÿè½½</strong>ã€æå‡æ€§èƒ½ã€<strong>æ‰©å±•æ•°æ®å®¹é‡</strong></td><td><strong>å®¹é”™å¤‡ä»½</strong>ã€é«˜å¯ç”¨ã€ç¾å¤‡</td></tr><tr><td>æ•°æ®ä½ç½®</td><td>ä¸åŒåˆ†ç‰‡å­˜å‚¨åœ¨<strong>ä¸åŒèŠ‚ç‚¹</strong>ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨ä¸€éƒ¨åˆ†æ•°æ®</td><td>åŒä¸€ä»½æ•°æ®<strong>å¤åˆ¶åˆ°å¤šä¸ªèŠ‚ç‚¹</strong></td></tr><tr><td>å…¸å‹ç­–ç•¥</td><td>- å“ˆå¸Œåˆ†ç‰‡ï¼ˆHashï¼‰<br> - èŒƒå›´åˆ†ç‰‡ï¼ˆRangeï¼‰</td><td>- ä¸»ä»å¤åˆ¶ï¼ˆMaster-Slaveï¼‰<br> - å¤šä¸»å¤åˆ¶ï¼ˆMulti-Masterï¼‰</td></tr><tr><td>å¥½å¤„</td><td>- æé«˜ç³»ç»Ÿå¤„ç†èƒ½åŠ›<br>- æ”¯æŒå¤§è§„æ¨¡æ•°æ®å­˜å‚¨</td><td>- å®¹ç¾èƒ½åŠ›å¼º<br>- èŠ‚ç‚¹æ•…éšœæ—¶ä»å¯æœåŠ¡</td></tr><tr><td>ç¼ºç‚¹</td><td>- æŸ¥è¯¢å¯èƒ½æ¶‰åŠå¤šä¸ªåˆ†ç‰‡ï¼ˆè·¨åˆ†ç‰‡ï¼‰<br> - åˆ†ç‰‡é”®é€‰æ‹©éœ€è°¨æ…</td><td>- å¢åŠ å­˜å‚¨æˆæœ¬<br> - å†™å…¥ä¸€è‡´æ€§æ§åˆ¶å¤æ‚</td></tr><tr><td>å…³ç³»</td><td>ğŸ” å¯ç»„åˆä½¿ç”¨ï¼š<br><strong>æ¯ä¸ªåˆ†ç‰‡å†…éƒ¨å¯ä»¥å†è¿›è¡Œå¤åˆ¶</strong>ä»¥ä¿è¯æ•°æ®å®‰å…¨ä¸é«˜å¯ç”¨</td><td></td></tr></tbody></table><h3 id="elasticsearch" tabindex="-1"><a class="header-anchor" href="#elasticsearch"><span>ElasticSearch</span></a></h3><table><thead><tr><th>âœ… <strong>æ“…é•¿ (Good at)</strong></th><th>âŒ <strong>ä¸æ“…é•¿ (Bad at)</strong></th></tr></thead><tbody><tr><td>ğŸ” å…¨æ–‡æœç´¢ï¼ˆFull-text searchï¼‰</td><td>ğŸ”— å­˜å‚¨å…³è”æ•°æ®ï¼ˆå¦‚å‘ç¥¨ä¸å®¢æˆ·ï¼‰<br>ä¸æ”¯æŒå¤æ‚å…³ç³»å’Œé«˜æ•ˆ Join</td></tr><tr><td>ğŸ•’ åŸºäºæ—¶é—´çš„æ•°æ®æ£€ç´¢ï¼ˆå¦‚æ—¥å¿—ã€ç›‘æ§æ•°æ®ï¼‰</td><td>ğŸ”„ é¢‘ç¹ä¿®æ”¹æ•°æ®ï¼ˆæ›´æ–°ä¼šç”Ÿæˆæ–°æ–‡æ¡£ï¼Œå¯¼è‡´ç´¢å¼•è†¨èƒ€ï¼‰</td></tr><tr><td>ğŸ“¦ å­˜å‚¨éç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ JSON æ–‡æ¡£ï¼‰</td><td>ğŸ” å¤šæ–‡æ¡£äº‹åŠ¡ï¼ˆåªèƒ½ä¿è¯å•æ–‡æ¡£çš„äº‹åŠ¡å®‰å…¨ï¼‰</td></tr><tr><td>ğŸ“ˆ å¿«é€Ÿæ£€ç´¢å’Œèšåˆå¤§é‡æ•°æ®</td><td>ğŸ“Š è·¨ç»´åº¦å¤æ‚åˆ†æï¼ˆå¦‚æ•°æ®ä»“åº“ OLAP åˆ†æï¼‰</td></tr><tr><td>ğŸ“‚ å­˜å‚¨ä¸å¸¸å˜åŒ–çš„æ•°æ®ï¼ˆå¦‚é™æ€æ–‡æ¡£ã€å†å²è®°å½•ï¼‰</td><td>âš™ï¸ å¤šçº§åµŒå¥—æŸ¥è¯¢ä¸çˆ¶å­å…³ç³»æŸ¥è¯¢ï¼šè™½ç„¶å¯åšä½†æ€§èƒ½å·®</td></tr></tbody></table><h4 id="es-concepts" tabindex="-1"><a class="header-anchor" href="#es-concepts"><span>ES Concepts</span></a></h4><table><thead><tr><th>æœ¯è¯­</th><th>è¯´æ˜</th><th>ç±»æ¯”å…³ç³»ï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰</th></tr></thead><tbody><tr><td><strong>Index</strong></td><td>ç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„ã€Œæ•°æ®åº“ã€</td><td>æ•°æ®åº“</td></tr><tr><td><strong>Documents</strong></td><td>ElasticSearch ä¸­çš„æ•°æ®é¡¹ï¼Œé‡‡ç”¨ JSON æ ¼å¼è¡¨è¾¾</td><td>è¡¨ä¸­çš„è¡Œï¼ˆè®°å½•ï¼‰</td></tr><tr><td><strong>Data stream</strong></td><td>ä¸€ç»„éµå¾ªç›¸åŒå‘½åæ¨¡å¼çš„ç´¢å¼•ï¼Œå¸¸ç”¨äºæ—¥å¿—è½®è½¬</td><td>â€”</td></tr><tr><td><strong>Shard</strong></td><td>ç´¢å¼•çš„æ°´å¹³åˆ†åŒº</td><td>æ•°æ®åº“åˆ†ç‰‡</td></tr><tr><td><strong>Replicas</strong></td><td>shard çš„å‰¯æœ¬æ•°é‡ï¼Œ2 ä¸ªå‰¯æœ¬å³æœ‰ 1 ä¸ªä¸» shard + 2 ä¸ªå‰¯æœ¬</td><td>æ•°æ®å†—ä½™ï¼Œæé«˜å¯ç”¨æ€§</td></tr><tr><td><strong>Node</strong></td><td>ElasticSearch çš„ä¸€ä¸ªå®ä¾‹</td><td>æœåŠ¡å™¨èŠ‚ç‚¹</td></tr><tr><td><strong>Cluster</strong></td><td>å¤šä¸ªèŠ‚ç‚¹åä½œç®¡ç†åŒä¸€ç´¢å¼•</td><td>é›†ç¾¤</td></tr><tr><td><strong>Mappings</strong></td><td>æ˜ å°„å®šä¹‰ï¼ŒJSON æ–‡æ¡£å­—æ®µä¸æ•°æ®ç±»å‹åŠç´¢å¼•æ–¹å¼çš„æ˜ å°„</td><td>æ•°æ®åº“æ¨¡å¼ï¼ˆschemaï¼‰</td></tr></tbody></table><h4 id="elk-stack" tabindex="-1"><a class="header-anchor" href="#elk-stack"><span>ELK Stack</span></a></h4><table><thead><tr><th>ç»„ä»¶å</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ElasticSearch</strong></td><td>å­˜å‚¨å’Œæœç´¢æ–‡æ¡£çš„æ ¸å¿ƒç»„ä»¶</td></tr><tr><td><strong>FileBeat</strong></td><td>ç›‘å¬æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯æ—¥å¿—æ–‡ä»¶ï¼‰çš„æ›´æ–°ï¼Œå¹¶å°†æ•°æ®å‘é€åˆ°ç´¢å¼•</td></tr><tr><td><strong>MetricBeat</strong></td><td>ç›‘æ§ç³»ç»ŸçŠ¶æ€ï¼Œå°†æŒ‡æ ‡æ•°æ®å­˜å‚¨åˆ°ç´¢å¼•</td></tr><tr><td><strong>LogStash</strong></td><td>è½¬æ¢æ”¶é›†åˆ°çš„æ•°æ®ï¼ˆå¦‚ FileBeat å’Œ MetricBeat çš„æ•°æ®ï¼‰ï¼Œå†å­˜å…¥ç´¢å¼•</td></tr><tr><td><strong>Kibana</strong></td><td>åŸºäºç½‘é¡µçš„ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒæŸ¥è¯¢å’Œç®¡ç† ElasticSearch é›†ç¾¤</td></tr><tr><td><strong>FunctionBeat</strong></td><td>ç›‘æ§æ— æœåŠ¡å™¨ç¯å¢ƒï¼ˆå¦‚ AWS Lambdaï¼‰æ´»åŠ¨ï¼Œå¹¶å­˜å‚¨ç»“æœåˆ°ç´¢å¼•</td></tr><tr><td><strong>HeartBeat</strong></td><td>æ£€æŸ¥æœåŠ¡çŠ¶æ€å¹¶å°†ç»“æœå­˜å‚¨åˆ°ç´¢å¼•</td></tr><tr><td><strong>Observability</strong></td><td>è§‚å¯Ÿç³»ç»ŸæŒ‡æ ‡ã€åˆ†æå¹¶ç”Ÿæˆæ´å¯Ÿ</td></tr><tr><td><strong>Security</strong></td><td>è´Ÿè´£å®‰å…¨æ–¹é¢çš„ç›‘æ§å’Œåˆ†æ</td></tr></tbody></table><h4 id="elasticsearch-cluster-and-scale" tabindex="-1"><a class="header-anchor" href="#elasticsearch-cluster-and-scale"><span>ElasticSearch Cluster and Scale</span></a></h4><table><thead><tr><th>ä¸»é¢˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>èŠ‚ç‚¹è§’è‰²</strong></td><td>æ¯ä¸ªèŠ‚ç‚¹å¯è¢«èµ‹äºˆä¸€ä¸ªæˆ–å¤šä¸ªè§’è‰²ï¼Œä¸»è¦è§’è‰²æœ‰ï¼š<br>- <strong>Master</strong>ï¼šåè°ƒé›†ç¾¤æ“ä½œ<br>- <strong>Data</strong>ï¼šç®¡ç†æ•°æ®</td></tr><tr><td><strong>MasterèŠ‚ç‚¹</strong></td><td>è´Ÿè´£åè°ƒé›†ç¾¤ï¼Œæ¯”å¦‚åˆ†é…åˆ†ç‰‡ã€ç›‘æ§èŠ‚ç‚¹å¥åº·ã€åˆ›å»ºç´¢å¼•ç­‰ã€‚<br>é›†ç¾¤å¯æœ‰å¤šä¸ªmaster-eligibleèŠ‚ç‚¹ï¼Œä½†åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªä¸»masterèŠ‚ç‚¹</td></tr><tr><td><strong>DataèŠ‚ç‚¹</strong></td><td>ç®¡ç†æ•°æ®ï¼Œä½†å¦‚æœä¸æ˜¯master-eligibleï¼Œåˆ™ä¸èƒ½æˆä¸ºmasteræˆ–å‚ä¸é€‰ä¸¾</td></tr><tr><td><strong>Masteræ•…éšœå¤„ç†</strong></td><td>å½“masterèŠ‚ç‚¹å¤±è´¥ï¼Œå…¶ä»–master-eligibleèŠ‚ç‚¹ä¸¾è¡Œé€‰ä¸¾ï¼Œé€‰å‡ºæ–°çš„master<br>å‰©ä½™èŠ‚ç‚¹ä¸Šçš„å‰¯æœ¬åˆ†ç‰‡ä¼šå‡çº§ä¸ºä¸»åˆ†ç‰‡æ›¿ä»£å¤±æ•ˆåˆ†ç‰‡</td></tr><tr><td><strong>æ‰©å±•æ–¹å¼</strong></td><td>- <strong>å‚ç›´æ‰©å±•</strong>ï¼šå‡çº§ç°æœ‰èŠ‚ç‚¹æ€§èƒ½å¹¶è¿ç§»æ•°æ®<br>- <strong>æ°´å¹³æ‰©å±•</strong>ï¼šæ–°å¢èŠ‚ç‚¹ï¼Œåˆ†ç‰‡ä¼šè‡ªåŠ¨è¿ç§»ä»¥è´Ÿè½½å‡è¡¡</td></tr><tr><td><strong>èŠ‚ç‚¹ç§»é™¤</strong></td><td>ç§»é™¤æ•°æ®èŠ‚ç‚¹æ—¶ï¼Œè¯¥èŠ‚ç‚¹çš„ä¸»åˆ†ç‰‡éœ€ç”±å‰©ä½™èŠ‚ç‚¹ä¸Šçš„å‰¯æœ¬åˆ†ç‰‡å‡çº§ä¸ºä¸»åˆ†ç‰‡ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§</td></tr></tbody></table><h4 id="esé›†ç¾¤å¥åº·çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#esé›†ç¾¤å¥åº·çŠ¶æ€"><span>ESé›†ç¾¤å¥åº·çŠ¶æ€</span></a></h4><table><thead><tr><th>çŠ¶æ€</th><th>å«ä¹‰</th><th>æ•°æ®å¯ç”¨æ€§</th><th>å†—ä½™å®‰å…¨æ€§</th></tr></thead><tbody><tr><td>Green</td><td>ä¸€åˆ‡æ­£å¸¸ï¼Œä¸» + å‰¯æœ¬éƒ½åœ¨</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Yellow</td><td>ä¸»åˆ†ç‰‡åœ¨ï¼Œå‰¯æœ¬ç¼ºå¤±</td><td>âœ…</td><td>âŒ</td></tr><tr><td>Red</td><td>ä¸»åˆ†ç‰‡æˆ–æ•°æ®ä¸¢å¤±ï¼ŒæœåŠ¡ä¸­æ–­</td><td>âŒ</td><td>âŒ</td></tr></tbody></table><h4 id="es-sharding" tabindex="-1"><a class="header-anchor" href="#es-sharding"><span>ES Sharding</span></a></h4><table><thead><tr><th>ä¸»é¢˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>é»˜è®¤åˆ†ç‰‡æ–¹å¼</strong></td><td>ElasticSearch é»˜è®¤ä½¿ç”¨åŸºäºæ–‡æ¡£IDçš„å“ˆå¸Œåˆ†ç‰‡ï¼Œç¡®ä¿æ¯ä¸ªåˆ†ç‰‡å†…æ–‡æ¡£æ•°é‡å¤§è‡´å‡è¡¡</td></tr><tr><td><strong>åˆ†ç‰‡å’Œå‰¯æœ¬æ•°</strong></td><td>æ¯ä¸ªç´¢å¼•å¯ä»¥è®¾ç½®ä¸åŒæ•°é‡çš„ä¸»åˆ†ç‰‡ï¼ˆshardsï¼‰å’Œå‰¯æœ¬ï¼ˆreplicasï¼‰</td></tr><tr><td><strong>è·¯ç”±æ§åˆ¶</strong></td><td>å¯é€šè¿‡æŒ‡å®šè·¯ç”±å€¼ï¼ˆroutingï¼‰å°†æ–‡æ¡£å­˜å‚¨åˆ°ç‰¹å®šåˆ†ç‰‡ï¼Œå®ç°èŒƒå›´åˆ†ç‰‡ï¼ˆrange shardingï¼‰ï¼Œè¦†ç›–é»˜è®¤å“ˆå¸Œåˆ†ç‰‡æœºåˆ¶</td></tr><tr><td><strong>æœç´¢çº¿ç¨‹æ•°</strong></td><td>æœç´¢æ—¶æ¯ä¸ªåˆ†ç‰‡ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼›åŒä¸€åˆ†ç‰‡å¯æ”¯æŒå¤šé‡å¹¶å‘æœç´¢</td></tr><tr><td><strong>åˆ†ç‰‡å¤§å°å½±å“</strong></td><td>åˆ†ç‰‡è¶Šå¤§ï¼Œæœç´¢è¶Šæ…¢ï¼›åˆ†ç‰‡æ•°é‡å¤šåˆ™èµ„æºæ¶ˆè€—æ›´å¤§</td></tr><tr><td><strong>åˆ†ç‰‡ä¼˜åŒ–å»ºè®®</strong></td><td>ç»éªŒæ³•åˆ™ï¼šæ¯ä¸ªåˆ†ç‰‡çº¦å®¹çº³2äº¿æ–‡æ¡£æˆ–10GB~50GBæ•°æ®ï¼›é€šå¸¸å»ºè®®åˆ†ç‰‡æ•°ç•¥å¤šäºè¿‡å°‘ï¼Œä»¥æ”¯æŒæ›´å¥½æ‰©å±•æ€§</td></tr><tr><td><strong>åˆ†ç‰‡æ•°é™åˆ¶</strong></td><td>ä¸»åˆ†ç‰‡æ•°å†³å®šäº†ç´¢å¼•æœ€å¤§å¯ç”¨çš„èŠ‚ç‚¹æ•°ï¼Œç´¢å¼•æ•°æ®é€šå¸¸ä¼šè¶…é¢„æœŸå¢é•¿ï¼Œåº”ç•™æœ‰å¼¹æ€§</td></tr></tbody></table><div class="hint-container info"><p class="hint-container-title">Info</p><p>ElasticSearch Index = MySQL Database ElasticSearch Document = MySQL Row ElasticSearch Field = MySQL Column</p></div><h4 id="es-index-life-cycle" tabindex="-1"><a class="header-anchor" href="#es-index-life-cycle"><span>ES Index Life-cycle</span></a></h4><table><thead><tr><th>ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Hot</strong></td><td>ç´¢å¼•å¤„äºæ´»è·ƒçŠ¶æ€ï¼Œé¢‘ç¹å†™å…¥å’ŒæŸ¥è¯¢ï¼Œæ€§èƒ½è¦æ±‚æœ€é«˜ï¼Œé€šå¸¸åˆ†é…åˆ°é«˜æ€§èƒ½çš„ <code>data_hot</code> èŠ‚ç‚¹</td></tr><tr><td><strong>Warm</strong></td><td>æ•°æ®è®¿é—®é¢‘ç‡é™ä½ï¼Œå†™å…¥åœæ­¢æˆ–å‡å°‘ï¼Œç´¢å¼•è½¬ç§»åˆ°æ€§èƒ½ç¨ä½çš„ <code>data_warm</code> èŠ‚ç‚¹ä»¥èŠ‚çœèµ„æº</td></tr><tr><td><strong>Cold</strong></td><td>æ•°æ®è®¿é—®æå°‘ï¼Œä¸»è¦ç”¨äºå½’æ¡£ï¼Œç´¢å¼•è½¬ç§»åˆ°ä½æˆæœ¬çš„ <code>data_cold</code> èŠ‚ç‚¹ï¼ŒæŸ¥è¯¢æ€§èƒ½è¾ƒä½</td></tr><tr><td><strong>Frozen</strong></td><td>è¿›ä¸€æ­¥é™ä½æ€§èƒ½å’Œæˆæœ¬ï¼Œç´¢å¼•å‡ ä¹ä¸è¢«è®¿é—®ï¼Œä»…ä¿ç•™æå°‘çš„èµ„æºä»¥å¤‡æŸ¥è¯¢</td></tr><tr><td><strong>Delete</strong></td><td>ç´¢å¼•ç”Ÿå‘½å‘¨æœŸç»ˆç‚¹ï¼Œç´¢å¼•è¢«åˆ é™¤ä»¥é‡Šæ”¾å­˜å‚¨ç©ºé—´</td></tr></tbody></table><h4 id="es-curd" tabindex="-1"><a class="header-anchor" href="#es-curd"><span>ES CURD</span></a></h4><table><thead><tr><th>ä¸»é¢˜</th><th>è¯´æ˜</th><th></th></tr></thead><tbody><tr><td><strong>æ’å…¥æ–‡æ¡£æ—¶å…ƒæ•°æ®</strong></td><td>è‡ªåŠ¨æ·»åŠ  <code>_id</code>ï¼ˆæ–‡æ¡£IDï¼Œå”¯ä¸€ï¼‰ã€<code>_index</code>ï¼ˆæ‰€å±ç´¢å¼•ï¼‰ã€<code>_version</code>ï¼ˆç‰ˆæœ¬ï¼‰ã€<code>_primary_term</code>ï¼ˆä¸»åˆ†ç‰‡æ ‡è¯†ï¼‰ã€<code>_seq_no</code>ï¼ˆé¡ºåºå·ï¼‰ã€<code>_source</code>ï¼ˆåŸå§‹JSONï¼‰ã€<code>_routing</code>ï¼ˆåˆ†ç‰‡è·¯ç”±ï¼ŒæŒ‡å®šæ—¶ï¼‰</td><td></td></tr><tr><td><strong>é»˜è®¤è¿”å›å­—æ®µ</strong></td><td>æœç´¢ç»“æœé»˜è®¤ä¸è¿”å›æ‰€æœ‰å…ƒæ•°æ®ï¼Œå¢åŠ <code>_score</code>å­—æ®µè¡¨ç¤ºç›¸å…³åº¦ï¼ˆè¶Šé«˜è¶Šç›¸å…³ï¼‰</td><td></td></tr><tr><td><strong>æ–‡æ¡£ID</strong></td><td>å¦‚æœè¯·æ±‚ä¸­æ²¡æŒ‡å®šï¼ŒElasticSearchè‡ªåŠ¨ç”Ÿæˆï¼›IDå¿…é¡»å”¯ä¸€ï¼Œé‡å¤æ’å…¥ä¼šæŠ¥é”™</td><td></td></tr><tr><td><strong>æŸ¥è¯¢è¯­è¨€</strong></td><td>- Query DSLï¼ˆJSONæ ¼å¼ï¼ŒLuceneæŸ¥è¯¢è¶…é›†ï¼‰<br>- SQLï¼ˆæœ‰é™æ”¯æŒï¼‰<br>- EQLï¼ˆäº‹ä»¶æŸ¥è¯¢ï¼‰<br>- ES QLï¼ˆç®¡é“SQLï¼Œå«è½¬æ¢å’Œåœ°ç†æŸ¥è¯¢ï¼‰</td><td></td></tr><tr><td><strong>SQLé™åˆ¶</strong></td><td>ä¸æ”¯æŒå®Œæ•´SQLåŠŸèƒ½ï¼ˆæ— JOINã€ä¸æ”¯æŒDISTINCTã€åœ°ç†æŸ¥è¯¢æœ‰é™ã€æ— æ³•è¿”å›æ•°ç»„ç­‰ï¼‰</td><td></td></tr><tr><td><strong>å¢å¼ºSQLèƒ½åŠ›æ–¹æ³•</strong></td><td>- ä½¿ç”¨<code>/_sql/translate</code> APIå°†SQLè½¬æˆQuery DSL<br>- SQLæŸ¥è¯¢ä¸­åŠ å…¥Query DSLè¿‡æ»¤å­å¥</td><td></td></tr><tr><td><strong>æ›´æ–°å’Œåˆ é™¤æ–‡æ¡£</strong></td><td>ä½¿ç”¨HTTP PUTå’ŒDELETEè¯·æ±‚</td><td></td></tr><tr><td><strong>å¹¶å‘æ›´æ–°å†²çªé˜²èŒƒ</strong></td><td>æ›´æ–°/åˆ é™¤æ—¶åº”æºå¸¦<code>_seq_no</code>å’Œ<code>_primary_term</code>å…ƒæ•°æ®ï¼Œé˜²æ­¢å†²çªï¼ˆHTTP 409ï¼‰</td><td></td></tr><tr><td><strong>å†²çªåŸå› </strong></td><td>å¹¶å‘è¯·æ±‚æ— é”æœºåˆ¶ï¼Œæ–‡æ¡£å¯èƒ½è¢«å…¶ä»–è¯·æ±‚ä¿®æ”¹ï¼Œéœ€å…ˆè¯»å–æ–‡æ¡£è·å–æœ€æ–°å…ƒæ•°æ®å†æ›´æ–°</td><td></td></tr></tbody></table><h4 id="query-dsl-example" tabindex="-1"><a class="header-anchor" href="#query-dsl-example"><span>Query DSL Example</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// A query to select all H1 students that are named â€œJohnâ€</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">POST /students/_search</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;query&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;bool&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;must&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;range&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">            &quot;mark&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">              &quot;gte&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          },</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">            &quot;match&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">              &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;john *&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          ]</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>â€œmustâ€ means â€œandâ€</li><li>â€œshouldâ€ means â€œorâ€</li><li>&quot;filter&quot; means &quot;where&quot;</li></ul><h4 id="sql-example" tabindex="-1"><a class="header-anchor" href="#sql-example"><span>SQL Example</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">POST /_sql?format=txt</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;query&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;SELECT data.status, data.type FROM </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">filebeat-8.7.1</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> WHERE MATCH(&#39;message&#39;, &#39;Windows&#39;)&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>MATCH</code> is a full-text search operator that searches for the specified text in the <code>message</code> field.</li></ul><h4 id="es-sql-pagination" tabindex="-1"><a class="header-anchor" href="#es-sql-pagination"><span>ES SQL Pagination</span></a></h4><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒElasticSearch SQL æŸ¥è¯¢æœ€å¤šè¿”å› 1000 æ¡ç»“æœã€‚</li><li>ä½¿ç”¨ <strong>æ¸¸æ ‡ï¼ˆcursorï¼‰</strong> æ¥åˆ†é¡µï¼Œæ¸¸æ ‡ç±»ä¼¼äºä¹¦ç­¾ï¼Œè®°å½•å½“å‰æŸ¥è¯¢ä½ç½®ã€‚</li><li><strong>ç¬¬ä¸€æ¬¡æŸ¥è¯¢</strong> è¿”å›ç»“æœå’Œæ¸¸æ ‡IDï¼Œä¾‹å¦‚ï¼š</li></ul><div class="language-http line-numbers-mode" data-highlighter="shiki" data-ext="http" data-title="http" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">POST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /_sql?format=json</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;query&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;SELECT HISTOGRAM(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">@timestamp</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, INTERVAL 1 HOUR) AS H, COUNT(*) AS N FROM </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">filebeat-8.7.1</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GROUP BY H&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿”å›çš„å“åº”ä¸­åŒ…å« <code>&quot;cursor&quot;</code> å­—æ®µï¼Œè¿™ä¸ªå­—æ®µå¿…é¡»åœ¨<strong>åç»­åˆ†é¡µè¯·æ±‚</strong>ä¸­å¸¦ä¸Šï¼Œç”¨æ¥è·å–ä¸‹ä¸€é¡µæ•°æ®ï¼š</li></ul><div class="language-http line-numbers-mode" data-highlighter="shiki" data-ext="http" data-title="http" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">POST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /_sql?format=json</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;query&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;SELECT HISTOGRAM(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">@timestamp</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, INTERVAL 1 HOUR) AS H, COUNT(*) AS N FROM </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">filebeat-8.7.1</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GROUP BY H&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;cursor&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&lt;ä¸Šä¸€æ¬¡è¿”å›çš„æ¸¸æ ‡ID&gt;&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å½“è¿”å›çš„ <code>&quot;cursor&quot;</code> å­—æ®µä¸ºç©ºæ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰æ•°æ®å·²ç»è¿”å›å®Œæ¯•ã€‚</li><li>æ¸¸æ ‡æ˜¯æœ‰æ—¶æ•ˆçš„ï¼Œé€šå¸¸ä¼šåœ¨å‡ åˆ†é’Ÿåå¤±æ•ˆï¼Œéœ€è¦åŠæ—¶ä½¿ç”¨ã€‚</li></ul><h4 id="es-sql-others" tabindex="-1"><a class="header-anchor" href="#es-sql-others"><span>ES SQL Others</span></a></h4><ul><li>Metric Aggregation</li><li>Bucket Aggregation</li><li>OLAP</li></ul><h4 id="parent-child-relationship-mapping-definition" tabindex="-1"><a class="header-anchor" href="#parent-child-relationship-mapping-definition"><span>Parent-Child Relationship: Mapping Definition</span></a></h4><ul><li><p>In ElasticSearch, you can explicitly establish a <strong>parent-child relationship</strong> between two documents through mappings.</p></li><li><p>For example, a <code>&quot;course&quot;</code> document can have multiple <code>&quot;student&quot;</code> documents as child documents.</p></li><li><p>This is similar to a one-to-many relationship in relational databases.</p></li><li><p>In ElasticSearch, the <code>join</code> field type is used to define this relationship. For example:</p></li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">PUT my_index</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;mappings&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;properties&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;my_join_field&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;join&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        &quot;relations&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">          &quot;course&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;student&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>In this example:</p><ul><li><code>my_join_field</code> is a special field used to represent the parent-child relationship between documents.</li><li><code>&quot;course&quot;: &quot;student&quot;</code> indicates that each <code>&quot;course&quot;</code> document can have multiple <code>&quot;student&quot;</code> child documents.</li></ul></li><li><p>When inserting documents, you need to specify whether it is a parent or child. For example:</p><ul><li>Inserting a course document:</li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">POST my_index/_doc/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;title&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Math 101&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;my_join_field&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;course&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Inserting a student child document (must reference the parent document ID):</li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">POST my_index/_doc/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?routing=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Alice&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;my_join_field&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;student&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;parent&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="vector-data" tabindex="-1"><a class="header-anchor" href="#vector-data"><span>Vector Data</span></a></h4><ul><li>Vectors (both sparse and dense) can be loaded into ElasticSearch and queried for equality and k-Nearest Neighbours searches</li><li>During the mapping definition, a vector is defined with its type, no. of dimensions, the distance to use and some index parameters</li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;dense_vector&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;dims&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;similarity&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;l2_norm&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;m&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;ef_construction&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ElasticSearch uses the Hierarchical Navigable Small World algorithm for vector searches</li></ul><h2 id="week-9" tabindex="-1"><a class="header-anchor" href="#week-9"><span>Week 9</span></a></h2><h3 id="virtualization-motivations" tabindex="-1"><a class="header-anchor" href="#virtualization-motivations"><span>Virtualization Motivations</span></a></h3><table><thead><tr><th><strong>ç›®æ ‡</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>æœåŠ¡å™¨æ•´åˆ</strong> (Server Consolidation)</td><td>- æé«˜èµ„æºåˆ©ç”¨ç‡<br>- é™ä½èƒ½æºæ¶ˆè€—</td></tr><tr><td><strong>æŒ‰éœ€åˆ›å»ºè™šæ‹Ÿæœº</strong></td><td>- æ— éœ€è´­ä¹°ç¡¬ä»¶<br>- æ”¯æŒå…¬æœ‰äº‘è®¡ç®—</td></tr><tr><td><strong>å®‰å…¨ä¸éš”ç¦»</strong></td><td>- å¤šä¸ªç”¨æˆ·å…±äº«åŒä¸€å°æœºå™¨ï¼Œäº’ä¸å½±å“</td></tr><tr><td><strong>ç¡¬ä»¶æ— å…³æ€§</strong></td><td>- å¯è½»æ¾è¿ç§»åˆ°å…¶ä»–ç¡¬ä»¶ä¸Šè¿è¡Œ</td></tr></tbody></table><h3 id="virtualization-principles" tabindex="-1"><a class="header-anchor" href="#virtualization-principles"><span>Virtualization Principles</span></a></h3><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>è§£é‡Š</strong></th></tr></thead><tbody><tr><td><strong>Fidelityï¼ˆçœŸå®åº¦ï¼‰</strong></td><td>å®¢æˆ·æ“ä½œç³»ç»Ÿè¿è¡Œåœ¨è™šæ‹Ÿç¯å¢ƒä¸­çš„è¡Œä¸ºåº”ä¸åœ¨çœŸå®ç‰©ç†æœºä¸Šä¸€è‡´ï¼ˆé™¤æ—¶é—´å½±å“ï¼‰</td></tr><tr><td><strong>Performanceï¼ˆæ€§èƒ½ï¼‰</strong></td><td>å¤§éƒ¨åˆ†æŒ‡ä»¤åº”ç”±ç¡¬ä»¶ç›´æ¥æ‰§è¡Œï¼Œæ— éœ€ VMM å¹²é¢„</td></tr><tr><td><strong>Safetyï¼ˆå®‰å…¨æ€§ï¼‰</strong></td><td>æ‰€æœ‰èµ„æºè®¿é—®éƒ½ç”± VMM ç®¡æ§ï¼Œç¡®ä¿éš”ç¦»å’Œå®‰å…¨</td></tr></tbody></table><table><thead><tr><th><strong>æœ¯è¯­</strong></th><th><strong>å®šä¹‰</strong></th></tr></thead><tbody><tr><td><strong>Virtual Machine Monitor (VMM) / Hypervisor</strong></td><td>æ˜¯ç‰©ç†ç¡¬ä»¶ä¸è™šæ‹Ÿæœº/å®¢æˆ·æ“ä½œç³»ç»Ÿä¹‹é—´çš„è™šæ‹ŸåŒ–å±‚ã€‚å®ƒè´Ÿè´£èµ„æºè°ƒåº¦å’Œéš”ç¦»ã€‚ç‰¹ç‚¹åŒ…æ‹¬ï¼š<br> - è™šæ‹Ÿæœºç¯å¢ƒåº”ä¸ç‰©ç†æœºç¯å¢ƒä¸€è‡´<br> - åªæœ‰è½»å¾®æ€§èƒ½ä¸‹é™<br> - è™šæ‹Ÿæœºçœ‹èµ·æ¥æ§åˆ¶äº†ç³»ç»Ÿèµ„æº</td></tr><tr><td><strong>Virtual Machine (VM)</strong></td><td>ä½¿ç”¨ç¡¬ä»¶/è½¯ä»¶æ¨¡æ‹Ÿå‡ºçš„æœåŠ¡å™¨ï¼Œå¯è¿è¡Œå®¢æˆ·æ“ä½œç³»ç»Ÿï¼Œå°±åƒçœŸå®çš„ç‰©ç†æœºä¸€æ ·</td></tr><tr><td><strong>Guest Operating System</strong></td><td>è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸­çš„æ“ä½œç³»ç»Ÿï¼ŒåŸæœ¬åº”è¯¥è¿è¡Œåœ¨ç‹¬ç«‹çš„ç‰©ç†æœºä¸Š</td></tr></tbody></table><h3 id="classification-of-instructions-åº•å±‚-cpu-æŒ‡ä»¤é›†" tabindex="-1"><a class="header-anchor" href="#classification-of-instructions-åº•å±‚-cpu-æŒ‡ä»¤é›†"><span>Classification of Instructions åº•å±‚ CPU æŒ‡ä»¤é›†</span></a></h3><table><thead><tr><th>ç±»åˆ«</th><th>å®šä¹‰</th></tr></thead><tbody><tr><td>ğŸ”’ <strong>Privileged Instructions</strong><br>ï¼ˆç‰¹æƒæŒ‡ä»¤ï¼‰</td><td><strong>åªæœ‰åœ¨å†…æ ¸æ¨¡å¼ä¸‹æ‰§è¡Œä¸æŠ¥é”™</strong>ï¼Œå¦‚æœåœ¨ç”¨æˆ·æ¨¡å¼æ‰§è¡Œä¼šå¯¼è‡´ trapï¼ˆé™·å…¥å†…æ ¸ï¼‰</td></tr><tr><td>âš ï¸ <strong>Sensitive Instructions</strong><br>ï¼ˆæ•æ„ŸæŒ‡ä»¤ï¼‰</td><td><strong>è¡Œä¸ºä¾èµ–äºå½“å‰ç¡¬ä»¶çŠ¶æ€æˆ–æƒé™çº§åˆ«</strong>ï¼Œå³ä½¿ä¸ trapï¼Œä¹Ÿå¯èƒ½äº§ç”Ÿä¸åŒç»“æœ</td></tr><tr><td>âœ… <strong>Innocuous Instructions</strong><br>ï¼ˆæ— å®³æŒ‡ä»¤ï¼‰</td><td><strong>ä¸ä¾èµ–æƒé™æˆ–ç¡¬ä»¶çŠ¶æ€</strong>ï¼Œå¯åœ¨ç”¨æˆ·æ€è‡ªç”±æ‰§è¡Œï¼Œä¸å½±å“ç³»ç»Ÿå®Œæ•´æ€§</td></tr></tbody></table><h3 id="virtualization" tabindex="-1"><a class="header-anchor" href="#virtualization"><span>Virtualization</span></a></h3><table><thead><tr><th>æ¦‚å¿µ</th><th>æè¿°</th></tr></thead><tbody><tr><td>Popek-Goldberg å®šç†</td><td>è™šæ‹ŸåŒ–è¦æ±‚æ•æ„ŸæŒ‡ä»¤éƒ½å¿…é¡»æ˜¯ç‰¹æƒæŒ‡ä»¤</td></tr><tr><td>x86 é—®é¢˜</td><td>éƒ¨åˆ†æ•æ„ŸæŒ‡ä»¤æ— æ³•è§¦å‘ trapï¼Œä¸èƒ½å®‰å…¨è™šæ‹ŸåŒ–</td></tr><tr><td>Trap-and-Emulate</td><td>å°† Guest OS çš„è¡Œä¸ºé€šè¿‡ trap æ•æ‰å¹¶æ¨¡æ‹Ÿ</td></tr><tr><td>Shadow Structures</td><td>VMM ç»´æŠ¤é¡µè¡¨ç­‰å…³é”®èµ„æºçš„å½±å­ç»“æ„ä»¥ä¿æŒä¸€è‡´æ€§</td></tr><tr><td>Intel VT / AMD SVM</td><td>ç¡¬ä»¶æä¾›æ”¯æŒï¼Œç¡®ä¿ x86 æ¶æ„ä¹Ÿå¯ä»¥é«˜æ•ˆè™šæ‹ŸåŒ–</td></tr></tbody></table><h3 id="ring-æƒé™ç­‰çº§" tabindex="-1"><a class="header-anchor" href="#ring-æƒé™ç­‰çº§"><span>Ring æƒé™ç­‰çº§</span></a></h3><table><thead><tr><th>Ring çº§åˆ«</th><th>æƒé™</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>Ring 0</td><td>é«˜</td><td>VMMï¼ˆè™šæ‹Ÿæœºç›‘è§†å™¨ï¼‰ / Host OS å†…æ ¸</td></tr><tr><td>Ring 1/2</td><td>ä¸­</td><td>å°‘æ•°é©±åŠ¨ / é€šä¿¡æ¥å£ï¼ˆé€šå¸¸ä¸ç”¨ï¼‰</td></tr><tr><td>Ring 3</td><td>ä½</td><td>ç”¨æˆ·åº”ç”¨ / è¢«è™šæ‹ŸåŒ–çš„ Guest OS</td></tr></tbody></table><h3 id="typical-virtualization-strategies" tabindex="-1"><a class="header-anchor" href="#typical-virtualization-strategies"><span>Typical virtualization strategies</span></a></h3><table><thead><tr><th>æŠ€æœ¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>De-privileging</strong></td><td>Guest OS è¢«å®‰æ’åœ¨æ¯” VMM æ›´ä½çš„æƒé™ç­‰çº§ä¸Šï¼ˆé€šå¸¸æ˜¯ Ring 3ï¼‰</td></tr><tr><td><strong>Trap-and-emulate</strong></td><td>ç‰¹æƒæŒ‡ä»¤è§¦å‘ trap åï¼ŒVMM æ•æ‰å¹¶æ¨¡æ‹Ÿå…¶ç³»ç»Ÿæ•ˆæœ</td></tr><tr><td><strong>Shadow Structures</strong></td><td>VMM ç»´æŠ¤å…³é”®æ•°æ®ç»“æ„çš„å‰¯æœ¬ï¼ˆå¦‚é¡µè¡¨ã€æ§åˆ¶å¯„å­˜å™¨ï¼‰ï¼ŒGuest OS è®¿é—®çš„æ˜¯é•œåƒ</td></tr><tr><td><strong>Memory Tracing</strong></td><td>ä½¿ç”¨å†™ä¿æŠ¤ + page fault æ•æ‰å¯¹ç‰©ç†å†…å­˜çš„ä¿®æ”¹</td></tr></tbody></table><h3 id="openstack-æ”¯æŒçš„-hypervisors" tabindex="-1"><a class="header-anchor" href="#openstack-æ”¯æŒçš„-hypervisors"><span>OpenStack æ”¯æŒçš„ Hypervisors</span></a></h3><table><thead><tr><th>Hypervisor</th><th>ç®€ä»‹</th><th>æ”¯æŒçš„é•œåƒæ ¼å¼</th></tr></thead><tbody><tr><td><strong>KVM</strong></td><td>Kernel-based Virtual Machineï¼Œä¸»æµå¼€æº Hypervisorï¼Œè¿è¡Œåœ¨ Linux ä¸Š</td><td><code>raw</code>, <code>qcow2</code>, <code>vmdk</code></td></tr><tr><td><strong>LXC</strong></td><td>Linux Containersï¼Œå®¹å™¨çº§è™šæ‹ŸåŒ–ï¼Œé€šè¿‡ <code>libvirt</code> ç®¡ç†</td><td>Linux å®¹å™¨é•œåƒ</td></tr><tr><td><strong>QEMU</strong></td><td>Quick Emulatorï¼Œè½¯ä»¶çº§å…¨è™šæ‹ŸåŒ–ï¼Œä¸€èˆ¬ç”¨äºå¼€å‘ã€æ¨¡æ‹Ÿç¡¬ä»¶</td><td>å¼€å‘è°ƒè¯•ç”¨ï¼Œå¤šæ ¼å¼æ”¯æŒ</td></tr><tr><td><strong>VMware vSphere</strong></td><td>å•†ç”¨ Hypervisorï¼Œæ”¯æŒ Windows/Linuxï¼Œéœ€è¿æ¥ vCenter æœåŠ¡å™¨</td><td>VMware æ ¼å¼ (<code>vmdk</code>)</td></tr><tr><td><strong>Virtuozzo</strong></td><td>å•†ç”¨è™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒ OS å®¹å™¨ä¸ KVM è™šæ‹Ÿæœº</td><td><code>parallels</code> via libvirt</td></tr><tr><td><strong>zVM</strong></td><td>IBM z ç³»åˆ—å¤§å‹ä¸»æœºè™šæ‹ŸåŒ–ï¼Œæ”¯æŒ z/OSã€Linux ç­‰</td><td>ä¸“ç”¨æ ¼å¼</td></tr><tr><td><strong>Ironic</strong></td><td>OpenStack é¡¹ç›®ï¼Œç”¨äºè£¸æœºéƒ¨ç½²ï¼Œ<strong>ä¸æ˜¯ Hypervisor</strong>ï¼Œè€Œæ˜¯<strong>æ— éœ€è™šæ‹ŸåŒ–ï¼Œç›´æ¥ä½¿ç”¨çœŸå®ç‰©ç†æœº</strong></td><td>è£¸æœºï¼ˆbare metalï¼‰</td></tr></tbody></table><h3 id="full-virtualization-and-para-virtualization" tabindex="-1"><a class="header-anchor" href="#full-virtualization-and-para-virtualization"><span>Full Virtualization and Para-virtualization</span></a></h3><table><thead><tr><th>ç±»å‹</th><th>å…¨è™šæ‹ŸåŒ–ï¼ˆFull Virtualisationï¼‰</th><th>åŠè™šæ‹ŸåŒ–ï¼ˆPara-Virtualisationï¼‰</th></tr></thead><tbody><tr><td>åŸç†</td><td>æ¨¡æ‹Ÿæ•´ä¸ªç¡¬ä»¶ç¯å¢ƒï¼ŒGuest OS æ— éœ€ä¿®æ”¹</td><td>Hypervisor æš´éœ²ç‰¹å®š APIï¼ŒGuest OS å¿…é¡»ä¿®æ”¹</td></tr><tr><td>ä»£è¡¨ç³»ç»Ÿ</td><td>VMwareã€KVMã€QEMU</td><td>Xenï¼ˆä½¿ç”¨ para-virtualized guestsï¼‰</td></tr><tr><td>æ˜¯å¦éœ€è¦ Guest OS ä¿®æ”¹</td><td>âŒ æ— éœ€ä¿®æ”¹ï¼Œå¯è¿è¡Œä»»æ„æ“ä½œç³»ç»Ÿ</td><td>âœ… éœ€è¦ä¿®æ”¹ï¼Œå¿…é¡»æ˜¯ â€œhypervisor-awareâ€ çš„æ“ä½œç³»ç»Ÿ</td></tr><tr><td>å…¼å®¹æ€§</td><td>âœ… é«˜ï¼Œæ”¯æŒæ—§ç‰ˆ/æœªä¿®æ”¹ç³»ç»Ÿ</td><td>âŒ ä½ï¼Œåªèƒ½è¿è¡Œç‰¹å®šä¿®æ”¹åçš„ç³»ç»Ÿ</td></tr><tr><td>æ€§èƒ½</td><td>â›” æœ‰è™šæ‹ŸåŒ–å¼€é”€ï¼ˆTrap-and-Emulate ç­‰ï¼‰</td><td>âœ… æ€§èƒ½é«˜ï¼Œç³»ç»Ÿè°ƒç”¨ç›´æ¥è®¿é—® Hypervisor</td></tr><tr><td>å†…æ ¸æ€è¿è¡Œä½ç½®</td><td>Guest OS åœ¨ Ring 1 æˆ–æ›´ä½ï¼ˆRing 3ï¼‰ï¼ŒVMM åœ¨ Ring 0</td><td>Guest OS ç›´æ¥ä½¿ç”¨ Hypervisor æ¥å£ï¼Œå‡å°‘ trap</td></tr></tbody></table><h3 id="hardware-assisted-virtualization-and-binary-translation" tabindex="-1"><a class="header-anchor" href="#hardware-assisted-virtualization-and-binary-translation"><span>Hardware-assisted Virtualization and Binary Translation</span></a></h3><table><thead><tr><th>æŠ€æœ¯</th><th>ç¡¬ä»¶è¾…åŠ©è™šæ‹ŸåŒ– (Hardware-assisted Virtualisation)</th><th>äºŒè¿›åˆ¶ç¿»è¯‘ (Binary Translation)</th></tr></thead><tbody><tr><td><strong>åŸç†</strong></td><td>åˆ©ç”¨ CPU æä¾›çš„è™šæ‹ŸåŒ–æ‰©å±•ï¼ˆå¦‚ Intel VT-x, AMD-Vï¼‰ï¼Œå¤„ç†å™¨ç›´æ¥æ”¯æŒè™šæ‹ŸåŒ–</td><td>é€šè¿‡åŠ¨æ€æ‰«æå’Œæ›¿æ¢å®¢æˆ·æœºçš„æ•æ„ŸæŒ‡ä»¤ï¼Œè½¬æ¢ä¸ºç­‰æ•ˆçš„æ¨¡æ‹Ÿä»£ç </td></tr><tr><td><strong>å¯¹ Guest OS è¦æ±‚</strong></td><td>ä¸éœ€è¦ä¿®æ”¹ Guest OS</td><td>ä¸éœ€è¦ä¿®æ”¹ Guest OS</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>æ€§èƒ½è¾ƒå¥½ï¼Œæ¥è¿‘åŸç”Ÿ</td><td>é¢å¤–å¼€é”€è¾ƒå¤§ï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒå·®</td></tr><tr><td><strong>å®ç°éš¾åº¦</strong></td><td>è¾ƒç®€å•ï¼Œå®ç°æ›´å®¹æ˜“</td><td>è¾ƒå¤æ‚ï¼Œéœ€è¦â€œå®æ—¶â€æ›¿æ¢æŒ‡ä»¤æµ</td></tr><tr><td><strong>ç¡¬ä»¶éœ€æ±‚</strong></td><td>éœ€è¦ CPU æ”¯æŒè™šæ‹ŸåŒ–æ‰©å±•ï¼ˆRing -1 çš„æ”¯æŒï¼‰</td><td>ä¸ä¾èµ–ç¡¬ä»¶æ”¯æŒ</td></tr><tr><td><strong>æ”¯æŒçš„ç‰¹æ€§</strong></td><td>æ”¯æŒç¡¬ä»¶è¾…åŠ© DMAã€å†…å­˜è™šæ‹ŸåŒ–ç­‰é«˜çº§åŠŸèƒ½</td><td>éœ€è¦è½¯ä»¶å±‚é¢æ¨¡æ‹Ÿè¾ƒå¤šï¼Œæ”¯æŒæœ‰é™</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>ç°ä»£æœåŠ¡å™¨å¤„ç†å™¨ï¼ŒKVMã€Hyper-Vã€Xen çš„ç¡¬ä»¶æ¨¡å¼</td><td>è€æ—§ç¡¬ä»¶ï¼Œæˆ–è€…ä¸æ”¯æŒè™šæ‹ŸåŒ–æ‰©å±•çš„ CPU ç¯å¢ƒ</td></tr><tr><td><strong>ç¼ºç‚¹</strong></td><td>ä¾èµ–ç¡¬ä»¶ï¼Œæ—§æœºå™¨ä¸æ”¯æŒ</td><td>æ€§èƒ½å¼€é”€å¤§ï¼Œå¤æ‚åº¦é«˜</td></tr><tr><td><strong>ç¤ºä¾‹</strong></td><td>KVMï¼ˆå€ŸåŠ© Intel VT-x / AMD-Vï¼‰</td><td>VMware æ—©æœŸç‰ˆæœ¬çš„äºŒè¿›åˆ¶ç¿»è¯‘æŠ€æœ¯</td></tr></tbody></table><h3 id="bare-metal-hypervisor-and-hosted-virtualization" tabindex="-1"><a class="header-anchor" href="#bare-metal-hypervisor-and-hosted-virtualization"><span>Bare Metal Hypervisor and Hosted Virtualization</span></a></h3><table><thead><tr><th>ç±»å‹</th><th>æè¿°</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td><strong>è£¸æœºå‹ Hypervisor (Bare Metal)</strong></td><td>VMM ç›´æ¥è¿è¡Œåœ¨ç‰©ç†ç¡¬ä»¶ä¸Šï¼Œæ§åˆ¶ç¡¬ä»¶åŠè®¾å¤‡é©±åŠ¨ç¨‹åºã€‚å¯åŠ¨å³è¿è¡Œåœ¨å®é™…æœºå™¨ä¸Šã€‚</td><td>VMware ESX Server</td></tr><tr><td><strong>æ‰˜ç®¡å‹è™šæ‹ŸåŒ– (Hosted Virtualisation)</strong></td><td>VMM è¿è¡Œäºå·²æœ‰æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œä¾èµ–å®¿ä¸»ç³»ç»Ÿèµ„æºç®¡ç†ã€‚</td><td>VMware Workstation</td></tr></tbody></table><h3 id="operating-system-level-virtualization" tabindex="-1"><a class="header-anchor" href="#operating-system-level-virtualization"><span>Operating System Level Virtualization</span></a></h3><table><thead><tr><th>ä¸»é¢˜</th><th>ç±»å‹/æ¦‚å¿µ</th><th>è¯´æ˜</th><th>ç¤ºä¾‹/å¤‡æ³¨</th></tr></thead><tbody><tr><td><strong>æ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ–</strong></td><td>å®¹å™¨/è½»é‡çº§è™šæ‹Ÿæœº</td><td>åŸºäºåŒä¸€ä¸ªæ“ä½œç³»ç»Ÿåˆ›å»ºè½»é‡çº§å®¹å™¨ï¼Œä¸æ¨¡æ‹Ÿå®Œæ•´ç¡¬ä»¶ç¯å¢ƒ</td><td>LXCã€Dockerã€OpenVZã€FreeBSD Jails</td></tr><tr><td></td><td>ä¼˜ç‚¹</td><td>è½»é‡ã€é«˜æ•ˆã€å¯åŠ¨å¿«ã€èµ„æºåˆ©ç”¨ç‡é«˜</td><td></td></tr><tr><td></td><td>ç¼ºç‚¹</td><td>åªèƒ½è¿è¡ŒåŒä¸€ç±»æ“ä½œç³»ç»Ÿåº”ç”¨ï¼Œæ— æ³•è·¨ OSï¼Œä½¿ç”¨ç›¸åŒæ–‡ä»¶ç³»ç»Ÿ</td><td></td></tr><tr><td><strong>å†…å­˜è™šæ‹ŸåŒ–</strong></td><td>ä¼ ç»Ÿé¡µè¡¨ (Page Tables)</td><td>ç®¡ç†è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€æ˜ å°„</td><td></td></tr><tr><td></td><td>å½±å­é¡µè¡¨ (Shadow Page Tables)</td><td>VMMç»´æŠ¤ï¼Œä¸å®¢æˆ·æœºé¡µè¡¨åŒæ­¥ï¼Œå®ç°å®¢æˆ·æœºè™šæ‹Ÿåœ°å€åˆ°ç‰©ç†æœºåœ°å€æ˜ å°„</td><td>å¢åŠ ç®¡ç†å¼€é”€</td></tr><tr><td></td><td>ç¡¬ä»¶æ”¯æŒ</td><td>ç¡¬ä»¶åŠ é€Ÿå†…å­˜è™šæ‹ŸåŒ–ï¼Œå¦‚ Intel EPTã€AMD NPT</td><td></td></tr><tr><td><strong>è™šæ‹Ÿæœºçƒ­è¿ç§»</strong></td><td>è„é¡µ (Dirty Pages)</td><td>å†…å­˜ä¸­å·²ä¿®æ”¹ä½†å°šæœªå†™å›ç£ç›˜çš„é¡µé¢</td><td></td></tr><tr><td></td><td>å¹²å‡€é¡µ (Clean Pages)</td><td>å·²å†™å›ç£ç›˜çš„å†…å­˜é¡µé¢</td><td></td></tr><tr><td></td><td>è¿ç§»è¿‡ç¨‹</td><td>å…ˆè¿ç§»å¹²å‡€é¡µï¼Œå†åå¤è¿ç§»è„é¡µï¼Œä¿è¯ä¸­æ–­æ—¶é—´æœ€çŸ­</td><td></td></tr></tbody></table><h3 id="aws-services" tabindex="-1"><a class="header-anchor" href="#aws-services"><span>AWS Services</span></a></h3><table><thead><tr><th>æœåŠ¡ç±»åˆ«</th><th>æœåŠ¡åç§°</th><th>ä¸»è¦åŠŸèƒ½ä¸ç‰¹ç‚¹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><strong>ç½‘ç»œæœåŠ¡</strong></td><td>Amazon VPC</td><td>è‡ªå®šä¹‰è™šæ‹Ÿç½‘ç»œï¼Œæ”¯æŒå­ç½‘åˆ’åˆ†ï¼Œå®ç°å…¬æœ‰/ç§æœ‰å­ç½‘éš”ç¦»</td><td>ç®¡ç†IPåœ°å€èŒƒå›´ï¼Œç½‘ç»œéš”ç¦»ä¸å®‰å…¨</td></tr><tr><td><strong>è®¡ç®—æœåŠ¡</strong></td><td>Amazon EC2</td><td>å¼¹æ€§äº‘æœåŠ¡å™¨å®ä¾‹ï¼Œæ”¯æŒå®‰å…¨ç»„ã€å¼¹æ€§IPã€è´Ÿè½½å‡è¡¡</td><td>æ”¯æŒ Session Manager æ— éœ€å¼€æ”¾ç«¯å£</td></tr><tr><td><strong>æ•°æ®åº“æœåŠ¡</strong></td><td>Amazon RDS</td><td>æ‰˜ç®¡å…³ç³»å‹æ•°æ®åº“ï¼Œæ”¯æŒå¤šç§å¼•æ“ï¼ˆMySQLã€PostgreSQLç­‰ï¼‰</td><td>æ–¹ä¾¿ç®¡ç†å…³ç³»å‹æ•°æ®åº“</td></tr><tr><td></td><td>Amazon DocumentDB</td><td>æ‰˜ç®¡æ–‡æ¡£æ•°æ®åº“ï¼Œå…¼å®¹ MongoDB API</td><td>é€‚åˆæ–‡æ¡£å‹æ•°æ®å­˜å‚¨</td></tr><tr><td></td><td>Amazon OpenSearch</td><td>æ‰˜ç®¡ Elasticsearchï¼Œè‡ªåŠ¨ç®¡ç†ï¼Œæ”¯æŒæ‰©å±•å’Œä¸ AWS æœåŠ¡é›†æˆ</td><td>æœç´¢ä¸åˆ†æ</td></tr><tr><td><strong>å­˜å‚¨æœåŠ¡</strong></td><td>Amazon S3</td><td>é«˜å¯ç”¨å¯¹è±¡å­˜å‚¨ï¼Œæ”¯æŒå¤šç§è®¿é—®æ–¹å¼ï¼Œæ”¯æŒé™æ€ç½‘ç«™æ‰˜ç®¡ã€ç‰ˆæœ¬æ§åˆ¶å’Œç”Ÿå‘½å‘¨æœŸç­–ç•¥</td><td>é€‚åˆå­˜å‚¨æµ·é‡éç»“æ„åŒ–æ•°æ®</td></tr><tr><td><strong>ç³»ç»Ÿç®¡ç†</strong></td><td>AWS Systems Manager</td><td>è¿œç¨‹ç®¡ç†èŠ‚ç‚¹ï¼ˆFleet Managerï¼‰ã€å®‰å…¨è¿æ¥ï¼ˆSession Managerï¼‰ã€è‡ªåŠ¨ä»»åŠ¡æ‰§è¡Œï¼ˆRun Commandï¼‰ã€è‡ªåŠ¨è¡¥ä¸ç®¡ç†ï¼ˆPatch Managerï¼‰</td><td>ç®€åŒ–è¿ç»´ç®¡ç†</td></tr><tr><td><strong>å®‰å…¨æœåŠ¡</strong></td><td>AWS WAF</td><td>Web åº”ç”¨é˜²ç«å¢™ï¼ŒåŸºäºè‡ªå®šä¹‰è§„åˆ™è¿‡æ»¤ HTTP è¯·æ±‚</td><td>ä¿æŠ¤åº”ç”¨å…å—å¸¸è§æ”»å‡»</td></tr><tr><td><strong>å®¹å™¨ç¼–æ’</strong></td><td>Elastic Container Service (ECS)</td><td>æ‰˜ç®¡ Docker å®¹å™¨ï¼Œæ”¯æŒ EC2 å’Œæ— æœåŠ¡å™¨ Fargate</td><td>ç®€åŒ–å®¹å™¨éƒ¨ç½²å’Œç®¡ç†</td></tr><tr><td></td><td>Elastic Kubernetes Service (EKS)</td><td>æ‰˜ç®¡ Kubernetes é›†ç¾¤ï¼Œæ”¯æŒ EC2 å’Œ Fargate</td><td>åŸç”Ÿ Kubernetes æœåŠ¡</td></tr></tbody></table><h2 id="week-10" tabindex="-1"><a class="header-anchor" href="#week-10"><span>Week 10</span></a></h2><h3 id="challenges-of-security" tabindex="-1"><a class="header-anchor" href="#challenges-of-security"><span>Challenges of Security</span></a></h3><table><thead><tr><th>æŒ‘æˆ˜ç‚¹</th><th>ç¤ºä¾‹ä¸è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç”¨æˆ·/è®¾å¤‡å¤šæ ·æ€§</strong></td><td>äº‘/ç½‘æ ¼ç³»ç»Ÿå…è®¸ä¸åŒç»„ç»‡å’Œç”¨æˆ·åŠ¨æ€æ¥å…¥ï¼Œç”¨æˆ·è¡Œä¸ºéš¾ä»¥å®Œå…¨æ§åˆ¶ã€‚</td></tr><tr><td><strong>èµ„æºåŠ¨æ€å˜åŒ–</strong></td><td>æ–°ç”¨æˆ·åŠ å…¥ã€æ—§ç”¨æˆ·é€€å‡ºã€èµ„æºå˜æ›´ï¼Œå¯èƒ½è¿ååŸæœ‰å®‰å…¨ç­–ç•¥ã€‚</td></tr><tr><td><strong>æ”¿ç­–å·®å¼‚</strong></td><td>ä¸åŒç»„ç»‡å¯¹å®‰å…¨è¦æ±‚ä¸åŒï¼Œå¦‚éœ€è¦å°†æ•°æ®â€œå¬å›â€ç»„ç»‡å†…éƒ¨ã€‚</td></tr><tr><td><strong>èµ„æºå…±äº«é—®é¢˜</strong></td><td>â€œå˜ˆæ‚é‚»å±…â€é—®é¢˜ï¼šI/O å¯†é›†å‹ä»»åŠ¡å½±å“åŒç§Ÿæˆ·æ€§èƒ½ã€‚NeCTAR æ—©æœŸå°±æœ‰æ­¤é—®é¢˜ã€‚</td></tr></tbody></table><h3 id="technical-challenges-authentication" tabindex="-1"><a class="header-anchor" href="#technical-challenges-authentication"><span>Technical Challenges: Authentication</span></a></h3><table><thead><tr><th>æ¦‚å¿µ</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>å®šä¹‰</td><td>è¯†åˆ«å’Œç¡®è®¤ç”¨æˆ·èº«ä»½çš„è¿‡ç¨‹ï¼ˆä¸æ¶‰åŠç”¨æˆ·èƒ½åšä»€ä¹ˆï¼‰</td></tr><tr><td>ç¤ºä¾‹</td><td>ç«™ç‚¹ X éªŒè¯ç”¨æˆ· Y æ˜¯å¦ä¸ºå£°ç§°èº«ä»½</td></tr><tr><td>é£é™©</td><td>è¢«å†’å……ï¼ˆMasqueradingï¼‰æ˜¯ç°å®å­˜åœ¨çš„å¨èƒ</td></tr><tr><td>æœ¬åœ°è®¤è¯é—®é¢˜</td><td>ç”¨æˆ·å¤šã€å˜åŠ¨å¤§æ—¶ç®¡ç†å›°éš¾ï¼ˆå¦‚ 10 ä¸‡ç”¨æˆ·ï¼‰</td></tr><tr><td>å¯æ‰©å±•æ€§æ–¹æ¡ˆ</td><td>é›†ä¸­å¼ vs åˆ†å¸ƒå¼è®¤è¯ç³»ç»Ÿï¼›æ›´éœ€å¯æ‰©å±•æ–¹æ¡ˆ</td></tr><tr><td>æŒ‡å¯¼å»ºè®®</td><td>å¼ºå¯†ç ç­–ç•¥ï¼ˆé•¿åº¦ã€å¤æ‚å­—ç¬¦ã€å®šæœŸæ›´æ¢ï¼‰</td></tr><tr><td>æ¨èæ–¹æ¡ˆ</td><td>ä½¿ç”¨**å…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆPKIï¼‰**æå‡è®¤è¯å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§</td></tr></tbody></table><h3 id="public-key-cryptography-asymmetric-cryptography" tabindex="-1"><a class="header-anchor" href="#public-key-cryptography-asymmetric-cryptography"><span>Public Key Cryptography (Asymmetric Cryptography)</span></a></h3><table><thead><tr><th>ç‰¹æ€§</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>åˆ«å</td><td>éå¯¹ç§°åŠ å¯†</td></tr><tr><td>å¯†é’¥ç±»å‹</td><td>å…¬é’¥ï¼ˆå…¬å¼€ï¼‰ä¸ç§é’¥ï¼ˆä¿å¯†ï¼‰</td></tr><tr><td>å·¥ä½œåŸç†</td><td>ä¸€æ–¹ç”¨ç§é’¥åŠ å¯†æˆ–ç­¾åï¼Œå¦ä¸€æ–¹ç”¨å¯¹åº”å…¬é’¥è§£å¯†æˆ–éªŒè¯</td></tr><tr><td>åŠŸèƒ½ç”¨é€”</td><td>æ•°æ®å®Œæ•´æ€§æ ¡éªŒã€æ•°å­—ç­¾åã€éå¦è®¤æ€§ã€æœºå¯†é€šä¿¡</td></tr><tr><td>ä¼˜ç‚¹</td><td>ç®€åŒ–å¯†é’¥ç®¡ç†ï¼›å…¬é’¥å¯å¹¿æ³›åˆ†å‘ï¼Œç§é’¥éœ€å¦¥å–„ä¿ç®¡</td></tr><tr><td>ä½¿ç”¨ç­–ç•¥</td><td>å…¬é’¥çŸ­æœŸä½¿ç”¨å³å¯æ›´æ¢ï¼Œå‡å°‘è¢«çªƒé£é™©</td></tr></tbody></table><h3 id="public-key-certificate" tabindex="-1"><a class="header-anchor" href="#public-key-certificate"><span>Public Key Certificate</span></a></h3><table><thead><tr><th>æ¦‚å¿µ</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>ä½œç”¨</td><td>å°†<strong>å…¬é’¥</strong>ä¸å…¶æ‹¥æœ‰è€…ï¼ˆç”¨æˆ·ï¼‰ç»‘å®š</td></tr><tr><td>å†…å®¹ç¤ºä¾‹</td><td>åŒ…å«å…¬é’¥ã€ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼ˆå¦‚ï¼šCN=å¼ ä¸‰, O=UniMelb, C=AUï¼‰</td></tr><tr><td>ç°å®ç±»æ¯”</td><td>åç‰‡ï¼ˆä½†éœ€ä¿¡ä»»æºä¿è¯å…¶çœŸå®æ€§ï¼‰</td></tr><tr><td>å®‰å…¨é—®é¢˜</td><td>å¯èƒ½ä¼ªé€ ã€ä¿¡æ¯å˜åŠ¨ã€ä¼ è¾“ä¸å¯ä¿¡</td></tr><tr><td>è§£å†³æ–¹æ¡ˆ</td><td>ç”±å¯ä¿¡**è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰**ç­¾å‘è¯ä¹¦</td></tr></tbody></table><h3 id="certification-authority-ca" tabindex="-1"><a class="header-anchor" href="#certification-authority-ca"><span>Certification Authority (CA)</span></a></h3><table><thead><tr><th>æ¦‚å¿µ</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>CA çš„ä½œç”¨</td><td>PKI(Public Key Infrastructure) æ ¸å¿ƒæœºæ„ï¼Œè´Ÿè´£é¢å‘ã€ç®¡ç†ã€æ’¤é”€æ•°å­—è¯ä¹¦</td></tr><tr><td>å¸¸è§èŒè´£</td><td>åˆ¶å®šç­–ç•¥ã€éªŒè¯èº«ä»½ã€ç­¾å‘è¯ä¹¦ã€æ’¤é”€è¯ä¹¦ã€ç»´æŠ¤ CRLï¼ˆè¯ä¹¦æ’¤é”€åˆ—è¡¨ï¼‰</td></tr><tr><td>è®¤è¯æµç¨‹</td><td>å¯å§”æ‰˜æ³¨å†Œæœºæ„ï¼ˆRAï¼‰æ‰§è¡Œï¼Œå¦‚å‡ºç¤ºæŠ¤ç…§/å­¦ç”Ÿè¯ç­‰</td></tr><tr><td>ç®¡ç†å†…å®¹</td><td>å­˜å‚¨è¯ä¹¦ã€æ›´æ–°è¯ä¹¦ã€å½’æ¡£å†å²æ•°æ®ç­‰</td></tr></tbody></table><h3 id="pki-in-cloud-computing" tabindex="-1"><a class="header-anchor" href="#pki-in-cloud-computing"><span>PKI in Cloud Computing</span></a></h3><table><thead><tr><th>åœºæ™¯</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>IaaS ä¸­çš„åº”ç”¨</td><td>å¦‚ AWS ä½¿ç”¨å¯†é’¥å¯¹è®¿é—®è™šæ‹Ÿæœºèµ„æº</td></tr><tr><td>äº‘äº’æ“ä½œæ€§</td><td>éœ€ä»¥å®‰å…¨æœºåˆ¶ï¼ˆå¦‚ PKIï¼‰ä¸ºå‰æ</td></tr><tr><td>å®é™…æ¡ˆä¾‹</td><td>ä½¿ç”¨ UoM å­¦ç”Ÿèº«ä»½è®¿é—® MRCã€Spartan ç­‰</td></tr><tr><td>å¤šç§èº«ä»½æ–¹å¼</td><td>OpenIDã€Facebook IDã€ä¿¡ç”¨å¡ï¼ˆå¦‚ Amazon ç™»å½•ï¼‰</td></tr><tr><td>å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰éœ€æ±‚</td><td>ä¸€æ¬¡è®¤è¯ï¼Œå¤šå¤„è®¿é—®ï¼Œé€‚ç”¨äºåˆ†å¸ƒå¼è‡ªæ²»èµ„æºç¯å¢ƒ</td></tr></tbody></table><h3 id="technical-challenges-authorization" tabindex="-1"><a class="header-anchor" href="#technical-challenges-authorization"><span>Technical Challenges: Authorization</span></a></h3><table><thead><tr><th>é¡¹ç›®</th><th>å†…å®¹</th></tr></thead><tbody><tr><td><strong>å®šä¹‰</strong></td><td>æ§åˆ¶ç”¨æˆ·è®¿é—®èµ„æºçš„æƒé™ï¼Œä¾æ®<strong>ç­–ç•¥ï¼ˆPolicyï¼‰</strong></td></tr><tr><td><strong>ä¸èº«ä»½éªŒè¯çš„å…³ç³»</strong></td><td>èº«ä»½éªŒè¯ç¡®è®¤ç”¨æˆ·æ˜¯è°ï¼›æˆæƒå®šä¹‰ç”¨æˆ·èƒ½åšä»€ä¹ˆ</td></tr><tr><td><strong>å¸¸è§æ§åˆ¶æ¨¡å‹</strong></td><td>- <strong>RBAC</strong>ï¼ˆåŸºäºè§’è‰²ï¼‰<br>- <strong>ABAC</strong>ï¼ˆåŸºäºå±æ€§ï¼‰<br>- <strong>IBAC</strong>ï¼ˆåŸºäºèº«ä»½ï¼‰<br>- <strong>GBAC</strong>ï¼ˆåŸºäºç»„ï¼‰</td></tr><tr><td><strong>ç±»æ¯”</strong></td><td>æŠ¤ç…§ vs å•†åº—ä¼šå‘˜å¡ï¼šä¸€ä¸ªç¡®è®¤èº«ä»½ï¼Œä¸€ä¸ªæˆäºˆæƒé™</td></tr></tbody></table><h3 id="â˜ï¸-äº‘ç¯å¢ƒä¸­çš„æˆæƒ" tabindex="-1"><a class="header-anchor" href="#â˜ï¸-äº‘ç¯å¢ƒä¸­çš„æˆæƒ"><span>â˜ï¸ äº‘ç¯å¢ƒä¸­çš„æˆæƒ</span></a></h3><table><thead><tr><th>é¡¹ç›®</th><th>å†…å®¹</th></tr></thead><tbody><tr><td><strong>æˆæƒä½œç”¨èŒƒå›´</strong></td><td>- æ­£åœ¨è¿è¡Œçš„æœåŠ¡æˆ–æ•°æ®<br>- å®‰è£…è¡¥ä¸ã€åˆ é™¤ VMã€å¯åŠ¨é•œåƒç­‰æ“ä½œ</td></tr><tr><td><strong>é—®é¢˜ç¤ºä¾‹</strong></td><td>- è°å¯ä»¥è£…è¡¥ä¸ï¼Ÿ<br>- é•œåƒæ˜¯å¦å«æ¶æ„ä»£ç ï¼Ÿ<br>- è¡¥ä¸æ˜¯å¦ä¼šå½±å“å…¶ä»– VMï¼Ÿ</td></tr><tr><td><strong>è½¯ä»¶å·¥å…·æ”¯æŒ</strong></td><td>Pakitiã€Cfengineã€Puppetã€å®¹å™¨æŠ€æœ¯ï¼ˆå¦‚ Dockerã€Kubernetesï¼‰</td></tr></tbody></table><h3 id="ğŸ”-æˆæƒå®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ğŸ”-æˆæƒå®ç°æ–¹å¼"><span>ğŸ” æˆæƒå®ç°æ–¹å¼</span></a></h3><table><thead><tr><th>é¡¹ç›®</th><th>å†…å®¹</th></tr></thead><tbody><tr><td><strong>è™šæ‹Ÿç»„ç»‡ï¼ˆVOï¼‰</strong></td><td>å¤šæœºæ„ç”¨æˆ·å…±äº«èµ„æºå¹¶åä½œçš„æ¦‚å¿µæ¡†æ¶</td></tr><tr><td><strong>ç­–ç•¥è¡¨è¾¾å½¢å¼</strong></td><td>- XML<br>- SAMLï¼ˆå®‰å…¨æ–­è¨€æ ‡è®°è¯­è¨€ï¼‰<br>- XACMLï¼ˆè®¿é—®æ§åˆ¶æ ‡è®°è¯­è¨€ï¼‰</td></tr><tr><td><strong>è®¿é—®æ§åˆ¶ä¸‰å…ƒç»„</strong></td><td><code>{ Role Ã— Action Ã— Resource }</code>ï¼šæŸè§’è‰²æ˜¯å¦èƒ½å¯¹æŸèµ„æºæ‰§è¡ŒæŸæ“ä½œï¼Ÿ</td></tr><tr><td><strong>è§’è‰²å±‚æ¬¡ç¤ºä¾‹</strong></td><td>è§’è‰² X â‰¥ è§’è‰² Y â‰¥ è§’è‰² Zï¼ˆX æƒé™æœ€å¤šï¼‰</td></tr><tr><td><strong>ç›¸å…³æŠ€æœ¯æ ‡å‡†</strong></td><td>- XACML, PERMIS, CAS, VOMS, AKENTI, SAML, WS-*<br>- PDPï¼ˆç­–ç•¥å†³ç­–ç‚¹ï¼‰å’Œ PEPï¼ˆç­–ç•¥æ‰§è¡Œç‚¹ï¼‰æœºåˆ¶</td></tr></tbody></table><h3 id="ğŸ›¡ï¸-æˆæƒé¢ä¸´çš„æŒ‘æˆ˜" tabindex="-1"><a class="header-anchor" href="#ğŸ›¡ï¸-æˆæƒé¢ä¸´çš„æŒ‘æˆ˜"><span>ğŸ›¡ï¸ æˆæƒé¢ä¸´çš„æŒ‘æˆ˜</span></a></h3><table><thead><tr><th>é¡¹ç›®</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>å®‰å…¨æ€§ç»´æŠ¤</td><td>é•œåƒæ¶æ„è½¯ä»¶ã€è¡¥ä¸å…¼å®¹æ€§é—®é¢˜ã€ä¾èµ–å†²çªç­‰</td></tr><tr><td>å¤æ‚ä¾èµ–</td><td>è½¯ä»¶ä¾èµ–ç‰ˆæœ¬ç®¡ç†å¤æ‚ï¼Œå½±å“æœåŠ¡å¯é æ€§</td></tr><tr><td>å¤šç»„ç»‡åä½œ</td><td>å„ç»„ç»‡å®‰å…¨ç­–ç•¥ä¸ä¸€ï¼Œéš¾ä»¥ç»Ÿä¸€ç®¡ç†</td></tr></tbody></table><h3 id="other-challenges" tabindex="-1"><a class="header-anchor" href="#other-challenges"><span>Other Challenges</span></a></h3><table><thead><tr><th>å®‰å…¨æŒ‘æˆ˜ç±»åˆ«</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰</strong></td><td>- Grid å’Œ Shibboleth æä¾›äº†å…ˆä¾‹<br>- ç›®å‰ Cloud IaaS å¹¶æœªå®Œå…¨è§£å†³<br>- ä¾èµ–éäº‘å¼€å‘è€…è‡ªè¡Œå®ç°</td></tr><tr><td><strong>å®¡è®¡ä¸æ—¥å¿—ï¼ˆAuditingï¼‰</strong></td><td>- æ¶‰åŠæ—¥å¿—è®°å½•ã€å…¥ä¾µæ£€æµ‹ã€å®‰å…¨å®¡è®¡ç­‰<br>- åœ¨<strong>å•ä¸€äº‘/æœ¬åœ°ç³»ç»Ÿ</strong>ä¸­æˆç†Ÿ<br>- <strong>è·¨äº‘/è”é‚¦äº‘ç¯å¢ƒ</strong>æ”¯æŒå°šä¸æˆç†Ÿ<br>- ç¤ºä¾‹å·¥å…·ï¼šCloudWatchï¼ˆAWSï¼‰ã€Ceilometerï¼ˆOpenStackï¼‰</td></tr><tr><td><strong>æ•°æ®åˆ é™¤ä¸åŠ å¯†</strong></td><td>- æ— æ³•ç›´æ¥è®¿é—®ç¡¬ç›˜ï¼Œä¼ ç»Ÿå·¥å…·æ— æ³•ä½¿ç”¨<br>- åˆ é™¤å°æ•°æ®ç®€å•ï¼Œå¤§è§„æ¨¡ï¼ˆTBçº§ï¼‰æ•°æ®åˆ é™¤å¤æ‚<br>- éœ€è¦å®‰å…¨åŠ å¯†å’Œå½»åº•æ“¦é™¤æœºåˆ¶</td></tr><tr><td><strong>è´£ä»»å½’å±ï¼ˆLiabilityï¼‰</strong></td><td>- æ³•å¾‹è´£ä»»ä¸æ•°æ®å®‰å…¨é—®é¢˜</td></tr><tr><td><strong>è½¯ä»¶è®¸å¯é—®é¢˜ï¼ˆLicensingï¼‰</strong></td><td>- å¤šç§æ¨¡å‹ï¼šæŒ‰ç”¨æˆ·ã€æœåŠ¡å™¨ã€ç»„ç»‡ã€æµ®åŠ¨æˆæƒã€æœºå™¨å›ºå®šç­‰<br>- äº‘ç¯å¢ƒä¸‹è¿™äº›æ¨¡å‹é€‚é…å›°éš¾<br>- ä¸æœ¬åœ°é›†ç¾¤ï¼ˆå¦‚ SPARTANï¼‰å¯¹æ¯”ï¼šèµ„æºè°ƒåº¦ä¸åˆè§„éš¾é¢˜</td></tr><tr><td><strong>å·¥ä½œæµå®‰å…¨ï¼ˆWorkflow Securityï¼‰</strong></td><td>- å¸¸ç”¨å·¥å…·ï¼šTaverna, Pegasus, Galaxy, Kepler, Nimrod, OMS ç­‰<br>- æ¨¡å‹ç±»å‹ï¼š<br>â†’ Orchestrationï¼ˆé›†ä¸­å¼ï¼‰<br>â†’ Choreographyï¼ˆå»ä¸­å¿ƒåŒ–ï¼‰<br>- å®‰å…¨å·¥ä½œæµçš„æŒ‘æˆ˜ï¼š<br>â†’ å®šä¹‰<br>â†’ æ‰§è¡Œ<br>â†’ åˆ†äº«<br>â†’ ç»Ÿä¸€å®‰å…¨ç­–ç•¥</td></tr></tbody></table>',172))])}]]),c=JSON.parse('{"path":"/posts/unimelb/COMP90024.html","title":"Cluster and Cloud Computing (COMP90024)","lang":"en-US","frontmatter":{"icon":"pen-to-square","date":"2025-03-02T00:00:00.000Z","category":["Learning Records"],"tag":["Unimelb"],"description":"Cluster and Cloud Computing (COMP90024) Week 1 Over the past two decades, several major trends in research and computing have collectively enabled the rise of cloud computing: V...","head":[["meta",{"property":"og:url","content":"https://crc011220.github.io/posts/unimelb/COMP90024.html"}],["meta",{"property":"og:site_name","content":"Richard Chen"}],["meta",{"property":"og:title","content":"Cluster and Cloud Computing (COMP90024)"}],["meta",{"property":"og:description","content":"Cluster and Cloud Computing (COMP90024) Week 1 Over the past two decades, several major trends in research and computing have collectively enabled the rise of cloud computing: V..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-06-21T10:08:49.000Z"}],["meta",{"property":"article:tag","content":"Unimelb"}],["meta",{"property":"article:published_time","content":"2025-03-02T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-21T10:08:49.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Cluster and Cloud Computing (COMP90024)\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-03-02T00:00:00.000Z\\",\\"dateModified\\":\\"2025-06-21T10:08:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Richard Chen\\"}]}"]]},"headers":[{"level":2,"title":"Week 1","slug":"week-1","link":"#week-1","children":[{"level":3,"title":"Cloud Characteristics","slug":"cloud-characteristics","link":"#cloud-characteristics","children":[]},{"level":3,"title":"åˆ†å¸ƒå¼ç³»ç»Ÿå‘å±•å†å²æ€»ç»“","slug":"åˆ†å¸ƒå¼ç³»ç»Ÿå‘å±•å†å²æ€»ç»“","link":"#åˆ†å¸ƒå¼ç³»ç»Ÿå‘å±•å†å²æ€»ç»“","children":[]},{"level":3,"title":"Grid Computing","slug":"grid-computing","link":"#grid-computing","children":[]}]},{"level":2,"title":"Week 2","slug":"week-2","link":"#week-2","children":[{"level":3,"title":"Horizontal and Vertical Scaling","slug":"horizontal-and-vertical-scaling","link":"#horizontal-and-vertical-scaling","children":[]},{"level":3,"title":"Amdahl\'s Law ä¸ Gustafson-Barsis\'s Law","slug":"amdahl-s-law-ä¸-gustafson-barsis-s-law","link":"#amdahl-s-law-ä¸-gustafson-barsis-s-law","children":[]},{"level":3,"title":"Categories of Flynn\'s Taxonomy","slug":"categories-of-flynn-s-taxonomy","link":"#categories-of-flynn-s-taxonomy","children":[]},{"level":3,"title":"Implicit and Explicit Parallelism","slug":"implicit-and-explicit-parallelism","link":"#implicit-and-explicit-parallelism","children":[]},{"level":3,"title":"OpenMP","slug":"openmp","link":"#openmp","children":[]},{"level":3,"title":"MPI","slug":"mpi","link":"#mpi","children":[]},{"level":3,"title":"Parallelism in Hardware","slug":"parallelism-in-hardware","link":"#parallelism-in-hardware","children":[]},{"level":3,"title":"Erroneous Assumptions of Distributed Systems","slug":"erroneous-assumptions-of-distributed-systems","link":"#erroneous-assumptions-of-distributed-systems","children":[]}]},{"level":2,"title":"Week 3","slug":"week-3","link":"#week-3","children":[{"level":3,"title":"Amdahl\'s Law and Gustafson\'s Law","slug":"amdahl-s-law-and-gustafson-s-law","link":"#amdahl-s-law-and-gustafson-s-law","children":[]},{"level":3,"title":"Environment Modules","slug":"environment-modules","link":"#environment-modules","children":[]},{"level":3,"title":"ğŸ› ï¸ Common module Commands","slug":"ğŸ› ï¸-common-module-commands","link":"#ğŸ› ï¸-common-module-commands","children":[]},{"level":3,"title":"ğŸ› ï¸ Common slurm Commands","slug":"ğŸ› ï¸-common-slurm-commands","link":"#ğŸ› ï¸-common-slurm-commands","children":[]},{"level":3,"title":"Slurm Job Scripts","slug":"slurm-job-scripts","link":"#slurm-job-scripts","children":[]},{"level":3,"title":"MPI","slug":"mpi-1","link":"#mpi-1","children":[]},{"level":3,"title":"Common Linux Commands","slug":"common-linux-commands","link":"#common-linux-commands","children":[]}]},{"level":2,"title":"Week 4","slug":"week-4","link":"#week-4","children":[{"level":3,"title":"OpenStack","slug":"openstack","link":"#openstack","children":[]},{"level":3,"title":"MRC Research Cloud","slug":"mrc-research-cloud","link":"#mrc-research-cloud","children":[]}]},{"level":2,"title":"Week 5","slug":"week-5","link":"#week-5","children":[{"level":3,"title":"Docker","slug":"docker","link":"#docker","children":[]},{"level":3,"title":"Persistence data in Docker","slug":"persistence-data-in-docker","link":"#persistence-data-in-docker","children":[]},{"level":3,"title":"Docker networking","slug":"docker-networking","link":"#docker-networking","children":[]},{"level":3,"title":"Docker Security","slug":"docker-security","link":"#docker-security","children":[]},{"level":3,"title":"Docker Commands","slug":"docker-commands","link":"#docker-commands","children":[]},{"level":3,"title":"Dockerfile å¸¸ç”¨æŒ‡ä»¤","slug":"dockerfile-å¸¸ç”¨æŒ‡ä»¤","link":"#dockerfile-å¸¸ç”¨æŒ‡ä»¤","children":[]},{"level":3,"title":"CI/CD (Continuous Integration and Continuous Delivery)","slug":"ci-cd-continuous-integration-and-continuous-delivery","link":"#ci-cd-continuous-integration-and-continuous-delivery","children":[]}]},{"level":2,"title":"Week 6","slug":"week-6","link":"#week-6","children":[{"level":3,"title":"Container Orchestration Tools","slug":"container-orchestration-tools","link":"#container-orchestration-tools","children":[]},{"level":3,"title":"Container Orchestration Tools Goals","slug":"container-orchestration-tools-goals","link":"#container-orchestration-tools-goals","children":[]},{"level":3,"title":"Combine Declarative Management with Infrastructure as Code","slug":"combine-declarative-management-with-infrastructure-as-code","link":"#combine-declarative-management-with-infrastructure-as-code","children":[]},{"level":3,"title":"K8S","slug":"k8s","link":"#k8s","children":[]},{"level":3,"title":"K8S Components","slug":"k8s-components","link":"#k8s-components","children":[]},{"level":3,"title":"Pods","slug":"pods","link":"#pods","children":[]},{"level":3,"title":"YAML","slug":"yaml","link":"#yaml","children":[]},{"level":3,"title":"Kubeconfig File","slug":"kubeconfig-file","link":"#kubeconfig-file","children":[]},{"level":3,"title":"Kubectl","slug":"kubectl","link":"#kubectl","children":[]},{"level":3,"title":"Helm","slug":"helm","link":"#helm","children":[]},{"level":3,"title":"SoA (Service Oriented Architecture)","slug":"soa-service-oriented-architecture","link":"#soa-service-oriented-architecture","children":[]},{"level":3,"title":"SOAP vs REST","slug":"soap-vs-rest","link":"#soap-vs-rest","children":[]},{"level":3,"title":"WDSL (Web Services Description Language)","slug":"wdsl-web-services-description-language","link":"#wdsl-web-services-description-language","children":[]},{"level":3,"title":"ReST Best Practices","slug":"rest-best-practices","link":"#rest-best-practices","children":[]},{"level":3,"title":"Git","slug":"git","link":"#git","children":[]}]},{"level":2,"title":"Week 7","slug":"week-7","link":"#week-7","children":[{"level":3,"title":"FaaS","slug":"faas","link":"#faas","children":[]},{"level":3,"title":"Functions","slug":"functions","link":"#functions","children":[]},{"level":3,"title":"Fission","slug":"fission","link":"#fission","children":[]},{"level":3,"title":"Fission Cli","slug":"fission-cli","link":"#fission-cli","children":[]},{"level":3,"title":"Fission MQ & WebSocket","slug":"fission-mq-websocket","link":"#fission-mq-websocket","children":[]},{"level":3,"title":"Fission Specs","slug":"fission-specs","link":"#fission-specs","children":[]},{"level":3,"title":"Test FaaS","slug":"test-faas","link":"#test-faas","children":[]}]},{"level":2,"title":"Week 8","slug":"week-8","link":"#week-8","children":[{"level":3,"title":"4V of Big Data","slug":"_4v-of-big-data","link":"#_4v-of-big-data","children":[]},{"level":3,"title":"CouchDB vs PostgreSQL vs ElasticSearch","slug":"couchdb-vs-postgresql-vs-elasticsearch","link":"#couchdb-vs-postgresql-vs-elasticsearch","children":[]},{"level":3,"title":"CAP Theorem","slug":"cap-theorem","link":"#cap-theorem","children":[]},{"level":3,"title":"Document-Oriented Databases for Big Data","slug":"document-oriented-databases-for-big-data","link":"#document-oriented-databases-for-big-data","children":[]},{"level":3,"title":"Sharding & Replication","slug":"sharding-replication","link":"#sharding-replication","children":[]},{"level":3,"title":"ElasticSearch","slug":"elasticsearch","link":"#elasticsearch","children":[]}]},{"level":2,"title":"Week 9","slug":"week-9","link":"#week-9","children":[{"level":3,"title":"Virtualization Motivations","slug":"virtualization-motivations","link":"#virtualization-motivations","children":[]},{"level":3,"title":"Virtualization Principles","slug":"virtualization-principles","link":"#virtualization-principles","children":[]},{"level":3,"title":"Classification of Instructions åº•å±‚ CPU æŒ‡ä»¤é›†","slug":"classification-of-instructions-åº•å±‚-cpu-æŒ‡ä»¤é›†","link":"#classification-of-instructions-åº•å±‚-cpu-æŒ‡ä»¤é›†","children":[]},{"level":3,"title":"Virtualization","slug":"virtualization","link":"#virtualization","children":[]},{"level":3,"title":"Ring æƒé™ç­‰çº§","slug":"ring-æƒé™ç­‰çº§","link":"#ring-æƒé™ç­‰çº§","children":[]},{"level":3,"title":"Typical virtualization strategies","slug":"typical-virtualization-strategies","link":"#typical-virtualization-strategies","children":[]},{"level":3,"title":"OpenStack æ”¯æŒçš„ Hypervisors","slug":"openstack-æ”¯æŒçš„-hypervisors","link":"#openstack-æ”¯æŒçš„-hypervisors","children":[]},{"level":3,"title":"Full Virtualization and Para-virtualization","slug":"full-virtualization-and-para-virtualization","link":"#full-virtualization-and-para-virtualization","children":[]},{"level":3,"title":"Hardware-assisted Virtualization and Binary Translation","slug":"hardware-assisted-virtualization-and-binary-translation","link":"#hardware-assisted-virtualization-and-binary-translation","children":[]},{"level":3,"title":"Bare Metal Hypervisor and Hosted Virtualization","slug":"bare-metal-hypervisor-and-hosted-virtualization","link":"#bare-metal-hypervisor-and-hosted-virtualization","children":[]},{"level":3,"title":"Operating System Level Virtualization","slug":"operating-system-level-virtualization","link":"#operating-system-level-virtualization","children":[]},{"level":3,"title":"AWS Services","slug":"aws-services","link":"#aws-services","children":[]}]},{"level":2,"title":"Week 10","slug":"week-10","link":"#week-10","children":[{"level":3,"title":"Challenges of Security","slug":"challenges-of-security","link":"#challenges-of-security","children":[]},{"level":3,"title":"Technical Challenges: Authentication","slug":"technical-challenges-authentication","link":"#technical-challenges-authentication","children":[]},{"level":3,"title":"Public Key Cryptography (Asymmetric Cryptography)","slug":"public-key-cryptography-asymmetric-cryptography","link":"#public-key-cryptography-asymmetric-cryptography","children":[]},{"level":3,"title":"Public Key Certificate","slug":"public-key-certificate","link":"#public-key-certificate","children":[]},{"level":3,"title":"Certification Authority (CA)","slug":"certification-authority-ca","link":"#certification-authority-ca","children":[]},{"level":3,"title":"PKI in Cloud Computing","slug":"pki-in-cloud-computing","link":"#pki-in-cloud-computing","children":[]},{"level":3,"title":"Technical Challenges: Authorization","slug":"technical-challenges-authorization","link":"#technical-challenges-authorization","children":[]},{"level":3,"title":"â˜ï¸ äº‘ç¯å¢ƒä¸­çš„æˆæƒ","slug":"â˜ï¸-äº‘ç¯å¢ƒä¸­çš„æˆæƒ","link":"#â˜ï¸-äº‘ç¯å¢ƒä¸­çš„æˆæƒ","children":[]},{"level":3,"title":"ğŸ” æˆæƒå®ç°æ–¹å¼","slug":"ğŸ”-æˆæƒå®ç°æ–¹å¼","link":"#ğŸ”-æˆæƒå®ç°æ–¹å¼","children":[]},{"level":3,"title":"ğŸ›¡ï¸ æˆæƒé¢ä¸´çš„æŒ‘æˆ˜","slug":"ğŸ›¡ï¸-æˆæƒé¢ä¸´çš„æŒ‘æˆ˜","link":"#ğŸ›¡ï¸-æˆæƒé¢ä¸´çš„æŒ‘æˆ˜","children":[]},{"level":3,"title":"Other Challenges","slug":"other-challenges","link":"#other-challenges","children":[]}]}],"git":{"createdTime":1742122096000,"updatedTime":1750500529000,"contributors":[{"name":"Ruochen Chen","email":"ruocchen1220@gmail.com","commits":12}]},"readingTime":{"minutes":79.7,"words":23911},"filePathRelative":"posts/unimelb/COMP90024.md","localizedDate":"March 2, 2025","excerpt":"\\n<h2>Week 1</h2>\\n<p>Over the past two decades, several major trends in research and computing have collectively enabled the rise of cloud computing:</p>\\n<ol>\\n<li><strong>Virtualization</strong> has allowed multiple virtual machines to run efficiently on a single physical host, maximizing hardware utilizationâ€”crucial for scalable cloud infrastructure.</li>\\n<li><strong>Distributed computing models</strong>, such as grid and cluster computing, demonstrated how large tasks could be executed across multiple machines, forming the architectural basis of the cloud.</li>\\n<li><strong>Broadband Internet access</strong> made it feasible to access remote resources with low latency, enabling the core idea of â€œcomputing over the internet.â€</li>\\n<li><strong>Utility computing</strong> introduced the pay-as-you-go model, shifting IT investment from capital to operational expenditure, thus attracting cost-conscious enterprises.</li>\\n<li><strong>Scalability and elasticity</strong> gave organizations the ability to dynamically adjust resources based on real-time demand, improving flexibility and cost-efficiency.</li>\\n<li><strong>Service-Oriented Architecture (SOA)</strong> encouraged modular, reusable components, shaping how cloud services are designed and integrated.</li>\\n<li><strong>Data storage innovations</strong>, such as SSDs and software-defined storage, improved data throughput and reliability, meeting the demands of large-scale cloud workloads.</li>\\n<li><strong>Security and privacy advancements</strong>, including encryption, access control, and compliance standards, addressed growing concerns around trusting third-party providers.</li>\\n<li><strong>Open source software</strong>, like OpenStack and Kubernetes, fueled rapid innovation and made cloud technologies more accessible to startups and researchers alike.</li>\\n<li><strong>Economic pressures</strong> to cut costs and improve agility further accelerated cloud adoption, as organizations sought to benefit from economies of scale and specialized expertise.</li>\\n</ol>","autoDesc":true}')}}]);