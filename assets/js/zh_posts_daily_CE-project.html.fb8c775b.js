"use strict";(self.webpackChunkpersonalweb=self.webpackChunkpersonalweb||[]).push([[9931],{21625:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>e,data:()=>t});var n=a(20641);const l={},e=(0,a(66262).A)(l,[["render",function(i,s){return(0,n.uX)(),(0,n.CE)("div",null,s[0]||(s[0]=[(0,n.Fv)('<h1 id="ce-project" tabindex="-1"><a class="header-anchor" href="#ce-project"><span>CE project</span></a></h1><h2 id="jwt" tabindex="-1"><a class="header-anchor" href="#jwt"><span>JWT</span></a></h2><h3 id="_1-ğŸ”‘-jwtå­˜å‚¨åœ¨å“ªé‡Œ" tabindex="-1"><a class="header-anchor" href="#_1-ğŸ”‘-jwtå­˜å‚¨åœ¨å“ªé‡Œ"><span>1. ğŸ”‘ JWTå­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ</span></a></h3><p><strong>å®¢æˆ·ç«¯å­˜å‚¨</strong>ï¼š</p><ul><li>JWT <strong>ä¸å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯</strong>ï¼ˆè¿™æ˜¯JWTçš„ç‰¹ç‚¹ä¹‹ä¸€ï¼‰</li><li>JWTç”±<strong>å®¢æˆ·ç«¯</strong>ï¼ˆå‰ç«¯ï¼‰è´Ÿè´£å­˜å‚¨ï¼Œå¸¸è§æ–¹å¼ï¼š <ul><li><code>localStorage</code> - æŒä¹…åŒ–å­˜å‚¨</li><li><code>sessionStorage</code> - ä¼šè¯å­˜å‚¨</li><li><code>Memory</code> - å†…å­˜å­˜å‚¨ï¼ˆæœ€å®‰å…¨ï¼Œä½†åˆ·æ–°é¡µé¢ä¼šä¸¢å¤±ï¼‰</li><li><code>HttpOnly Cookie</code> - ç›¸å¯¹å®‰å…¨çš„æ–¹å¼</li></ul></li></ul><p><strong>æœåŠ¡å™¨ç«¯</strong>ï¼š</p><ul><li>æœåŠ¡å™¨åªåœ¨<strong>é»‘åå•</strong>ä¸­å­˜å‚¨å·²ç™»å‡ºçš„token</li><li>é»‘åå•å­˜å‚¨åœ¨<strong>Redis</strong>ä¸­ï¼Œkeyæ ¼å¼ï¼š<code>jwt:blacklist:{token}</code></li></ul><h3 id="_2-ğŸšª-ç™»å‡ºæ—¶jwtå¦‚ä½•å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_2-ğŸšª-ç™»å‡ºæ—¶jwtå¦‚ä½•å¤„ç†"><span>2. ğŸšª ç™»å‡ºæ—¶JWTå¦‚ä½•å¤„ç†ï¼Ÿ</span></a></h3><p>æ ¹æ®ä½ çš„ä»£ç ï¼Œç™»å‡ºæµç¨‹å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1. å®¢æˆ·ç«¯å‘é€ç™»å‡ºè¯·æ±‚ï¼Œæºå¸¦JWT token</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">POST </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">auth</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">logout</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Authorization</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Bearer {jwt</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">token}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 2. æœåŠ¡å™¨å¤„ç†ç™»å‡º</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">PostMapping</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/logout&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> R</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Void</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> logout</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">HttpServletRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> request) {</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> token </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> extractTokenFromRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(request)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æå–token</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (token </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        authService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">logout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(token);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // è°ƒç”¨ç™»å‡ºæœåŠ¡</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> R</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ok</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Constants</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">LOGOUT_SUCCESS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 3. å°†tokenåŠ å…¥Redisé»‘åå•</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> logout</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> token) {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> remainingTime </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> jwtUtil</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getRemainingTime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(token);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // è·å–å‰©ä½™æœ‰æ•ˆæ—¶é—´</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (remainingTime </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        tokenBlacklistService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addToBlacklist</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(token, remainingTime);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // åŠ å…¥é»‘åå•</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç™»å‡ºæœºåˆ¶</strong>ï¼š</p><ul><li>âœ… å°†tokenåŠ å…¥<strong>Redisé»‘åå•</strong>ï¼Œå­˜å‚¨æ—¶é—´ä¸ºtokençš„å‰©ä½™æœ‰æ•ˆæœŸ</li><li>âœ… åç»­è¯·æ±‚ä¼šæ£€æŸ¥é»‘åå•ï¼Œå·²ç™»å‡ºçš„tokenå°†è¢«æ‹’ç»è®¿é—®</li><li>âœ… å®¢æˆ·ç«¯éœ€è¦<strong>åˆ é™¤æœ¬åœ°å­˜å‚¨çš„token</strong></li></ul><h3 id="_3-â°-jwtå­˜åœ¨æ—¶é—´å¤šä¹…" tabindex="-1"><a class="header-anchor" href="#_3-â°-jwtå­˜åœ¨æ—¶é—´å¤šä¹…"><span>3. â° JWTå­˜åœ¨æ—¶é—´å¤šä¹…ï¼Ÿ</span></a></h3><p>æ ¹æ®ä½ çš„é…ç½®æ–‡ä»¶ï¼š</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jwt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Access Token è¿‡æœŸæ—¶é—´ (å°æ—¶)</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  access-token-expiration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">24</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Refresh Token è¿‡æœŸæ—¶é—´ (å¤©)  </span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  refresh-token-expiration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Tokenç”Ÿå­˜æ—¶é—´</strong>ï¼š</p><ul><li><strong>Access Token</strong>: <strong>24å°æ—¶</strong>ï¼ˆç”¨äºAPIè®¿é—®ï¼‰</li><li><strong>Refresh Token</strong>: <strong>7å¤©</strong>ï¼ˆç”¨äºåˆ·æ–°Access Tokenï¼‰</li></ul><p><strong>Tokenåˆ·æ–°æœºåˆ¶</strong>ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä½¿ç”¨refresh tokenè·å–æ–°çš„access token</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">POST </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">auth</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">refresh</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">{</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;refreshToken&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;your-refresh-token&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è¿”å›æ–°çš„tokenå¯¹</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">{</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;accessToken&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;new-access-token&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;refreshToken&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;new-refresh-token&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> </span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;expiresIn&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 86400</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 24å°æ—¶(ç§’)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ğŸ›¡ï¸-å®‰å…¨å»ºè®®" tabindex="-1"><a class="header-anchor" href="#ğŸ›¡ï¸-å®‰å…¨å»ºè®®"><span>ğŸ›¡ï¸ å®‰å…¨å»ºè®®</span></a></h3><ol><li><p><strong>å®¢æˆ·ç«¯å­˜å‚¨</strong>ï¼š</p><ul><li>æ¨èä½¿ç”¨<code>httpOnly cookie</code>å­˜å‚¨refresh token</li><li>Access tokenå¯å­˜å‚¨åœ¨å†…å­˜ä¸­</li><li>é¿å…åœ¨<code>localStorage</code>ä¸­å­˜å‚¨æ•æ„Ÿtoken</li></ul></li><li><p><strong>Tokenåˆ·æ–°</strong>ï¼š</p><ul><li>Access tokenè¿‡æœŸå‰è‡ªåŠ¨åˆ·æ–°</li><li>Refresh tokenä½¿ç”¨ä¸€æ¬¡åç«‹å³æ›´æ–°ï¼ˆä½ çš„ä»£ç å·²å®ç°ï¼‰</li></ul></li><li><p><strong>ç™»å‡ºæ¸…ç†</strong>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å‰ç«¯ç™»å‡ºæ—¶éœ€è¦æ¸…ç†</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">localStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">removeItem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;accessToken&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">localStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">removeItem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;refreshToken&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æˆ–è€…æ¸…ç©ºæ‰€æœ‰è®¤è¯ç›¸å…³æ•°æ®</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>ä½ çš„JWTå®ç°å·²ç»å¾ˆå®Œå–„äº†ï¼ŒåŒ…å«äº†Tokené»‘åå•ã€è‡ªåŠ¨åˆ·æ–°ç­‰å®‰å…¨æœºåˆ¶ï¼</p><h2 id="é‡ç½®å¯†ç æµç¨‹" tabindex="-1"><a class="header-anchor" href="#é‡ç½®å¯†ç æµç¨‹"><span>é‡ç½®å¯†ç æµç¨‹</span></a></h2><h3 id="ğŸ”„-ç”¨æˆ·æ“ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#ğŸ”„-ç”¨æˆ·æ“ä½œæµç¨‹"><span>ğŸ”„ ç”¨æˆ·æ“ä½œæµç¨‹</span></a></h3><ol><li><p><strong>ç”¨æˆ·åœ¨ç™»å½•é¡µé¢ç‚¹å‡»&quot;å¿˜è®°å¯†ç &quot;</strong></p><ul><li>è·³è½¬åˆ°å¿˜è®°å¯†ç é¡µé¢</li><li>è¾“å…¥é‚®ç®±ï¼š<code>user@example.com</code></li><li>ç‚¹å‡»&quot;å‘é€é‡ç½®é‚®ä»¶&quot;</li></ul></li><li><p><strong>å‰ç«¯è°ƒç”¨å¿˜è®°å¯†ç æ¥å£</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">POST</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">auth</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">forgot</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">password</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;email&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;user@example.com&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ç”¨æˆ·çœ‹åˆ°æç¤ºä¿¡æ¯</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&quot;å¦‚æœè¯¥é‚®ç®±å·²æ³¨å†Œï¼Œæ‚¨å°†æ”¶åˆ°å¯†ç é‡ç½®é‚®ä»¶&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>ç”¨æˆ·æ£€æŸ¥é‚®ç®±ï¼Œæ”¶åˆ°é‡ç½®é‚®ä»¶</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>æ ‡é¢˜ï¼šCE-Wombat å¯†ç é‡ç½®è¯·æ±‚</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>äº²çˆ±çš„ userï¼Œ</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>æ‚¨æ”¶åˆ°æ­¤é‚®ä»¶æ˜¯å› ä¸ºæœ‰äººè¯·æ±‚é‡ç½®æ‚¨çš„ CE-Wombat è´¦æˆ·å¯†ç ã€‚</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>å¦‚æœè¿™æ˜¯æ‚¨æœ¬äººçš„æ“ä½œï¼Œè¯·ç‚¹å‡»ä»¥ä¸‹é“¾æ¥é‡ç½®å¯†ç ï¼š</span></span>\n<span class="line"><span>http://localhost:3000/reset-password?token=abcd-1234-efgh-5678</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>æ­¤é“¾æ¥å°†åœ¨30åˆ†é’Ÿåå¤±æ•ˆã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ç”¨æˆ·ç‚¹å‡»é‚®ä»¶ä¸­çš„é“¾æ¥</strong></p><ul><li>æµè§ˆå™¨æ‰“å¼€ï¼š<code>http://localhost:3000/reset-password?token=abcd-1234-efgh-5678</code></li><li>å‰ç«¯ä»URLè·å–tokenå‚æ•°</li><li>æ˜¾ç¤ºé‡ç½®å¯†ç è¡¨å•</li></ul></li><li><p><strong>ç”¨æˆ·åœ¨é‡ç½®å¯†ç é¡µé¢è¾“å…¥æ–°å¯†ç </strong></p><ul><li>è¾“å…¥æ–°å¯†ç ï¼š<code>newPassword123</code></li><li>ç¡®è®¤å¯†ç ï¼š<code>newPassword123</code></li><li>ç‚¹å‡»&quot;é‡ç½®å¯†ç &quot;</li></ul></li><li><p><strong>å‰ç«¯è°ƒç”¨é‡ç½®å¯†ç æ¥å£</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">POST</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">auth</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">reset</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">password</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;token&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;abcd-1234-efgh-5678&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;newPassword&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;newPassword123&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;confirmPassword&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;newPassword123&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>å¯†ç é‡ç½®æˆåŠŸ</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&quot;å¯†ç é‡ç½®æˆåŠŸ&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ç”¨æˆ·å¯ä»¥ç”¨æ–°å¯†ç ç™»å½•äº†</li></ul></li></ol><h3 id="ğŸ¯-å…³é”®ç‚¹æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-å…³é”®ç‚¹æ€»ç»“"><span>ğŸ¯ å…³é”®ç‚¹æ€»ç»“</span></a></h3><ul><li><strong>ç¬¬ä¸€ä¸ªæ¥å£</strong>ï¼šå¤„ç†&quot;å‘é€é‡ç½®é‚®ä»¶&quot;çš„è¯·æ±‚</li><li><strong>é‚®ä»¶é“¾æ¥</strong>ï¼šè¿æ¥ä¸¤ä¸ªæ­¥éª¤çš„æ¡¥æ¢ï¼ˆåŒ…å«tokenï¼‰</li><li><strong>ç¬¬äºŒä¸ªæ¥å£</strong>ï¼šå¤„ç†&quot;å®é™…é‡ç½®å¯†ç &quot;çš„è¯·æ±‚</li></ul><p>å°±åƒä½ è¯´çš„ï¼Œ<strong>å…ˆå¿˜è®°å¯†ç  â†’ é‚®ä»¶æ”¶åˆ° â†’ ç‚¹è¿›å» â†’ é‡ç½®å¯†ç </strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å®‰å…¨é“¾æ¡ï¼ğŸ”—</p><p>è¿™æ ·è®¾è®¡ç¡®ä¿äº†ï¼š</p><ol><li>âœ… åªæœ‰é‚®ç®±æ‹¥æœ‰è€…èƒ½æ”¶åˆ°é‡ç½®é“¾æ¥</li><li>âœ… åªæœ‰ç‚¹å‡»é‚®ä»¶é“¾æ¥çš„äººèƒ½é‡ç½®å¯†ç </li><li>âœ… ä»¤ç‰Œæœ‰æ—¶æ•ˆæ€§ï¼Œé˜²æ­¢æ»¥ç”¨</li><li>âœ… æ•´ä¸ªè¿‡ç¨‹å®‰å…¨å¯æ§</li></ol><h2 id="é‚®ä»¶" tabindex="-1"><a class="header-anchor" href="#é‚®ä»¶"><span>é‚®ä»¶</span></a></h2><h3 id="_1-é‚®ä»¶å‘é€" tabindex="-1"><a class="header-anchor" href="#_1-é‚®ä»¶å‘é€"><span>1. é‚®ä»¶å‘é€</span></a></h3><p>https://myaccount.google.com/apppasswords</p>',33)]))}]]),t=JSON.parse('{"path":"/zh/posts/daily/CE-project.html","title":"CE project","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2025-08-25T00:00:00.000Z","category":["Learning Records"],"tag":["Notes"],"description":"CE project JWT 1. ğŸ”‘ JWTå­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ å®¢æˆ·ç«¯å­˜å‚¨ï¼š JWT ä¸å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼ˆè¿™æ˜¯JWTçš„ç‰¹ç‚¹ä¹‹ä¸€ï¼‰ JWTç”±å®¢æˆ·ç«¯ï¼ˆå‰ç«¯ï¼‰è´Ÿè´£å­˜å‚¨ï¼Œå¸¸è§æ–¹å¼ï¼š localStorage - æŒä¹…åŒ–å­˜å‚¨ sessionStorage - ä¼šè¯å­˜å‚¨ Memory - å†…å­˜å­˜å‚¨ï¼ˆæœ€å®‰å…¨ï¼Œä½†åˆ·æ–°é¡µé¢ä¼šä¸¢å¤±ï¼‰ HttpOnly Cookie - ç›¸å¯¹å®‰...","head":[["meta",{"property":"og:url","content":"https://crc011220.github.io/zh/posts/daily/CE-project.html"}],["meta",{"property":"og:site_name","content":"Ruochen Chen"}],["meta",{"property":"og:title","content":"CE project"}],["meta",{"property":"og:description","content":"CE project JWT 1. ğŸ”‘ JWTå­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ å®¢æˆ·ç«¯å­˜å‚¨ï¼š JWT ä¸å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼ˆè¿™æ˜¯JWTçš„ç‰¹ç‚¹ä¹‹ä¸€ï¼‰ JWTç”±å®¢æˆ·ç«¯ï¼ˆå‰ç«¯ï¼‰è´Ÿè´£å­˜å‚¨ï¼Œå¸¸è§æ–¹å¼ï¼š localStorage - æŒä¹…åŒ–å­˜å‚¨ sessionStorage - ä¼šè¯å­˜å‚¨ Memory - å†…å­˜å­˜å‚¨ï¼ˆæœ€å®‰å…¨ï¼Œä½†åˆ·æ–°é¡µé¢ä¼šä¸¢å¤±ï¼‰ HttpOnly Cookie - ç›¸å¯¹å®‰..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-23T10:41:02.000Z"}],["meta",{"property":"article:tag","content":"Notes"}],["meta",{"property":"article:published_time","content":"2025-08-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-23T10:41:02.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"CE project\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-08-25T00:00:00.000Z\\",\\"dateModified\\":\\"2025-10-23T10:41:02.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ruochen Chen\\"}]}"]]},"headers":[{"level":2,"title":"JWT","slug":"jwt","link":"#jwt","children":[{"level":3,"title":"1. ğŸ”‘ JWTå­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ","slug":"_1-ğŸ”‘-jwtå­˜å‚¨åœ¨å“ªé‡Œ","link":"#_1-ğŸ”‘-jwtå­˜å‚¨åœ¨å“ªé‡Œ","children":[]},{"level":3,"title":"2. ğŸšª ç™»å‡ºæ—¶JWTå¦‚ä½•å¤„ç†ï¼Ÿ","slug":"_2-ğŸšª-ç™»å‡ºæ—¶jwtå¦‚ä½•å¤„ç†","link":"#_2-ğŸšª-ç™»å‡ºæ—¶jwtå¦‚ä½•å¤„ç†","children":[]},{"level":3,"title":"3. â° JWTå­˜åœ¨æ—¶é—´å¤šä¹…ï¼Ÿ","slug":"_3-â°-jwtå­˜åœ¨æ—¶é—´å¤šä¹…","link":"#_3-â°-jwtå­˜åœ¨æ—¶é—´å¤šä¹…","children":[]},{"level":3,"title":"ğŸ›¡ï¸ å®‰å…¨å»ºè®®","slug":"ğŸ›¡ï¸-å®‰å…¨å»ºè®®","link":"#ğŸ›¡ï¸-å®‰å…¨å»ºè®®","children":[]}]},{"level":2,"title":"é‡ç½®å¯†ç æµç¨‹","slug":"é‡ç½®å¯†ç æµç¨‹","link":"#é‡ç½®å¯†ç æµç¨‹","children":[{"level":3,"title":"ğŸ”„ ç”¨æˆ·æ“ä½œæµç¨‹","slug":"ğŸ”„-ç”¨æˆ·æ“ä½œæµç¨‹","link":"#ğŸ”„-ç”¨æˆ·æ“ä½œæµç¨‹","children":[]},{"level":3,"title":"ğŸ¯ å…³é”®ç‚¹æ€»ç»“","slug":"ğŸ¯-å…³é”®ç‚¹æ€»ç»“","link":"#ğŸ¯-å…³é”®ç‚¹æ€»ç»“","children":[]}]},{"level":2,"title":"é‚®ä»¶","slug":"é‚®ä»¶","link":"#é‚®ä»¶","children":[{"level":3,"title":"1. é‚®ä»¶å‘é€","slug":"_1-é‚®ä»¶å‘é€","link":"#_1-é‚®ä»¶å‘é€","children":[]}]}],"git":{"createdTime":1756075204000,"updatedTime":1761216062000,"contributors":[{"name":"Ruochen Chen","email":"ruocchen1220@gmail.com","commits":1}]},"readingTime":{"minutes":3.37,"words":1010},"filePathRelative":"zh/posts/daily/CE-project.md","localizedDate":"2025å¹´8æœˆ25æ—¥","excerpt":"\\n<h2>JWT</h2>\\n<h3>1. ğŸ”‘ JWTå­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ</h3>\\n<p><strong>å®¢æˆ·ç«¯å­˜å‚¨</strong>ï¼š</p>\\n<ul>\\n<li>JWT <strong>ä¸å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯</strong>ï¼ˆè¿™æ˜¯JWTçš„ç‰¹ç‚¹ä¹‹ä¸€ï¼‰</li>\\n<li>JWTç”±<strong>å®¢æˆ·ç«¯</strong>ï¼ˆå‰ç«¯ï¼‰è´Ÿè´£å­˜å‚¨ï¼Œå¸¸è§æ–¹å¼ï¼š\\n<ul>\\n<li><code>localStorage</code> - æŒä¹…åŒ–å­˜å‚¨</li>\\n<li><code>sessionStorage</code> - ä¼šè¯å­˜å‚¨</li>\\n<li><code>Memory</code> - å†…å­˜å­˜å‚¨ï¼ˆæœ€å®‰å…¨ï¼Œä½†åˆ·æ–°é¡µé¢ä¼šä¸¢å¤±ï¼‰</li>\\n<li><code>HttpOnly Cookie</code> - ç›¸å¯¹å®‰å…¨çš„æ–¹å¼</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}')},66262:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,n]of s)a[i]=n;return a}}}]);