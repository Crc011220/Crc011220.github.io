---
icon: pen-to-square
date: 2025-06-08
category:
  - Learning Records
tag:
  - Algorithm
---

# 哈希

## 三数之和
- 排序之后，a + b + c = 0 可以转为 b + c = -a；
- HashSet 用来判断是否有目标数 c = -a - b；
- 用 while 跳过 b 重复是比你原来的 j > i + 2 && ... 条件更鲁棒；

```java
//第一层固定 a = nums[i]
//第二层遍历 b = nums[j]
//然后通过 HashSet 查找是否存在 c = -a - b

public List<List<Integer>> threeSum(int[] nums) {
    List<List<Integer>> result = new ArrayList<>();
    Arrays.sort(nums);
    for (int i = 0; i < nums.length; i++) {
        if (nums[i] > 0) break; // 优化：升序数组，a>0则无解
        if (i > 0 && nums[i] == nums[i - 1]) continue; // a去重：如果当前元素和前一个元素相同，则跳过

        HashSet<Integer> set = new HashSet<>();
        for (int j = i + 1; j < nums.length; j++) {
            int c = -nums[i] - nums[j]; // 计算三元组元素c = -a - b
            if (set.contains(c)) {
                result.add(Arrays.asList(nums[i], nums[j], c)); // 如果c在set中，则将三元组加入结果集
                // 去重：跳过重复的 b，防止生成重复三元组。
                while (j + 1 < nums.length && nums[j] == nums[j + 1]) j++;
            }
            set.add(nums[j]); // 当前的 b = nums[j] 加到 HashSet 中，以便下一轮可以判断：是否存在 c = -a - b
        }
    }
    return result;
}

```