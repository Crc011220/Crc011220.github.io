<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://crc011220.github.io/zh/posts/declarative/haskell.html"><meta property="og:site_name" content="Ruochen Chen"><meta property="og:title" content="Haskell"><meta property="og:description" content="Haskell Contents are from Haskell Notes Table of Contents generated with DocToc Haskellè¯­è¨€å…¥é—¨ å…³äºHaskell Haskellä¸å‡½æ•°å¼ç¼–ç¨‹ ç¯å¢ƒæ­å»º ä½¿ç”¨GHCupå®‰è£… å®‰è£…stack ä½¿ç”¨stackå®‰è£…GHC å…³äºCabalå’Œstack GHCåŸºæœ¬ä½¿ç”¨ Sta..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-05-23T13:31:08.000Z"><meta property="article:tag" content="Declarative Programming"><meta property="article:published_time" content="2025-05-17T00:00:00.000Z"><meta property="article:modified_time" content="2025-05-23T13:31:08.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Haskell","image":[""],"datePublished":"2025-05-17T00:00:00.000Z","dateModified":"2025-05-23T13:31:08.000Z","author":[{"@type":"Person","name":"Ruochen Chen"}]}</script><link rel="icon" href="/mac.ico"><title>Haskell | Ruochen Chen</title><meta name="description" content="Haskell Contents are from Haskell Notes Table of Contents generated with DocToc Haskellè¯­è¨€å…¥é—¨ å…³äºHaskell Haskellä¸å‡½æ•°å¼ç¼–ç¨‹ ç¯å¢ƒæ­å»º ä½¿ç”¨GHCupå®‰è£… å®‰è£…stack ä½¿ç”¨stackå®‰è£…GHC å…³äºCabalå’Œstack GHCåŸºæœ¬ä½¿ç”¨ Sta...">
    <link rel="stylesheet" href="/assets/css/styles.563fed46.css">
    <link rel="preload" href="/assets/js/runtime~app.f8f5c2bd.js" as="script"><link rel="preload" href="/assets/css/styles.563fed46.css" as="style"><link rel="preload" href="/assets/js/6312.2d95f1ad.js" as="script"><link rel="preload" href="/assets/js/app.88bbb491.js" as="script">
    <link rel="prefetch" href="/assets/js/zh_posts_declarative_haskell.html.f219f509.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_java8_å‡½æ•°å¼ç¼–ç¨‹.html.6406d92a.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_Netty01-nio.html.6aaca557.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_Netty04-ä¼˜åŒ–ä¸æºç .html.8edea904.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_Netty03-è¿›é˜¶.html.6b130a66.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_æ•°ç»„.html.7de0b42a.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_åŠ¨æ€è§„åˆ’.html.658f51f7.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_Netty02-intro.html.48ff395e.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_nginx_1.html.be9ccc3a.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_äºŒå‰æ ‘.html.b18d0dd9.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_declarative_prolog.html.d10c8ca1.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_é¢è¯•è¦ç‚¹.html.5daa39f9.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_é“¾è¡¨.html.fdbcb853.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_COMP90024.html.c07eee32.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_å›¾.html.ae7133bf.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_æ ˆå’Œé˜Ÿåˆ—.html.2a7e3777.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_hive_Hive-SQLè¯­æ³•å¤§å…¨.html.4ea325b1.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_14.html.91687ee1.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_declarative_haskellé€Ÿè®°.html.0de6f0c8.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_å›æº¯.html.f2eaeec4.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_COMP90049.html.4b1c6d22.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_COMP90050.html.4b5d3bee.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_å…¶ä»–é—®é¢˜.html.b3dc28a4.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_å…¶ä»–.html.885cc8c5.js" as="script"><link rel="prefetch" href="/assets/js/posts_note_Coin-exchange-project-note.html.9c9c631c.js" as="script"><link rel="prefetch" href="/assets/js/posts_tailwind_summary.html.7c9f97e6.js" as="script"><link rel="prefetch" href="/assets/js/2664.0c0e265f.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_æ•°æ®ç»“æ„.html.1143a147.js" as="script"><link rel="prefetch" href="/assets/js/posts_typescript_1.html.adb4c039.js" as="script"><link rel="prefetch" href="/assets/js/posts_typescript_2.html.70e869a7.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_è®¡ç®—æœºç½‘ç»œ.html.24305bc6.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_è´ªå¿ƒ.html.8b0ae2af.js" as="script"><link rel="prefetch" href="/assets/js/posts_aws-saa_1.html.12f65834.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_ml.html.930a6c4a.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_æ•°æ®åº“.html.b80c36f1.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_COMP90048.html.8968005c.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_è®¡ç®—æœºç»„æˆåŸç†.html.1c8444d9.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_æ“ä½œç³»ç»Ÿ.html.a51b0b6c.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_1.html.42f88b26.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_declarative_prologé€Ÿè®°.html.06d2d57f.js" as="script"><link rel="prefetch" href="/assets/js/8300.ef6ef338.js" as="script"><link rel="prefetch" href="/assets/js/posts_mybatis_2.html.5926ba81.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_åŒæŒ‡é’ˆ.html.dd171978.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_7.html.d2987d20.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_4.html.d05f7970.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_5.html.74809557.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_8.html.48797aee.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_2.html.5da88c74.js" as="script"><link rel="prefetch" href="/assets/js/posts_aws-saa_3.html.3976b1b1.js" as="script"><link rel="prefetch" href="/assets/js/posts_nginx_1.html.9d684d75.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_SWEN90016.html.240e6126.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_å“ˆå¸Œ.html.f3d63117.js" as="script"><link rel="prefetch" href="/assets/js/posts_spark_Spark-Core.html.d371024a.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_11.html.acf3feb6.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_14.html.6ae00502.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_8.html.35609b90.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_4.html.76f297f5.js" as="script"><link rel="prefetch" href="/assets/js/posts_spark_Spark-Sql.html.1a76e157.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_21.html.5d38e92e.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_ä¿¡æ¯æ–°æŠ€æœ¯.html.016ea36f.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_11.html.6ac0e485.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_5.html.d6b5776e.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_6.html.9f42e615.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_10.html.7cfe6b37.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_1.html.275b2472.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_6.html.b0bf65af.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_4.html.bb865133.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_å•è°ƒæ ˆ.html.97d2a1c2.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_15.html.6ad131ac.js" as="script"><link rel="prefetch" href="/assets/js/posts_aws-saa_2.html.19b4fc69.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_6.html.0ce6907d.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_3.html.07708648.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_12.html.33aac800.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_14.html.4487a39f.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_13.html.1600cb03.js" as="script"><link rel="prefetch" href="/assets/js/posts_ai_javaai.html.ddef5ab6.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_å­—ç¬¦ä¸².html.66e8af08.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_5.html.c674a286.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_6.html.c703f5fb.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_2.html.2012a517.js" as="script"><link rel="prefetch" href="/assets/js/posts_typescript_3.html.67716c58.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_2.html.3cb286a6.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_16.html.47a98467.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_2.html.2faaae84.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_7.html.b7a17cf5.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_3.html.e6de0801.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_12.html.78a79e16.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_17.html.48e4e11f.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_ä½è¿ç®—.html.89a49729.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_13.html.1af16bb4.js" as="script"><link rel="prefetch" href="/assets/js/intro.html.94b9bc8e.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_9.html.c802974b.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_15.html.c14ce54d.js" as="script"><link rel="prefetch" href="/assets/js/posts_ai_create_mcp.html.7bbd9d99.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_18.html.6db3b8d0.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_1.html.52e2c809.js" as="script"><link rel="prefetch" href="/assets/js/posts_ai_mcp.html.97488bfa.js" as="script"><link rel="prefetch" href="/assets/js/posts_mybatis_1.html.0715b7ed.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_1.html.b4be9a5c.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_7.html.391ad3ae.js" as="script"><link rel="prefetch" href="/assets/js/posts_istio_1.html.0402dff2.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_4.html.babb3186.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_15.html.1a066aec.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_10.html.a809572e.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_1.html.3f7ea202.js" as="script"><link rel="prefetch" href="/assets/js/zh_intro.html.4f0fc279.js" as="script"><link rel="prefetch" href="/assets/js/posts_spark_Spark-Intro.html.ccd5e5dd.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_5.html.e4df8be3.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_19.html.f4de2c0a.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_7.html.be9d15e1.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_3.html.1db9eef8.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_7.html.95a6d006.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_8.html.bf7de1dc.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_index.html.964e7b71.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_3.html.b6b4d014.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_Hive.html.0678d205.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_7.html.97e8c4ab.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_9.html.daf44b98.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_HDFS.html.bc68b1b5.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_index.html.969cd922.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_2.html.03f4e466.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_8.html.266a2255.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_4.html.f53cce1e.js" as="script"><link rel="prefetch" href="/assets/js/posts_jd_note.html.d14373ad.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_5.html.4cdca3c2.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_3.html.47cad464.js" as="script"><link rel="prefetch" href="/assets/js/posts_docker_1.html.fb8facad.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_11.html.ce50e313.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_microsvc_1.html.2fe97c3c.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_index.html.8bdb826b.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_summary.html.dcef505d.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_6.html.b6472eba.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_6.html.02cce475.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_æ•°å­¦.html.dfdf15d8.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_3.html.e8a57164.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_6.html.0c46208c.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_7.html.34e04d11.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_8.html.ae4c64a3.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_4.html.a8ec1263.js" as="script"><link rel="prefetch" href="/assets/js/posts_elasticsearch_query-dsl.html.c10df9f4.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_cloudflare.html.8d90577a.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_20.html.490f1029.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_1.html.0cac3363.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_5.html.a42942da.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_2.html.1499c365.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_10.html.156d0fc8.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_16.html.94f2539e.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_3.html.2d055dbe.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_tools.html.4cf9b015.js" as="script"><link rel="prefetch" href="/assets/js/posts_elasticsearch_1.html.55fea42c.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_2.html.4fddb7fe.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_index.html.9f6e664a.js" as="script"><link rel="prefetch" href="/assets/js/posts_dubbo_1.html.1f23a627.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_4.html.1c4ee376.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_9.html.132d4ce9.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_index.html.3644a432.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_index.html.b114f681.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_9.html.a3039a5a.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_index.html.6e477592.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_1.html.ea5597b0.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_8.html.bc2310ff.js" as="script"><link rel="prefetch" href="/assets/js/posts_elasticsearch_2.html.965ea244.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_genesis.html.b92085d2.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_5.html.4cfebd9b.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_GEOM90007.html.daec0d9f.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_index.html.77a0d6fd.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_MapReduce.html.66b74478.js" as="script"><link rel="prefetch" href="/assets/js/posts_genesis.html.f2dcbd5d.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_12.html.6f85b8a6.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_sealos.html.2f8ff09a.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_index.html.30eae38c.js" as="script"><link rel="prefetch" href="/assets/js/posts_dubbo_2.html.4153924b.js" as="script"><link rel="prefetch" href="/assets/js/posts_clichÃ©_13.html.9f0ab2c4.js" as="script"><link rel="prefetch" href="/assets/js/posts_aws-saa_index.html.91a04274.js" as="script"><link rel="prefetch" href="/assets/js/posts_typescript_index.html.3113541a.js" as="script"><link rel="prefetch" href="/assets/js/posts_elasticsearch_index.html.4152a6b9.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_index.html.c927a97d.js" as="script"><link rel="prefetch" href="/assets/js/index.html.8b8ff801.js" as="script"><link rel="prefetch" href="/assets/js/posts_dubbo_index.html.6c52fb32.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_Yarn.html.94f37571.js" as="script"><link rel="prefetch" href="/assets/js/posts_nginx_index.html.75cc2b5d.js" as="script"><link rel="prefetch" href="/assets/js/posts_ai_index.html.6d4a62d9.js" as="script"><link rel="prefetch" href="/assets/js/posts_mybatis_index.html.f1a73719.js" as="script"><link rel="prefetch" href="/assets/js/posts_spark_index.html.434a7834.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_microsvc_index.html.7ac9796f.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_9.html.e9ae3067.js" as="script"><link rel="prefetch" href="/assets/js/posts_nginx_2.html.61b94ab9.js" as="script"><link rel="prefetch" href="/assets/js/zh_index.html.b526dd8b.js" as="script"><link rel="prefetch" href="/assets/js/posts_tailwind_index.html.a3b1860b.js" as="script"><link rel="prefetch" href="/assets/js/posts_docker_index.html.915fb03b.js" as="script"><link rel="prefetch" href="/assets/js/posts_istio_index.html.d4b67811.js" as="script"><link rel="prefetch" href="/assets/js/posts_note_index.html.79ea061a.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_GEOM90008.html.d7040807.js" as="script"><link rel="prefetch" href="/assets/js/category_learning-records_index.html.f32ee64d.js" as="script"><link rel="prefetch" href="/assets/js/tag_nginx_index.html.0fa6f2ea.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_declarative-programming_index.html.6ae8ae47.js" as="script"><link rel="prefetch" href="/assets/js/category_index.html.50e2e1bc.js" as="script"><link rel="prefetch" href="/assets/js/timeline_index.html.a204d771.js" as="script"><link rel="prefetch" href="/assets/js/article_index.html.ffcd7938.js" as="script"><link rel="prefetch" href="/assets/js/zh_category_å­¦ä¹ ç¬”è®°_index.html.12546e3e.js" as="script"><link rel="prefetch" href="/assets/js/category_internship-journal_index.html.4b3fa613.js" as="script"><link rel="prefetch" href="/assets/js/zh_category_learning-records_index.html.af6fedad.js" as="script"><link rel="prefetch" href="/assets/js/tag_index.html.dbf647b4.js" as="script"><link rel="prefetch" href="/assets/js/star_index.html.7f8a9df9.js" as="script"><link rel="prefetch" href="/assets/js/tag_programmer-clichÃ©_index.html.120cca1a.js" as="script"><link rel="prefetch" href="/assets/js/tag_algorithm-practices_index.html.d975dd18.js" as="script"><link rel="prefetch" href="/assets/js/tag_china-merchant-bank_index.html.de8b373f.js" as="script"><link rel="prefetch" href="/assets/js/tag_technical-interview_index.html.acf61e6f.js" as="script"><link rel="prefetch" href="/assets/js/posts_index.html.c7f3157a.js" as="script"><link rel="prefetch" href="/assets/js/zh_category_å¼€å§‹_index.html.29cb4412.js" as="script"><link rel="prefetch" href="/assets/js/tag_tailwind-css_index.html.7b3e36e9.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_æ—…ç¨‹_index.html.151709c9.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_ç®€å†_index.html.96ae735a.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_algorithm_index.html.5a457b02.js" as="script"><link rel="prefetch" href="/assets/js/category_genesis_index.html.66947f9e.js" as="script"><link rel="prefetch" href="/assets/js/tag_javascript_index.html.266dcd48.js" as="script"><link rel="prefetch" href="/assets/js/tag_kubernetes_index.html.2b919c53.js" as="script"><link rel="prefetch" href="/assets/js/tag_typescript_index.html.ab5e1572.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_review_index.html.9bc60916.js" as="script"><link rel="prefetch" href="/assets/js/tag_leetcode_index.html.6b98bbdb.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_java8_index.html.5b1186ee.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_netty_index.html.3ede65fb.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_nginx_index.html.c21f0432.js" as="script"><link rel="prefetch" href="/assets/js/tag_aws-saa_index.html.01a20249.js" as="script"><link rel="prefetch" href="/assets/js/tag_mybatis_index.html.bdbe6d2a.js" as="script"><link rel="prefetch" href="/assets/js/tag_unimelb_index.html.d4bafe83.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_hive_index.html.fab4d732.js" as="script"><link rel="prefetch" href="/assets/js/tag_docker_index.html.b7d4cbf8.js" as="script"><link rel="prefetch" href="/assets/js/tag_hadoop_index.html.39a6a55f.js" as="script"><link rel="prefetch" href="/assets/js/tag_nextjs_index.html.581d2c34.js" as="script"><link rel="prefetch" href="/assets/js/tag_resume_index.html.c4e4c327.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_nio_index.html.0a4acee3.js" as="script"><link rel="prefetch" href="/assets/js/tag_dubbo_index.html.90f9e5c2.js" as="script"><link rel="prefetch" href="/assets/js/tag_index_index.html.ee3192d7.js" as="script"><link rel="prefetch" href="/assets/js/tag_istio_index.html.cb329abb.js" as="script"><link rel="prefetch" href="/assets/js/tag_notes_index.html.075779e3.js" as="script"><link rel="prefetch" href="/assets/js/tag_react_index.html.49ec34fb.js" as="script"><link rel="prefetch" href="/assets/js/tag_spark_index.html.287e8a9c.js" as="script"><link rel="prefetch" href="/assets/js/404.html.15229e01.js" as="script"><link rel="prefetch" href="/assets/js/zh_timeline_index.html.3a7839f4.js" as="script"><link rel="prefetch" href="/assets/js/tag_ai_index.html.3120c8b4.js" as="script"><link rel="prefetch" href="/assets/js/tag_es_index.html.8f0f4273.js" as="script"><link rel="prefetch" href="/assets/js/tag_jd_index.html.6c64e177.js" as="script"><link rel="prefetch" href="/assets/js/zh_category_index.html.e65aefca.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_declarative_index.html.6759320d.js" as="script"><link rel="prefetch" href="/assets/js/zh_article_index.html.2c545722.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_index.html.6a5580f0.js" as="script"><link rel="prefetch" href="/assets/js/zh_star_index.html.698b9149.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_index.html.6b5498be.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_java8_index.html.245580da.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_index.html.9e91bcfd.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_nginx_index.html.6deedd0e.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_index.html.d664c5ec.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_hive_index.html.e3d7d626.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_index.html.46dc1fe4.js" as="script"><link rel="prefetch" href="/assets/js/posts_jd_index.html.7a8d7890.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/zh/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/bubu.jpg" alt><!----><span class="vp-site-name hide-in-pad">Ruochen Chen</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/zh/" aria-label="ä¸»é¡µ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ç¬”è®°"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>ç¬”è®°<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Hive</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/hive/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8.html" aria-label="Hiveè¯­æ³•å¤§å…¨"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Hiveè¯­æ³•å¤§å…¨<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Java8ç‰¹æ€§</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/java8/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B.html" aria-label="å‡½æ•°å¼ç¼–ç¨‹"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->å‡½æ•°å¼ç¼–ç¨‹<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Netty</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/netty/Netty01-nio.html" aria-label="Nioä»‹ç»"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Nioä»‹ç»<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/netty/Netty02-intro.html" aria-label="Nettyå…¥é—¨"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Nettyå…¥é—¨<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/netty/Netty03-%E8%BF%9B%E9%98%B6.html" aria-label="Nettyè¿›é˜¶"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Nettyè¿›é˜¶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/netty/Netty04-%E4%BC%98%E5%8C%96%E4%B8%8E%E6%BA%90%E7%A0%81.html" aria-label="Nettyä¼˜åŒ–"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Nettyä¼˜åŒ–<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">NGINX</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/nginx/1.html" aria-label="NGINX é«˜çº§"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->NGINX é«˜çº§<!----></a></li></ul></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="é€‰æ‹©è¯­è¨€"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" name="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/" aria-label="English"><!---->English<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/zh/posts/declarative/haskell.html" aria-label="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li></ul></button></div></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Crc011220/Crc011220.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢æ–‡æ¡£"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/zh/" aria-label="ä¸»é¡µ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->ä¸»é¡µ<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">ç¬”è®°</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Algo</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Declarative</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/zh/posts/declarative/haskell.html" aria-label="Haskell"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Haskell<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/declarative/haskell%E9%80%9F%E8%AE%B0.html" aria-label="Haskell å¸¸è§å†…ç½®å‡½æ•°é€ŸæŸ¥"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Haskell å¸¸è§å†…ç½®å‡½æ•°é€ŸæŸ¥<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/declarative/prolog.html" aria-label="Prolog"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Prolog<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/declarative/prolog%E9%80%9F%E8%AE%B0.html" aria-label="Prolog å†…ç½®è°“è¯é€ŸæŸ¥è¡¨"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Prolog å†…ç½®è°“è¯é€ŸæŸ¥è¡¨<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Hive</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java8</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Netty</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nginx</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Review</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/genesis.html" aria-label="å¼€å§‹"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->å¼€å§‹<!----></a></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/intro.html" aria-label="å…³äºæˆ‘"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span><!--]-->å…³äºæˆ‘<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Haskell</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Ruochen Chen</span></span><span property="author" content="Ruochen Chen"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025å¹´5æœˆ17æ—¥</span><meta property="datePublished" content="2025-05-17T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 176 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT176M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color5 clickable" role="navigation">Learning Records</span><!--]--><meta property="articleSection" content="Learning Records"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color3 clickable" role="navigation">Declarative Programming</span><!--]--><meta property="keywords" content="Declarative Programming"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…³äºhaskell">å…³äºHaskell</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#haskellä¸å‡½æ•°å¼ç¼–ç¨‹">Haskellä¸å‡½æ•°å¼ç¼–ç¨‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨ghcupå®‰è£…">ä½¿ç”¨GHCupå®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®‰è£…stack">å®‰è£…stack</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨stackå®‰è£…ghc">ä½¿ç”¨stackå®‰è£…GHC</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å…³äºcabalå’Œstack">å…³äºCabalå’Œstack</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ghcåŸºæœ¬ä½¿ç”¨">GHCåŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#stackä½¿ç”¨æŒ‡å—">Stackä½¿ç”¨æŒ‡å—</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å…³äºstack">å…³äºStack</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¼€å§‹ä½¿ç”¨">å¼€å§‹ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬å‘½ä»¤">åŸºæœ¬å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é¡¹ç›®é…ç½®">é¡¹ç›®é…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è¿è¡Œç°æœ‰çš„é¡¹ç›®">è¿è¡Œç°æœ‰çš„é¡¹ç›®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¼–è¯‘é€‰é¡¹">ç¼–è¯‘é€‰é¡¹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è·¯å¾„">è·¯å¾„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#exec">exec</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ghci">ghci</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è„šæœ¬">è„šæœ¬</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç¼–è¾‘å™¨é›†æˆ">ç¼–è¾‘å™¨é›†æˆ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vscodeç¯å¢ƒé…ç½®">VsCodeç¯å¢ƒé…ç½®</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ„Ÿå—ä¸€ä¸‹haskell">æ„Ÿå—ä¸€ä¸‹Haskell</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#åŸºæœ¬è¦ç´ ">åŸºæœ¬è¦ç´ </a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬å†…å®¹">åŸºæœ¬å†…å®¹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è¿ç®—ç¬¦">è¿ç®—ç¬¦</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬ç±»å‹ç±»">åŸºæœ¬ç±»å‹ç±»</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å‡½æ•°">å‡½æ•°</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®šä¹‰å‡½æ•°">å®šä¹‰å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨list">ä½¿ç”¨List</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨range">ä½¿ç”¨Range</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#list-comprehension">List Comprehension</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å…ƒç»„">å…ƒç»„</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#type-typeclass">Type &amp; Typeclass</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç±»å‹">ç±»å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç±»å‹å˜é‡">ç±»å‹å˜é‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#typeclass">Typeclass</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å‡½æ•°ç›¸å…³è¯­æ³•">å‡½æ•°ç›¸å…³è¯­æ³•</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ¨¡å¼åŒ¹é…-pattern-matching">æ¨¡å¼åŒ¹é…(Pattern matching)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®ˆå«">å®ˆå«</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#whereå…³é”®å­—">whereå…³é”®å­—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#letå…³é”®å­—">letå…³é”®å­—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#caseè¡¨è¾¾å¼">caseè¡¨è¾¾å¼</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é€’å½’">é€’å½’</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é«˜é˜¶å‡½æ•°">é«˜é˜¶å‡½æ•°</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æŸ¯é‡ŒåŒ–">æŸ¯é‡ŒåŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‡½æ•°ä½œä¸ºå‚æ•°">å‡½æ•°ä½œä¸ºå‚æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¸¸ç”¨é«˜é˜¶å‡½æ•°">å¸¸ç”¨é«˜é˜¶å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#lambda">lambda</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#fold-scan">fold &amp; scan</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‡½æ•°è°ƒç”¨ç¬¦">$å‡½æ•°è°ƒç”¨ç¬¦</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‡½æ•°å¤åˆ-function-composition">å‡½æ•°å¤åˆ(Function Composition)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ¨¡å—">æ¨¡å—</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¼•å…¥æ¨¡å—">å¼•å…¥æ¨¡å—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¸¸ç”¨åº“">å¸¸ç”¨åº“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¼–å†™è‡ªå·±çš„æ¨¡å—">ç¼–å†™è‡ªå·±çš„æ¨¡å—</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å®šä¹‰ç±»å‹å’Œç±»å‹ç±»">å®šä¹‰ç±»å‹å’Œç±»å‹ç±»</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®šä¹‰æ–°ç±»å‹">å®šä¹‰æ–°ç±»å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#record-syntax">Record Syntax</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç±»å‹å‚æ•°">ç±»å‹å‚æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ´¾ç”Ÿæ ‡å‡†ç±»å‹ç±»">æ´¾ç”Ÿæ ‡å‡†ç±»å‹ç±»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç±»å‹åˆ«å">ç±»å‹åˆ«å</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é€’å½’å®šä¹‰æ•°æ®ç»“æ„">é€’å½’å®šä¹‰æ•°æ®ç»“æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è‡ªå®šä¹‰ç±»å‹ç±»">è‡ªå®šä¹‰ç±»å‹ç±»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#functor-å‡½å­">Functor/å‡½å­</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#kind">Kind</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è¾“å…¥ä¸è¾“å‡º">è¾“å…¥ä¸è¾“å‡º</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ioåŠ¨ä½œ">IOåŠ¨ä½œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è¾“å…¥ä¸è¾“å‡ºå‡½æ•°">è¾“å…¥ä¸è¾“å‡ºå‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ–‡ä»¶ä¸å­—ç¬¦æµ">æ–‡ä»¶ä¸å­—ç¬¦æµ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‘½ä»¤è¡Œå‚æ•°">å‘½ä»¤è¡Œå‚æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#éšæœºæ•°">éšæœºæ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bytestring">ByteString</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¼‚å¸¸-exceptions">å¼‚å¸¸(Exceptions)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é—®é¢˜è§£å†³å®ä¾‹">é—®é¢˜è§£å†³å®ä¾‹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é€†æ³¢å…°è¡¨è¾¾å¼">é€†æ³¢å…°è¡¨è¾¾å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è·¯å¾„è§„åˆ’é—®é¢˜">è·¯å¾„è§„åˆ’é—®é¢˜</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å‡½å­ã€åº”ç”¨å‡½å­ä¸å¹ºåŠç¾¤">å‡½å­ã€åº”ç”¨å‡½å­ä¸å¹ºåŠç¾¤</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‡½å­">å‡½å­</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åº”ç”¨å‡½å­">åº”ç”¨å‡½å­</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#newtype">newtype</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#monoid">Monoid</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#monad">Monad</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#monadç±»å‹ç±»">Monadç±»å‹ç±»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#monadåº”ç”¨">Monadåº”ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#doè¡¨ç¤ºæ³•">doè¡¨ç¤ºæ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#monadå®ä¾‹">Monadå®ä¾‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#monad-law">Monad Law</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#more-monad">More Monad</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#writer">Writer</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#reader-monad">Reader Monad</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#state-monad">State Monad</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¸¸ç”¨çš„æ“ä½œmonadçš„å‡½æ•°">å¸¸ç”¨çš„æ“ä½œMonadçš„å‡½æ•°</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#zippers">Zippers</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®šä¹‰ä¸€ä¸ªæ ‘">å®šä¹‰ä¸€ä¸ªæ ‘</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#zipper">Zipper</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#zipper-of-list">Zipper of List</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ€»ç»“">æ€»ç»“</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="haskell" tabindex="-1"><a class="header-anchor" href="#haskell"><span>Haskell</span></a></h1><ul><li>Contents are from <a href="https://github.com/tch0/notes" target="_blank" rel="noopener noreferrer">Haskell Notes</a></li></ul><!-- START doctoc generated TOC please keep comment here to allow auto update --><!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --><p><strong>Table of Contents</strong> <em>generated with <a href="https://github.com/thlorenz/doctoc" target="_blank" rel="noopener noreferrer">DocToc</a></em></p><ul><li><a href="#haskell%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8">Haskellè¯­è¨€å…¥é—¨</a><ul><li><a href="#%E5%85%B3%E4%BA%8Ehaskell">å…³äºHaskell</a></li><li><a href="#haskell%E4%B8%8E%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B">Haskellä¸å‡½æ•°å¼ç¼–ç¨‹</a></li><li><a href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">ç¯å¢ƒæ­å»º</a><ul><li><a href="#%E4%BD%BF%E7%94%A8ghcup%E5%AE%89%E8%A3%85">ä½¿ç”¨GHCupå®‰è£…</a></li><li><a href="#%E5%AE%89%E8%A3%85stack">å®‰è£…stack</a></li><li><a href="#%E4%BD%BF%E7%94%A8stack%E5%AE%89%E8%A3%85ghc">ä½¿ç”¨stackå®‰è£…GHC</a></li><li><a href="#%E5%85%B3%E4%BA%8Ecabal%E5%92%8Cstack">å…³äºCabalå’Œstack</a></li><li><a href="#ghc%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">GHCåŸºæœ¬ä½¿ç”¨</a></li></ul></li><li><a href="#stack%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97">Stackä½¿ç”¨æŒ‡å—</a><ul><li><a href="#%E5%85%B3%E4%BA%8Estack">å…³äºStack</a></li><li><a href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8">å¼€å§‹ä½¿ç”¨</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4">åŸºæœ¬å‘½ä»¤</a></li><li><a href="#%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE">é¡¹ç›®é…ç½®</a></li><li><a href="#%E8%BF%90%E8%A1%8C%E7%8E%B0%E6%9C%89%E7%9A%84%E9%A1%B9%E7%9B%AE">è¿è¡Œç°æœ‰çš„é¡¹ç›®</a></li><li><a href="#%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9">ç¼–è¯‘é€‰é¡¹</a></li><li><a href="#%E8%B7%AF%E5%BE%84">è·¯å¾„</a></li><li><a href="#exec">exec</a></li><li><a href="#ghci">ghci</a></li><li><a href="#%E8%84%9A%E6%9C%AC">è„šæœ¬</a></li></ul></li><li><a href="#%E7%BC%96%E8%BE%91%E5%99%A8%E9%9B%86%E6%88%90">ç¼–è¾‘å™¨é›†æˆ</a><ul><li><a href="#vscode%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">VsCodeç¯å¢ƒé…ç½®</a></li></ul></li><li><a href="#%E6%84%9F%E5%8F%97%E4%B8%80%E4%B8%8Bhaskell">æ„Ÿå—ä¸€ä¸‹Haskell</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%B4%A0">åŸºæœ¬è¦ç´ </a><ul><li><a href="#%E5%9F%BA%E6%9C%AC%E5%86%85%E5%AE%B9">åŸºæœ¬å†…å®¹</a></li><li><a href="#%E8%BF%90%E7%AE%97%E7%AC%A6">è¿ç®—ç¬¦</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E7%B1%BB">åŸºæœ¬ç±»å‹ç±»</a></li></ul></li><li><a href="#%E5%87%BD%E6%95%B0">å‡½æ•°</a><ul><li><a href="#%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0">å®šä¹‰å‡½æ•°</a></li><li><a href="#%E4%BD%BF%E7%94%A8list">ä½¿ç”¨List</a></li><li><a href="#%E4%BD%BF%E7%94%A8range">ä½¿ç”¨Range</a></li><li><a href="#list-comprehension">List Comprehension</a></li><li><a href="#%E5%85%83%E7%BB%84">å…ƒç»„</a></li></ul></li><li><a href="#type--typeclass">Type &amp; Typeclass</a><ul><li><a href="#%E7%B1%BB%E5%9E%8B">ç±»å‹</a></li><li><a href="#%E7%B1%BB%E5%9E%8B%E5%8F%98%E9%87%8F">ç±»å‹å˜é‡</a></li><li><a href="#typeclass">Typeclass</a></li></ul></li><li><a href="#%E5%87%BD%E6%95%B0%E7%9B%B8%E5%85%B3%E8%AF%AD%E6%B3%95">å‡½æ•°ç›¸å…³è¯­æ³•</a><ul><li><a href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8Dpattern-matching">æ¨¡å¼åŒ¹é…(Pattern matching)</a></li><li><a href="#%E5%AE%88%E5%8D%AB">å®ˆå«</a></li><li><a href="#where%E5%85%B3%E9%94%AE%E5%AD%97">whereå…³é”®å­—</a></li><li><a href="#let%E5%85%B3%E9%94%AE%E5%AD%97">letå…³é”®å­—</a></li><li><a href="#case%E8%A1%A8%E8%BE%BE%E5%BC%8F">caseè¡¨è¾¾å¼</a></li></ul></li><li><a href="#%E9%80%92%E5%BD%92">é€’å½’</a></li><li><a href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0">é«˜é˜¶å‡½æ•°</a><ul><li><a href="#%E6%9F%AF%E9%87%8C%E5%8C%96">æŸ¯é‡ŒåŒ–</a></li><li><a href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0">å‡½æ•°ä½œä¸ºå‚æ•°</a></li><li><a href="#%E5%B8%B8%E7%94%A8%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0">å¸¸ç”¨é«˜é˜¶å‡½æ•°</a></li><li><a href="#lambda">lambda</a></li><li><a href="#fold--scan">fold &amp; scan</a></li><li><a href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E7%AC%A6">$å‡½æ•°è°ƒç”¨ç¬¦</a></li><li><a href="#%E5%87%BD%E6%95%B0%E5%A4%8D%E5%90%88function-composition">å‡½æ•°å¤åˆ(Function Composition)</a></li></ul></li><li><a href="#%E6%A8%A1%E5%9D%97">æ¨¡å—</a><ul><li><a href="#%E5%BC%95%E5%85%A5%E6%A8%A1%E5%9D%97">å¼•å…¥æ¨¡å—</a></li><li><a href="#%E5%B8%B8%E7%94%A8%E5%BA%93">å¸¸ç”¨åº“</a></li><li><a href="#%E7%BC%96%E5%86%99%E8%87%AA%E5%B7%B1%E7%9A%84%E6%A8%A1%E5%9D%97">ç¼–å†™è‡ªå·±çš„æ¨¡å—</a></li></ul></li><li><a href="#%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%B1%BB%E5%9E%8B%E7%B1%BB">å®šä¹‰ç±»å‹å’Œç±»å‹ç±»</a><ul><li><a href="#%E5%AE%9A%E4%B9%89%E6%96%B0%E7%B1%BB%E5%9E%8B">å®šä¹‰æ–°ç±»å‹</a></li><li><a href="#record-syntax">Record Syntax</a></li><li><a href="#%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">ç±»å‹å‚æ•°</a></li><li><a href="#%E6%B4%BE%E7%94%9F%E6%A0%87%E5%87%86%E7%B1%BB%E5%9E%8B%E7%B1%BB">æ´¾ç”Ÿæ ‡å‡†ç±»å‹ç±»</a></li><li><a href="#%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D">ç±»å‹åˆ«å</a></li><li><a href="#%E9%80%92%E5%BD%92%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">é€’å½’å®šä¹‰æ•°æ®ç»“æ„</a></li><li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E7%B1%BB">è‡ªå®šä¹‰ç±»å‹ç±»</a></li><li><a href="#functor%E5%87%BD%E5%AD%90">Functor/å‡½å­</a></li><li><a href="#kind">Kind</a></li></ul></li><li><a href="#%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA">è¾“å…¥ä¸è¾“å‡º</a><ul><li><a href="#io%E5%8A%A8%E4%BD%9C">IOåŠ¨ä½œ</a></li><li><a href="#%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0">è¾“å…¥ä¸è¾“å‡ºå‡½æ•°</a></li><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8E%E5%AD%97%E7%AC%A6%E6%B5%81">æ–‡ä»¶ä¸å­—ç¬¦æµ</a></li><li><a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0">å‘½ä»¤è¡Œå‚æ•°</a></li><li><a href="#%E9%9A%8F%E6%9C%BA%E6%95%B0">éšæœºæ•°</a></li><li><a href="#bytestring">ByteString</a></li><li><a href="#%E5%BC%82%E5%B8%B8exceptions">å¼‚å¸¸(Exceptions)</a></li></ul></li><li><a href="#%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E5%AE%9E%E4%BE%8B">é—®é¢˜è§£å†³å®ä¾‹</a><ul><li><a href="#%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F">é€†æ³¢å…°è¡¨è¾¾å¼</a></li><li><a href="#%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98">è·¯å¾„è§„åˆ’é—®é¢˜</a></li></ul></li><li><a href="#%E5%87%BD%E5%AD%90%E5%BA%94%E7%94%A8%E5%87%BD%E5%AD%90%E4%B8%8E%E5%B9%BA%E5%8D%8A%E7%BE%A4">å‡½å­ã€åº”ç”¨å‡½å­ä¸å¹ºåŠç¾¤</a><ul><li><a href="#%E5%87%BD%E5%AD%90">å‡½å­</a></li><li><a href="#%E5%BA%94%E7%94%A8%E5%87%BD%E5%AD%90">åº”ç”¨å‡½å­</a></li><li><a href="#newtype">newtype</a></li><li><a href="#monoid">Monoid</a></li></ul></li><li><a href="#monad">Monad</a><ul><li><a href="#monad%E7%B1%BB%E5%9E%8B%E7%B1%BB">Monadç±»å‹ç±»</a></li><li><a href="#monad%E5%BA%94%E7%94%A8">Monadåº”ç”¨</a></li><li><a href="#do%E8%A1%A8%E7%A4%BA%E6%B3%95">doè¡¨ç¤ºæ³•</a></li><li><a href="#monad%E5%AE%9E%E4%BE%8B">Monadå®ä¾‹</a></li><li><a href="#monad-law">Monad Law</a></li></ul></li><li><a href="#more-monad">More Monad</a><ul><li><a href="#writer">Writer</a></li><li><a href="#reader-monad">Reader Monad</a></li><li><a href="#state-monad">State Monad</a></li><li><a href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%93%8D%E4%BD%9Cmonad%E7%9A%84%E5%87%BD%E6%95%B0">å¸¸ç”¨çš„æ“ä½œMonadçš„å‡½æ•°</a></li></ul></li><li><a href="#zippers">Zippers</a><ul><li><a href="#%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E6%A0%91">å®šä¹‰ä¸€ä¸ªæ ‘</a></li><li><a href="#zipper">Zipper</a></li><li><a href="#zipper-of-list">Zipper of List</a></li></ul></li><li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li></ul></li></ul><!-- END doctoc generated TOC please keep comment here to allow auto update --><h1 id="haskellè¯­è¨€å…¥é—¨" tabindex="-1"><a class="header-anchor" href="#haskellè¯­è¨€å…¥é—¨"><span>Haskellè¯­è¨€å…¥é—¨</span></a></h1><p>æç¤ºï¼šæœ¬æ–‡å«æœ‰å°‘é‡å…¬å¼ï¼Œå¯å®‰è£…<a href="https://github.com/orsharir/github-mathjax" target="_blank" rel="noopener noreferrer">MathJax Plugin for Github</a>æµè§ˆå™¨æ’ä»¶æä¾›å…¬å¼æ¸²æŸ“ï¼Œæˆ–è€…Cloneåˆ°æœ¬åœ°æŸ¥çœ‹ã€‚</p><h2 id="å…³äºhaskell" tabindex="-1"><a class="header-anchor" href="#å…³äºhaskell"><span>å…³äºHaskell</span></a></h2><p>å…³äºHaskellï¼š</p><blockquote><p><a href="https://zh.wikipedia.org/wiki/Haskell" target="_blank" rel="noopener noreferrer">Haskell</a>ï¼ˆå‘éŸ³ä¸º/ËˆhÃ¦skÉ™l/ï¼‰æ˜¯ä¸€ç§æ ‡å‡†åŒ–çš„ï¼Œé€šç”¨çš„çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼Œæœ‰æƒ°æ€§æ±‚å€¼å’Œå¼ºé™æ€ç±»å‹ã€‚å®ƒçš„å‘½åæºè‡ªç¾å›½é€»è¾‘å­¦å®¶å“ˆæ–¯å‡¯å°”Â·åŠ é‡Œï¼Œä»–åœ¨æ•°ç†é€»è¾‘æ–¹é¢ä¸Šçš„å·¥ä½œä½¿å¾—å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€æœ‰äº†å¹¿æ³›çš„åŸºç¡€ã€‚åœ¨Haskellä¸­ï¼Œâ€œå‡½æ•°æ˜¯ç¬¬ä¸€ç±»å¯¹è±¡â€ã€‚ä½œä¸ºä¸€é—¨å‡½æ•°ç¼–ç¨‹è¯­è¨€ï¼Œä¸»è¦æ§åˆ¶ç»“æ„æ˜¯å‡½æ•°ã€‚Haskellè¯­è¨€æ˜¯1990å¹´åœ¨ç¼–ç¨‹è¯­è¨€Mirandaçš„åŸºç¡€ä¸Šæ ‡å‡†åŒ–çš„ï¼Œå¹¶ä¸”ä»¥Î»æ¼”ç®—ä¸ºåŸºç¡€å‘å±•è€Œæ¥ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆHaskellè¯­è¨€ä»¥å¸Œè…Šå­—æ¯â€œÎ»â€ï¼ˆLambdaï¼‰ä½œä¸ºè‡ªå·±çš„æ ‡å¿—ã€‚Haskellå…·æœ‰â€œè¯æ˜å³ç¨‹åºã€å‘½é¢˜ä¸ºç±»å‹â€çš„ç‰¹å¾ã€‚</p></blockquote><p>é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼š</p><ul><li>Haskellæ˜¯ä¸€é—¨çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼Œå­¦ä¹ æ›²çº¿éå¸¸é™¡å³­ï¼Œæ”¶è·åŒæ ·ä¼šå¾ˆä¸°å¯Œã€‚</li><li>ä¸è¦åœ¨æ²¡æœ‰ä»»ä½•ç¼–ç¨‹åŸºç¡€çš„æƒ…å†µä¸‹å­¦ä¹ Haskellï¼Œè‡³å°‘å…ˆå­¦ä¹ ä¸€äº›è¿‡ç¨‹å¼å’Œæ”¯æŒå‡½æ•°å¼ç¼–ç¨‹çš„è¯­è¨€ï¼Œæœ‰ä¸€å®šæ•°æ®ç»“æ„å’Œç®—æ³•åŸºç¡€ã€‚</li><li>Haskelléå¸¸æ³¨é‡ç†è®ºï¼ŒèŒƒç•´è®ºæ˜¯æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹çš„ç†è®ºåŸºç¡€ä¹‹ä¸€ï¼Œä½œä¸ºä¸€é—¨æ•°å­¦åˆ†æ”¯ç†è®ºï¼Œå­¦ä¹ Haskellå°†ä¼šæ·±å…¥èŒƒç•´è®ºçš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å¯é¿å…åœ°éœ€è¦äº†è§£å¾ˆå¤šæ•°å­¦æ¦‚å¿µå’Œå®šç†ï¼Œå°†ä¼šæ—¶åˆ»ä¸æŠ½è±¡ä½œä¼´ã€‚</li><li>ä¸è¦æœŸå¾…å‡ å¤©å‡ ä¸ªæœˆå°±å­¦æ‡‚å¹¶æ·±å…¥Haskellï¼Œè¿™å°†ä¼šæ˜¯ä¸€æ¡è‰°æ¶©çš„é“è·¯ã€‚</li><li>ä¸è¦æœŸå¾…é€šè¿‡ä¸€æœ¬ä¹¦æˆ–è€…ä¸€é—¨è¯¾ç¨‹å°±å­¦åˆ°Haskellçš„å…¨éƒ¨ï¼Œä»ä¸åŒçš„æ•™ç¨‹å’Œä¹¦ç±ä¸åŒçš„è§†è§’æ€è€ƒæ˜¯å¿…è¦çš„ã€‚</li><li>ç›¸æ•™ä¼ ç»Ÿçš„å‘½ä»¤å¼ç¼–ç¨‹è€Œè¨€ï¼Œéœ€è¦æ¢ä¸€ç§æ–¹å¼æ¥æ€è€ƒï¼Œå¦åˆ™æ°¸è¿œå­¦ä¸å¥½Haskellã€‚</li><li>å…¥é—¨è‡³å°‘è¦äº†è§£ä¸€å®šçš„èŒƒç•´è®ºæ¦‚å¿µï¼Œç†è§£å‡½å­ã€åº”ç”¨å‡½å­ã€å•å­ç­‰æ¦‚å¿µï¼Œç†è§£æ¸…æ¥šâ€œ<strong>å•å­æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤</strong>â€è¿™å¥è¯ã€‚</li><li>å­¦ä¹ ä¸å®³æ€•æ²¡æœ‰åŸºç¡€ï¼Œæ²¡æœ‰è€å¸ˆï¼Œæ€•çš„æ˜¯æ²¡æœ‰çƒ­æƒ…ã€‚</li></ul><p>å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€ï¼Œæ”¶é›†èµ„æ–™æ˜¯å¿…ä¸å¯å°‘çš„ï¼š</p><ul><li><a href="https://github.com/bitemyapp/learnhaskell/blob/master/guide-zh_CN.md" target="_blank" rel="noopener noreferrer">æ€ä¹ˆå­¦ä¹ Haskell-github.com/bitemyapp/learnhaskell</a>ï¼Œå…¥é—¨ç°ä»£Haskellçš„æœ€å¥½ææ–™ã€‚</li><li>ä¹¦ç±ï¼šç°æœ‰çš„ä¹¦ç±å±ˆæŒ‡å¯æ•°ã€‚ <ul><li><a href="http://learnyouahaskell.com/" target="_blank" rel="noopener noreferrer">Learn You a Haskell for Great Good</a>ï¼Œä¸­è¯‘<a href="https://book.douban.com/subject/25803388/" target="_blank" rel="noopener noreferrer">Haskellè¶£å­¦æŒ‡å—</a>ï¼Œå…¥é—¨ä¹¦ï¼Œæ®è¯„ä»·å‰é¢å¾ˆè½»æ¾ï¼Œä½†åé¢ä¼šéš¾åº¦é™¡å¢è®©äººä¸çŸ¥æ‰€äº‘ï¼Œè€Œä¸”ä¸å¤Ÿç°ä»£ï¼Œè¦†ç›–çš„ä¸œè¥¿ä¸è¶³ä»¥å†™å‡ºå®ç”¨çš„ä»£ç ã€‚<a href="http://learnyouahaskell.com/chapters" target="_blank" rel="noopener noreferrer">åœ¨çº¿é˜…è¯»</a>ã€‚</li><li><a href="https://haskellbook.com/" target="_blank" rel="noopener noreferrer">HaskellBook</a>ï¼Œç¬¬ä¸€ä¸ªé“¾æ¥learnhaskellä»“åº“ä½œè€…å†™çš„ä¹¦ç±ï¼Œè‹±æ–‡ç‰ˆä¹¦ç±å¾ˆè´µï¼Œä½†å¾ˆé è°±ï¼Œå°šæ— ä¸­è¯‘ç‰ˆæœ¬å‡ºç‰ˆï¼Œæ‰€ä»¥è¯´æš‚æ— æ³•é˜…è¯»åˆ°ã€‚</li><li><a href="https://book.douban.com/subject/3134515/" target="_blank" rel="noopener noreferrer">Real World Haskell</a>ï¼Œä¸­è¯‘åœ¨è¯‘ä¸­ï¼Œå°šæœªå‡ºç‰ˆã€‚æˆä¹¦æœ‰ç‚¹æ—©ï¼Œæœ‰äº›åº“å¯èƒ½å·²ç»ç”¨ä¸äº†äº†ï¼Œä½†ç»å¯¹è¿˜å¯ä»¥è¯»ï¼Œåˆå­¦æœ‰éš¾åº¦ã€‚<a href="https://github.com/huangz1990/real-world-haskell-cn" target="_blank" rel="noopener noreferrer">ä¸­è¯‘çš„ä»“åº“</a>ï¼Œ<a href="https://rwh.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">åœ¨çº¿é˜…è¯»</a>ã€‚</li><li><a href="https://book.douban.com/subject/26256849/" target="_blank" rel="noopener noreferrer">Haskellå¹¶è¡Œä¸å¹¶å‘ç¼–ç¨‹</a>ï¼Œå¦‚å…¶åï¼Œè¿›é˜¶ä¹¦ç±ï¼Œå†…å®¹å…¨é¢ï¼Œç¿»è¯‘æœ‰äº›ç‘•ç–µä½†éƒ½æœ‰å‹˜è¯¯ã€‚</li><li>æ›´å¤šã€‚</li></ul></li><li>ä¸€äº›è¯¾ç¨‹ï¼š <ul><li><a href="https://www.bilibili.com/video/BV1ti4y1P7TF?p=1" target="_blank" rel="noopener noreferrer">è¯ºä¸æ±‰å¤§å­¦â€”â€”å‡½æ•°å¼ç¼–ç¨‹èŒƒå¼å…¥é—¨è¯¾ç¨‹</a></li><li>å¾…è¡¥å……ã€‚</li></ul></li></ul><p>èµ„æ–™é€‰æ‹©ï¼š</p><ul><li><a href="https://www.bookstack.cn/read/learnyouahaskell-zh-cn/README.md" target="_blank" rel="noopener noreferrer">Learn You a Haskell for Great Good</a> ç›®å‰åœ¨çœ‹ï¼Œæœ¬æ–‡ç†è®ºéƒ¨åˆ†çš„æœ€ä¸»è¦å‚è€ƒï¼Œå°æ¹¾äººç¿»è¯‘çš„æŸäº›åè¯ä¼šæœ‰ä¸€äº›å·®å¼‚ï¼Œæ¯”å¦‚å®ç°ç§°ä¸ºå®ä½œã€ç±»å‹ç§°ä¸ºå‹åˆ«ã€å‚æ•°ç§°ä¸ºå¼•æ•°ã€éšæœºæ•°ç§°ä¸ºä¹±æ•°ç­‰ï¼Œéœ€è¦ç•™æ„ï¼Œä¸æ˜¯å¾ˆå½±å“é˜…è¯»ã€‚</li><li><a href="http://cnhaskell.com/index.html" target="_blank" rel="noopener noreferrer">Real World Haskell</a></li><li><a href="https://www.haskell.org/definition/haskell2010.pdf" target="_blank" rel="noopener noreferrer">Haskell 2010 Report</a> æ²¡æœ‰ä»€ä¹ˆæ¯”æ ‡å‡†æ›´å‡†ç¡®ï¼Œè¿›é˜¶çš„è¯å¿…é¡»è¦çœ‹ï¼Œè¿˜æ²¡æœ‰åˆ°è¿™ä¸€æ­¥ã€‚</li></ul><p>è¯­è¨€ç›¸å…³é“¾æ¥ï¼š</p><ul><li><a href="https://www.haskell.org/" target="_blank" rel="noopener noreferrer">haskellä¸»é¡µ</a>ï¼Œ<a href="https://wiki.haskell.org/Haskell" target="_blank" rel="noopener noreferrer">Wiki</a></li><li><a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/index.html" target="_blank" rel="noopener noreferrer">GHCæ–‡æ¡£</a></li><li><a href="https://docs.haskellstack.org/en/stable/README/" target="_blank" rel="noopener noreferrer">stackæ–‡æ¡£</a></li><li><a href="https://cabal.readthedocs.io/en/3.6/" target="_blank" rel="noopener noreferrer">Cabalæ–‡æ¡£</a></li><li><a href="https://www.stackage.org/" target="_blank" rel="noopener noreferrer">Stackageé¦–é¡µ</a></li><li><a href="https://hackage.haskell.org/" target="_blank" rel="noopener noreferrer">Hackageé¦–é¡µ</a></li><li><a href="https://hoogle.haskell.org/" target="_blank" rel="noopener noreferrer">Hoogle API Search</a></li></ul><p>è¯¾å¤–é˜…è¯»ï¼š</p><ul><li><a href="https://blog.tonycrane.cc/p/b3ca5c18.html" target="_blank" rel="noopener noreferrer">ä¸€ä¸ªå¾ˆå…¨é¢çš„Haskellç¬”è®°</a></li><li><a href="https://www.schoolofhaskell.com/" target="_blank" rel="noopener noreferrer">School of Haskell</a>ï¼Œä¸€ä¸ªå­¦ä¹ Haskellçš„ç½‘ç«™ã€‚</li></ul><h2 id="haskellä¸å‡½æ•°å¼ç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#haskellä¸å‡½æ•°å¼ç¼–ç¨‹"><span>Haskellä¸å‡½æ•°å¼ç¼–ç¨‹</span></a></h2><p>å‡½æ•°å¼ï¼ˆfunctional languagesï¼‰ä¸å‘½ä»¤å¼ï¼ˆimperative languagesï¼‰ï¼š</p><ul><li>ä¸åŒäºå‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€ï¼Œç¨‹åºæ˜¯æè¿°è¦æ€ä¹ˆåšï¼Œè¦åšä»€ä¹ˆï¼Œå‡½æ•°å¼ç¼–ç¨‹éœ€è¦é€šè¿‡å‡½æ•°æè¿°å‡ºé—®é¢˜<strong>æ˜¯ä»€ä¹ˆ</strong>ï¼Œæ¯”å¦‚ã€Œé˜¶ä¹˜å°±æ˜¯åªä»1åˆ°æŸä¸ªæ•°çš„ä¹˜ç§¯ã€ï¼Œè€Œå‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€åˆ™ä¼šç”¨ç¨‹åºæè¿°å‡ºé˜¶ä¹˜çš„è®¡ç®—è¿‡ç¨‹ï¼šå®šä¹‰ç»“æœçš„åˆå€¼ä¸º1ï¼Œç„¶åä»1ä¸€ç›´ç´¯ä¹˜åˆ°æŸä¸ªæ•°çš„è®¡ç®—è¿‡ç¨‹ã€‚</li><li>åœ¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå˜é‡ä¸€æ—¦æŒ‡å®šå°±ä¸å¯ä»¥æ›´æ”¹äº†ï¼Œåœ¨å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå˜é‡è¡¨ç¤ºçŠ¶æ€ï¼Œå¦‚æœçŠ¶æ€ä¸å¯å˜ï¼Œé‚£ä¹ˆèƒ½åšçš„äº‹æƒ…å°†éå¸¸æœ‰é™ã€‚è€Œå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå˜é‡çš„å«ä¹‰æ›´æ¥è¿‘æ•°å­¦ä¸­çš„å˜é‡ï¼Œ<code>x=5</code>è¡¨ç¤º<code>x</code>å°±æ˜¯<code>5</code>ï¼Œè€Œä¸æ˜¯<code>x</code>å¤„äº<code>5</code>è¿™ä¸ªçŠ¶æ€ã€‚</li><li>æ‰€ä»¥åœ¨çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå‡½æ•°å”¯ä¸€èƒ½åšçš„äº‹æƒ…å°±æ˜¯åˆ©ç”¨å‚æ•°è®¡ç®—ç»“æœï¼Œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼ˆside effectï¼‰ï¼Œå‰¯ä½œç”¨çš„å«ä¹‰æ˜¯æ”¹å˜éå‡½æ•°å†…éƒ¨çš„çŠ¶æ€ï¼Œè¿™åœ¨å‘½ä»¤å¼ç¼–ç¨‹ä¸­æ˜¯éå¸¸å¸¸è§çš„ã€‚åœ¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œè‹¥ä»¥åŒæ ·çš„å‚æ•°è°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¸¤æ¬¡ï¼Œç»“æœå¿…å®šç›¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°éƒ½æ˜¯<strong>å¯é‡å…¥</strong>çš„ã€‚åœ¨å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œåˆ™éœ€è¦å‡½æ•°å®ç°æ—¶è¿›è¡Œéå¸¸ä¸¥æ ¼çš„é™å®šæ‰èƒ½åšåˆ°ã€‚æ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•°å®ç°å¯¹äºå¹¶å‘éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ï¼Œå¹¶è¡Œæ‰§è¡Œçš„æ­£ç¡®æ€§å°±èƒ½å¤Ÿå¾—åˆ°ä¿è¯ã€‚</li></ul><p>Haskellçš„ç‰¹ç‚¹ï¼š</p><ul><li>Haskellæ˜¯æƒ°æ€§çš„ï¼Œå¦‚éç‰¹æ®Šè¯´æ˜ï¼Œå‡½æ•°çœŸæ­£éœ€è¦ç»“æœä»¥å‰ä¸ä¼šè¢«æ±‚å€¼ï¼ŒåŠ ä¸Šå¼•ç”¨é€æ˜ï¼Œå¯ä»¥æŠŠç¨‹åºçœ‹åšæ•°æ®çš„ä¸€ç³»åˆ—å˜å½¢ã€‚ä¹Ÿå°±æ˜¯è¯´æƒ°æ€§è¯­è¨€ä¸­çš„è®¡ç®—åªæ˜¯ä¸€ç»„åˆå§‹æ•°æ®å’Œå˜æ¢å…¬å¼ã€‚</li><li>Haskellæ˜¯é™æ€å¼ºç±»å‹çš„ï¼Œæ‹¥æœ‰ä¸€å¥—å¼ºå¤§çš„ç±»å‹ç³»ç»Ÿï¼Œæ”¯æŒè‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼ˆtype inferenceï¼‰ï¼Œæ¯”å¦‚<code>a = 5+4</code>ç¼–è¯‘å™¨èƒ½è‡ªåŠ¨æ¨å¯¼å‡º<code>a</code>æ˜¯æ•´æ•°ã€‚</li><li>Haskell é‡‡çº³äº†å¾ˆå¤šé«˜ç«¯ç¼–ç¨‹è¯­è¨€çš„æ¦‚å¿µï¼Œå› è€Œå®ƒçš„ä»£ç ä¼˜é›…ä¸”ç®€ç»ƒã€‚ä¸åŒå±‚æ¬¡çš„å‘½ä»¤å¼è¯­è¨€ç›¸æ¯”ï¼ŒHaskell çš„ä»£ç å¾€å¾€ä¼šæ›´çŸ­ï¼Œæ›´çŸ­å°±æ„å‘³ç€æ›´å®¹æ˜“ç†è§£ï¼Œbug ä¹Ÿå°±æ›´å°‘ã€‚</li></ul><p>Haskellè¯­è¨€å‘å±•ï¼š</p><ul><li>å§‹äº1987å¹´ã€‚</li><li>1997å¹´åº•ï¼Œè¯¥ç³»åˆ—å½¢æˆäº†Haskell 98ï¼Œæ—¨åœ¨å®šä¹‰ä¸€ä¸ªç¨³å®šã€æœ€å°åŒ–ã€å¯ç§»æ¤çš„è¯­è¨€ç‰ˆæœ¬ä»¥åŠç›¸åº”çš„æ ‡å‡†åº“ï¼Œä»¥ç”¨äºæ•™å­¦å’Œä½œä¸ºå°†æ¥æ‰©å±•çš„åŸºç¡€ã€‚å§”å‘˜ä¼šæ˜ç¡®æ¬¢è¿åˆ›å»ºå„ç§å¢åŠ æˆ–é›†æˆå®éªŒæ€§ç‰¹æ€§çš„Haskell 98çš„æ‰©å±•å’Œå˜ç§ã€‚</li><li>1999å¹´2æœˆï¼ŒHaskell 98è¯­è¨€æ ‡å‡†å…¬å¸ƒï¼Œåä¸ºã€ŠThe Haskell 98 Reportã€‹ã€‚2003å¹´1æœˆï¼Œã€ŠHaskell 98 Language and Libraries: The Revised Reportã€‹å…¬å¸ƒã€‚æ¥ç€ï¼ŒGlasgow Haskell Compiler (GHC)å®ç°äº†å½“æ—¶çš„äº‹å®æ ‡å‡†ï¼ŒHaskellå¿«é€Ÿå‘å±•ã€‚</li><li>Haskell 2010åŠ å…¥äº†å¤–éƒ¨å‡½æ•°æ¥å£ï¼ˆForeign Function Interfaceï¼ŒFFIï¼‰å…è®¸ç»‘å®šåˆ°å…¶å®ƒç¼–ç¨‹è¯­è¨€ï¼Œä¿®æ­£äº†ä¸€äº›è¯­æ³•é—®é¢˜ï¼ˆåœ¨æ­£å¼è¯­æ³•ä¸­çš„æ”¹åŠ¨ï¼‰å¹¶åºŸé™¤äº†ç§°ä¸ºâ€œnåŠ kæ¨¡å¼â€ï¼ˆæ¢è¨€ä¹‹ï¼Œä¸å†å…è®¸å½¢å¦‚fact (n+1) = (n+1) * fact nçš„å®šä¹‰ï¼‰ã€‚å¼•å…¥äº†è¯­è¨€çº§ç¼–è¯‘é€‰é¡¹è¯­æ³•æ‰©å±•ï¼ˆLanguage-Pragma-Syntax-Extensionï¼‰ï¼Œä½¿å¾—åœ¨Haskellæºä»£ç ä¸­å¯ä»¥æ˜ç¡®è¦æ±‚ä¸€äº›æ‰©å±•åŠŸèƒ½ã€‚</li></ul><h2 id="ç¯å¢ƒæ­å»º" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒæ­å»º"><span>ç¯å¢ƒæ­å»º</span></a></h2><p>ä½¿ç”¨ç›®å‰æœ€æµè¡Œçš„haskellç¼–è¯‘å™¨GHCï¼ˆThe Glasgow Haskell Compilerï¼‰ï¼Œæ˜¯å½“å‰æœ€å…ˆè¿›çš„å¼€æºçš„Haskellç¼–è¯‘å™¨å’Œäº¤äº’å¼æ‰§è¡Œç¯å¢ƒã€‚</p><ul><li>æ”¯æŒæ•´ä¸ªHaskell 2010æ ‡å‡†å’Œä¸€å¤§å †æ‰©å±•ã€‚</li><li>å¹¶è¡Œå’Œå¹¶å‘çš„è‰¯å¥½æ”¯æŒï¼ŒåŒ…æ‹¬STMã€‚</li><li>è·¨å¹³å°ï¼ŒWindowsã€Macã€Linuxã€å¤§éƒ¨åˆ†Unixç­‰å¹³å°ã€‚</li><li>GHCç¼–è¯‘å™¨å¯ä»¥ç›´æ¥ç¼–è¯‘ä¸ºæœ¬åœ°ä»£ç æˆ–è€…ä½¿ç”¨LLVMä½œä¸ºåç«¯ï¼Œå¯ä»¥ç”ŸæˆCä»£ç ä½œä¸ºä¸­é—´ç›®æ ‡ä»¥æ”¯æŒæ‰©å±•åˆ°æ–°çš„å¹³å°ã€‚åœ¨äº¤äº’å¼ç¯å¢ƒä¸­å°†Haskellç¼–è¯‘åˆ°å­—èŠ‚ç ï¼Œå¹¶æ”¯æŒå­—èŠ‚ç å’Œç¼–è¯‘ç¨‹åºçš„æ··åˆæ‰§è¡Œã€‚</li><li>æ”¯æŒProfilingï¼ˆæ€§èƒ½åˆ†æï¼‰ï¼Œæ—¶é—´ã€å†…å­˜ã€å¤šç§å †åˆ†æã€‚</li><li>GHCåŒ…å«å¤šä¸ªåº“ï¼Œæ›´å¤šåº“è¿˜å¯ä»¥åˆ°Hackageï¼ˆ<a href="https://hackage.haskell.org/" target="_blank" rel="noopener noreferrer">The Haskell Package Repository</a>ï¼‰ä¸Šå¯»æ‰¾ã€‚</li></ul><p>å®‰è£…ï¼š</p><ul><li>å½“å‰æ—¶åˆ»æœ€æ–°ç‰ˆæœ¬2021å¹´10æœˆ29æ—¥å‘å¸ƒçš„æ˜¯9.2.1ï¼Œ<a href="https://www.haskell.org/ghc/" target="_blank" rel="noopener noreferrer">GHCé¦–é¡µ</a>ã€‚</li><li>ä¸€èˆ¬ä¸ç›´æ¥å®‰è£…GHCï¼Œè€Œæ˜¯é€šè¿‡cabalæˆ–è€…Stackå®‰è£…GHCï¼Œè¿™æ ·å¯ä»¥ç®¡ç†é¡¹ç›®å¹¶ä¸”ç®¡ç†ç¬¬ä¸‰æ–¹åº“ä»Hackageæˆ–è€…Stackageçš„å®‰è£…ã€‚åªå®‰è£…GHCçš„è¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚</li></ul><h3 id="ä½¿ç”¨ghcupå®‰è£…" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ghcupå®‰è£…"><span>ä½¿ç”¨GHCupå®‰è£…</span></a></h3><ul><li>ä½¿ç”¨<a href="https://www.haskell.org/ghcup/install/" target="_blank" rel="noopener noreferrer">GHCup</a>ï¼ŒGHCupæ˜¯ä¸€ä¸ªå¸®åŠ©å®‰è£…Haskell GHCå·¥å…·é“¾çš„å·¥å…·ã€‚æ”¯æŒå®‰è£…çš„å·¥å…·é“¾ï¼š <ul><li>GHC</li><li>cabal-install</li><li>haskell-language-server</li><li>stack</li></ul></li><li>GHCupæä¾›äº†è¯¦ç»†çš„å®‰è£…æ–‡æ¡£ï¼š</li><li>Linuxä¸‹è¿è¡Œï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --proto</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;=https&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --tlsv1.2</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sSf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://get-ghcup.haskell.org</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Windowsä¸‹PowerShellä¸­è¿è¡Œï¼š</li></ul><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">Set-ExecutionPolicy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Bypass </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Scope </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Process</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Force;[</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">System.Net.ServicePointManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::SecurityProtocol </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">System.Net.ServicePointManager</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::SecurityProtocol </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-bor</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3072</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">Invoke-Command</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ScriptBlock ([</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ScriptBlock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]::Create((</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">Invoke-WebRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> https:</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">//</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">www.haskell.org</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ghcup</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sh</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">bootstrap</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">haskell.ps1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">UseBasicParsing))) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ArgumentList </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å› ä¸ºç½‘ç»œåŸå› ï¼ŒLinuxä¸Šå’ŒWindowsä¸Šéƒ½æ²¡æœ‰å®‰è£…æˆåŠŸã€‚</li><li>å¥½åƒå¯ä»¥æ¢æºè§£å†³ï¼Œå‚è€ƒ<a href="https://zh.z.haskell.world/guide01" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a>ï¼Œå°è¯•ç»“æœæ˜¯æ¢æºä¹‹åä»…GHCupæ˜¯ä»é•œåƒä¸‹è½½ï¼Œstackå’ŒGHCè¿˜æ˜¯ä»Githubä¸Šä¸‹è½½ï¼Œå•Šè¿™ã€‚</li><li>GHCupåªæ˜¯ä¸€ä¸ªå®‰è£…å·¥å…·ï¼Œä¸æ˜¯ä¸€å®šéœ€è¦ï¼Œè½¬ä¸ºç›´æ¥å®‰è£…stackã€‚</li></ul><h3 id="å®‰è£…stack" tabindex="-1"><a class="header-anchor" href="#å®‰è£…stack"><span>å®‰è£…stack</span></a></h3><p>ç‰¹æ€§ä¸æ–‡æ¡£ï¼š</p><ul><li><a href="https://www.youtube.com/watch?v=sRonIB8ZStw" target="_blank" rel="noopener noreferrer">ä¸€ä¸ªè§†é¢‘æ•™ç¨‹</a>ã€‚</li><li><a href="https://github.com/commercialhaskell/stack" target="_blank" rel="noopener noreferrer">stack</a>æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„Haskellé¡¹ç›®ç®¡ç†ã€ç¯å¢ƒç®¡ç†å·¥å…·ã€‚</li><li><a href="https://docs.haskellstack.org/en/stable/README/" target="_blank" rel="noopener noreferrer">stackæ–‡æ¡£</a>ã€‚</li><li>ç‰¹æ€§ï¼š <ul><li>å®‰è£…GHCåˆ°ä¸€ä¸ªç‹¬ç«‹ä½ç½®ã€‚</li><li>ä¸ºé¡¹ç›®å®‰è£…éœ€è¦çš„åŒ…ã€‚</li><li>æ„å»ºã€æµ‹è¯•é¡¹ç›®ã€‚</li><li>ä¸ºé¡¹ç›®åšBenchmarkã€‚</li></ul></li></ul><p>Windowsç¯å¢ƒï¼š</p><ul><li>Windowsä¸­ï¼šä¸‹è½½<a href="https://get.haskellstack.org/stable/windows-x86_64-installer.exe" target="_blank" rel="noopener noreferrer">Windows 64-bit Installer.</a>ã€‚é»˜è®¤ä¼šæ·»åŠ ç”¨æˆ·pathç¯å¢ƒå˜é‡ï¼Œå¹¶è®¾ç½®äº†ç”¨æˆ·ç¯å¢ƒå˜é‡<code>STACK_ROOT=C:\sr</code>è¡¨ç¤ºä½¿ç”¨stackå®‰è£…ç¨‹åºçš„ä½ç½®ã€‚ç”±äºWindowsä¸‹é»˜è®¤ç”±260å­—èŠ‚çš„è·¯å¾„é•¿åº¦é™åˆ¶ï¼Œä¸”stackç®¡ç†çš„æ–‡ä»¶é€šå¸¸å…·æœ‰è¾ƒæ·±çš„ç›®å½•å±‚æ¬¡ï¼Œæ‰€ä»¥è¿™é‡Œçš„ç›®å½•åå¾ˆçŸ­ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºå…¶ä»–ç›˜æˆ–è€…å…¶ä»–è·¯å¾„ã€‚</li><li>å‡çº§stackï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> upgrade</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ¢æºï¼š</p><ul><li><a href="https://mirrors.tuna.tsinghua.edu.cn/help/stackage/" target="_blank" rel="noopener noreferrer">æ›´æ¢stackçš„æºä¸ºæ¸…åæº</a>ï¼Œæ³¨æ„å…¶ä¸­ç»™å‡ºçš„é…ç½®æ–‡ä»¶ç›®å½•ä¸º<code>%APPDATA%\stack\config.yaml</code>ï¼Œä½†ç”±äºæˆ‘ä»¬ä¿®æ”¹äº†<code>%STACK_ROOT%</code>ï¼Œéœ€è¦ä¿®æ”¹çš„é…ç½®æ–‡ä»¶å…¶å®åœ¨<code>%STACK_ROOT%\config.yaml</code>ã€‚</li><li>æ¸…åçš„æºå­˜åœ¨ä¸€å®šé—®é¢˜ï¼Œæœ‰ä¸€äº›ä¸œè¥¿æ²¡æœ‰é•œåƒè¿‡æ¥ï¼Œé…ç½®ä¹Ÿæœ‰é—®é¢˜ï¼Œå®‰è£…GHCæ—¶ä¼šæœ‰é—®é¢˜ã€‚æäº†<a href="https://github.com/tuna/issues/issues/1379" target="_blank" rel="noopener noreferrer">Issue</a>ï¼Œä¸è¿‡ä¸€ç›´æ²¡è§£å†³ã€‚</li><li>å»ºè®®<a href="https://mirrors.ustc.edu.cn/help/stackage.html" target="_blank" rel="noopener noreferrer">æ›´æ¢ä¸ºä¸­ç§‘å¤§çš„æº</a>ï¼Œåˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚</li><li>æ³¨æ„é…ç½®æ–‡ä»¶ä½ç½® <ul><li>windowsä¸­åœ¨<code>%STACK_ROOT%\config.yaml</code>ã€‚</li><li>Linuxä¸­åœ¨<code>~/.stack/config.yaml</code>ã€‚</li></ul></li></ul><p>Linuxç¯å¢ƒï¼š</p><ul><li>é€”å¾„ä¸€ï¼šå®˜ç½‘å®‰è£…æ–¹æ³•ï¼Œç½‘ç»œåŸå› å¤±è´¥ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://get.haskellstack.org/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sh</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -qO-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://get.haskellstack.org/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€”å¾„äºŒï¼šåŒ…ç®¡ç†å™¨ï¼Œç‰ˆæœ¬æœ‰ç‚¹ä½ã€‚ä¸è¿‡å¯ä»¥å®‰è£…ï¼Œå¯ä»¥å®‰è£…ä¹‹åå†æ¢æºç„¶åæ›´æ–°ï¼Œæ³¨æ„ä¸åŒç‰ˆæœ¬çš„<code>config.yaml</code>æ–‡ä»¶é…ç½®æ–¹å¼å­˜åœ¨å·®å¼‚ï¼Œå‚è§é•œåƒçš„é…ç½®æŒ‡å¯¼ã€‚å°è¯•è¿‡ï¼Œä½†ä½ç‰ˆæœ¬çš„Stackæ›´æ–°è¿˜æ˜¯ä»Githubï¼Œè¿™ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> haskell-stack</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>é€”å¾„ä¸‰ï¼šç”±äºç½‘ç»œåŸå› æ˜¯åœ¨éš¾æï¼Œå¯ä»¥ä½¿ç”¨ä»£ç†ï¼Œæˆ–è€…ç›´æ¥ä»ä¸‹è½½å‹ç¼©åŒ…è§£å‹ï¼Œä»ä¸­ç§‘å¤§æºæ‰¾åˆ°æœ€æ–°ç‰ˆæœ¬stackçš„å‹ç¼©åŒ…ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.ustc.edu.cn/stackage/stack/stack-2.7.3-linux-x86_64-static.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>è§£å‹åå°†å•ä¸ªäºŒè¿›åˆ¶æ‹·è´åˆ°<code>/usr/bin/stack</code>ï¼Œåˆ›å»º<code>~/.stack/</code>å°±OKäº†ï¼Œ<code>stack</code>å®‰è£…ä¹‹åå°±åªæœ‰è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œå¸è½½çš„è¯ç›´æ¥æŠŠäºŒè¿›åˆ¶å’Œ<code>.stack/</code>ç›®å½•åˆ æ‰å°±è¶³å¤Ÿäº†ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stack-2.7.3-linux-x86_64-static.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stack-2.7.3-linux-x86_64-static/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/bin/stack</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨stackå®‰è£…ghc" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨stackå®‰è£…ghc"><span>ä½¿ç”¨stackå®‰è£…GHC</span></a></h3><ul><li>åˆ°<a href="https://www.stackage.org/" target="_blank" rel="noopener noreferrer">Stackage</a>æ‰¾åˆ°æœ€æ–°çš„LTSç‰ˆæœ¬ï¼Œå½“å‰æ˜¯18.17ï¼Œç„¶åå®‰è£…GHCï¼Œ<a href="https://docs.haskellstack.org/en/stable/GUIDE/#resolvers-and-changing-your-compiler-version" target="_blank" rel="noopener noreferrer">æ–‡æ¡£</a>ã€‚</li><li>å®‰è£…æŒ‡å®šLTSç‰ˆæœ¬çš„GHCï¼Œç›´æ¥<code>--resolver lts</code>åˆ™å®‰è£…æœ€æ–°çš„LTSç‰ˆæœ¬ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --resolver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lts-18.17</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> setup</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ä¹Ÿå¯ä»¥å®‰è£…æœ€æ–°çš„Nigthlyç‰ˆæœ¬ï¼Œå¥½åƒæ˜¯æ¯å¤©å‘å¸ƒï¼Œä¸€èˆ¬æ¥è¯´æ²¡æœ‰å¿…è¦å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œå®‰è£…æœ€æ–°çš„é•¿æœŸæ”¯æŒç‰ˆæ˜¯æœ€å¥½çš„ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --resolver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nigthly</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> setup</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>æ¸…åæºå­˜åœ¨é—®é¢˜ï¼Œè§£å†³é€”å¾„å¯ä»¥å‚è€ƒ<a href="https://krantz-xrf.github.io/2020/09/25/windows-install-stack-ghc.html" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a>ï¼Œä½¿ç”¨<a href="https://mirrors.ustc.edu.cn/help/stackage.html" target="_blank" rel="noopener noreferrer">ä¸­ç§‘å¤§çš„æº</a>åˆ™æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚</li><li>GHCçš„å®‰è£…è·¯å¾„åœ¨<code>stack path</code>ä¸­çš„<code>ghc-paths</code>ä¸­ã€‚</li><li>GHCç‰ˆæœ¬ï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ghc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>è¿›å…¥äº¤äº’å¼æ‰§è¡Œç¯å¢ƒï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ghci</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ç¦»å¼€äº¤äº’å¼ç¯å¢ƒï¼š<code>:q</code>ã€‚</li><li>å¦‚æœå¸Œæœ›ç›´æ¥<code>ghci ghc</code>å‘½ä»¤å¯åŠ¨ç¼–è¯‘å™¨æˆ–è€…äº¤äº’ç¯å¢ƒï¼Œå¯ä»¥å°†å…¶è·¯å¾„æ·»åŠ åˆ°pathå˜é‡ã€‚ä¸è¿‡è¿™æ ·æ˜¯ä¸èƒ½ä½¿ç”¨stackå®‰è£…çš„åŒ…çš„ï¼Œæ‰€ä»¥ä»…åœ¨éå¸¸æœ‰é™çš„èŒƒå›´å†…æµ‹è¯•æ—¶å¯ä»¥è¿™æ ·åšï¼Œæ›´å»ºè®®ä½¿ç”¨é€šè¿‡stackå¯åŠ¨ã€‚</li><li>åˆ°è¿™é‡ŒGHCå°±å®‰è£…æˆåŠŸäº†ï¼Œå’Œæˆ‘ä»¬æ‰‹åŠ¨ä»GHCçš„ç½‘ç«™ä¸Šä¸‹è½½è§£å‹é…ç½®å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡æ˜¯ç”¨stackæ¥ç®¡ç†äº†ã€‚</li><li>stackå¯ä»¥ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„GHCï¼Œä¸ºäº†é¿å…å†²çªï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œæ¥é€‰æ‹©ç‰ˆæœ¬ï¼š<code>stack --compiler ghc-8.8.4 exec ghci</code>ã€‚</li></ul><h3 id="å…³äºcabalå’Œstack" tabindex="-1"><a class="header-anchor" href="#å…³äºcabalå’Œstack"><span>å…³äºCabalå’Œstack</span></a></h3><ul><li>cabalæ˜¯å¦ä¸€ä¸ªåŒ…ç®¡ç†å’Œé¡¹ç›®å·¥å…·ï¼Œå’Œstackæœ‰åŒºåˆ«æœ‰è”ç³»ï¼Œcabalçš„åŒ…ç®¡ç†åº“æ˜¯Hackageï¼Œstackæ˜¯Stackageï¼ŒStackageå®˜ç½‘ä»‹ç»Stackageæ˜¯Hackageçš„å­é›†çš„åˆ†å‘ã€‚</li><li>éƒ½å¯ä»¥ç®¡ç†åŒ…ï¼Œéƒ½å¯ä»¥ç®¡ç†é¡¹ç›®ï¼Œä½¿ç”¨Stackè¿˜å¯ä»¥å®ç°åŒä¸€ä¸ªé¡¹ç›®å…¼å®¹ä¸¤ä¸ªå·¥å…·ã€‚ä½†stackå¥½åƒæ˜¯ä¸ºäº†è§£å†³cabalçš„æŸäº›ç—›ç‚¹ï¼Œå…·ä½“è¿˜æœªç ”ç©¶é‚£ä¹ˆæ·±ã€‚æš‚æ—¶æœªå®‰è£…cabalï¼Œä»…ä½¿ç”¨Stackã€‚</li></ul><h3 id="ghcåŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ghcåŸºæœ¬ä½¿ç”¨"><span>GHCåŸºæœ¬ä½¿ç”¨</span></a></h3><p>ç¼–è¯‘å™¨ä½¿ç”¨ï¼š</p><ul><li>æ–°å»ºæ–‡ä»¶<code>hello.hs</code></li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = print </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello,world&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ç¼–è¯‘æ‰§è¡Œï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ghc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hello.hs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./hello</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>äº¤äº’å¼æ‰§è¡Œç¯å¢ƒ</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ghci</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>GHCIä¸­åŠ è½½åŠ è½½<code>hello.hs</code>æ–‡ä»¶ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; :l hello.hs</span></span>
<span class="line"><span>[1 of 1] Compiling Main             ( hello.hs, interpreted )</span></span>
<span class="line"><span>Ok, one module loaded.</span></span>
<span class="line"><span>*Main&gt; main</span></span>
<span class="line"><span>&quot;hello,world&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>å­¦ä¹ ä¸­çš„æ­£å¸¸å·¥ä½œæµç¨‹å¯ä»¥æ˜¯åˆ›å»ºä¿®æ”¹<code>hs</code>æ–‡ä»¶ï¼Œghciä¸­é‡æ–°åŠ è½½ï¼Œæ‰§è¡Œç‰¹å®šå‡½æ•°ã€‚</p></li><li><p>GHCIå¸¸ç”¨å‘½ä»¤ï¼š</p><ul><li><code>:l :load</code> åŠ è½½</li><li><code>:r :reload</code> é‡è½½</li><li><code>:t :type</code> ç±»å‹ï¼Œé’ˆå¯¹å‡½æ•°</li><li><code>:i :info</code> ä¿¡æ¯ï¼Œé’ˆå¯¹å‡½æ•°ã€ç±»å‹ã€ç±»å‹ç±»ç­‰ã€‚</li><li><code>:k :kind</code> å¾—çŸ¥ä¸€ä¸ªç±»å‹çš„Kindã€‚</li></ul></li><li><p>æ›´æ”¹GHCIçš„æç¤ºç¬¦ï¼š</p></li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">:set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> prompt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ghci&gt; &quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ä»…æ‰§è¡Œhaskellè„šæœ¬ä¸ç¼–è¯‘ï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">runhaskell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hello.hs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åŒ…ï¼Œé€šè¿‡stackæ‰§è¡Œåˆ™å¯ä»¥åŒæ—¶åˆ—å‡ºé€šè¿‡stackå®‰è£…çš„æ‰€æœ‰åŒ…ï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ghc-pkg</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ghc-pkg</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>VsCodeç¯å¢ƒé…ç½®ï¼š</p><ul><li>å®‰è£…Haskellæ‰©å±•ã€‚</li><li>å®‰è£…Haskellæ’ä»¶åå°†ä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„Haskell Language Serverï¼Œä¹Ÿå¯ä»¥åœ¨æ’ä»¶è®¾ç½®ä¸­è¯­è¨€æœåŠ¡å™¨çš„è·¯å¾„ï¼ˆåªæœ‰ä¸€ä¸ªå…¨å±€è®¾ç½®ï¼Œæ— æ³•ä¸ºé¡¹ç›®è®¾ç½®ï¼‰ã€‚å¯ç”¨æ’ä»¶å°†ä¼šè‡ªåŠ¨å¼€å§‹Haskell Language Serverå­è¿›ç¨‹ï¼Œå°†ä¼šåƒæ‰å°†è¿‘1ä¸ªGå†…å­˜ï¼Œæä¾›è¡¥å…¨ã€æ±‚å€¼ã€ç±»å‹æ¨æ–­ç­‰æœåŠ¡ã€‚</li><li>ä»…ä»…å­¦ä¹ è¯­æ³•çš„è¯ï¼Œå¦‚æœæ¯æ¬¡æµ‹è¯•éƒ½å°†ç»“æœæ‰“å°å‡ºæ¥ï¼Œä¼šéå¸¸å†—ä½™ï¼Œåˆ©ç”¨VsCodeæ’ä»¶å’Œè¯­è¨€æœåŠ¡å™¨æä¾›çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨æ³¨é‡Šä¸­è¿›è¡Œæµ‹è¯•ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; 1 + 1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>{--}</code>æ³¨é‡Šä¸­åœ¨<code>&gt;&gt;&gt;</code>åè¾“å…¥éœ€è¦æµ‹è¯•çš„è¡¨è¾¾å¼ï¼Œè¯­è¨€æœåŠ¡å™¨ä¼šè‡ªåŠ¨æ±‚å€¼å¹¶å°†ç»“æœå¡«å†™åœ¨æ³¨é‡Šä¸­ï¼Œæ—¢èƒ½ä¿ç•™ä¸‹æµ‹è¯•ç»“æœï¼Œåˆä¸å½±å“ä¸»ä½“é€»è¾‘ï¼Œå’Œåœ¨<code>ghci</code>ä¸­è¿è¡Œæ˜¯ä¸€ä¸ªé“ç†ï¼Œä¿®æ”¹äº†ä»£ç åˆ·æ–°ä¸€ä¸‹ä¾¿ä¼šç«‹å³å¾—å‡ºæµ‹è¯•ç»“æœã€‚è¿™æ ·å°±ä¸éœ€è¦å†å†™å¾ˆå¤šå†—ä½™çš„ç®€å•æµ‹è¯•æ‰“å°ä»£ç äº†ï¼Œä¹Ÿä¸å¿…åœ¨æ¯ä¸ª<code>.hs</code>ä¸­éƒ½å®šä¹‰<code>main</code>ï¼Œå¦‚æœæ˜¯å•æ–‡ä»¶ç¼–è¯‘ï¼Œå’ŒCä¸€æ ·ä¸å®šä¹‰<code>main</code>æ˜¯é“¾æ¥ä¸è¿‡çš„ã€‚</li><li><code>&gt;&gt;&gt;</code>æµ‹è¯•ä¸­ä¸æ”¯æŒæ ‡å‡†è¾“å…¥è¾“å‡ºï¼Œ<a href="https://github.com/haskell/haskell-language-server/blob/master/plugins/hls-eval-plugin/README.md" target="_blank" rel="noopener noreferrer">æ›´å¤šè¯¦ç»†ä¿¡æ¯æŸ¥çœ‹æ–‡æ¡£</a>ã€‚</li></ul><h2 id="stackä½¿ç”¨æŒ‡å—" tabindex="-1"><a class="header-anchor" href="#stackä½¿ç”¨æŒ‡å—"><span>Stackä½¿ç”¨æŒ‡å—</span></a></h2><p>å‰æœŸå¯ä»¥ä½¿ç”¨å•æ–‡ä»¶GHCå‘½ä»¤è¡Œç¼–è¯‘åŠ ä¸ŠGHCIäº¤äº’ç¯å¢ƒå·²ç»å¤Ÿç”¨äº†ï¼Œåé¢å¿…ç„¶éœ€è¦äº†è§£å¦‚ä½•ç»„ç»‡é¡¹ç›®ï¼Œä½¿ç”¨stackç®¡ç†é¡¹ç›®å’Œç¯å¢ƒã€‚è¿™èŠ‚å†…å®¹åŸºæœ¬éƒ½ç¿»è¯‘è‡ªStackæ–‡æ¡£ã€‚</p><h3 id="å…³äºstack" tabindex="-1"><a class="header-anchor" href="#å…³äºstack"><span>å…³äºStack</span></a></h3><p>æ–‡æ¡£ï¼š</p><ul><li><a href="https://docs.haskellstack.org/en/stable/README/#quick-start-guide" target="_blank" rel="noopener noreferrer">Stackå¿«é€Ÿå…¥é—¨</a>ã€‚</li><li><a href="https://docs.haskellstack.org/en/stable/GUIDE/" target="_blank" rel="noopener noreferrer">Stack User Guide</a>ã€‚</li></ul><p>StackåŠŸèƒ½ï¼š</p><ul><li>ç®¡ç†GHCå·¥å…·é“¾ï¼ˆWindowsä¸­è¿˜åŒ…æ‹¬MSYSï¼‰ã€‚</li><li>æ„å»ºå’Œæ³¨å†Œåº“ã€‚</li><li>å¯ä»¥è¯´stackç®¡ç†æ‰€æœ‰åšHaskellå¼€å‘éœ€è¦çš„ä¸œè¥¿ã€‚</li></ul><p>Stackçš„è®¾è®¡ï¼š</p><ul><li>è®¾è®¡å“²å­¦æ˜¯å¯é‡ç”¨çš„æ„å»ºï¼Œä¹Ÿå°±æ˜¯è¯´ä»Šå¤©å’Œæ˜å¤©è¿è¡Œ<code>stack build</code>åº”è¯¥å¾—åˆ°åŒæ ·çš„ç»“æœã€‚æŸäº›æƒ…å†µä¸‹å¯èƒ½ä¼šæœ‰å˜åŒ–ï¼Œæ¯”å¦‚ä¿®æ”¹äº†æ“ä½œç³»ç»Ÿé…ç½®ï¼Œä½†æ•´ä½“ä¸Šæ¥è¯´stackåŸºæœ¬ä¸Šæ˜¯éµå¾ªè¿™æ¡è®¾è®¡å“²å­¦çš„ã€‚</li><li>ä¸ºäº†ç®€å•åœ°å®ç°è¿™ä¸€ç‚¹ï¼Œstackä½¿ç”¨ç²¾å¿ƒé€‰æ‹©å’Œç»„ç»‡çš„åŒ…é›†åˆç§°ä¹‹ä¸º<strong>snapshots</strong>ï¼ˆå¿«ç…§ï¼‰ã€‚</li><li>è¯»å®Œ<code>stack --help</code>ä¸­çš„å¸®åŠ©å°±è¶³å¤Ÿå¼€å§‹å’Œè¿è¡Œäº†ã€‚</li><li>æ ¹ç›®å½•ä¸­çš„<code>stack.yaml</code>ä¸»è¦ä¿å­˜é¡¹ç›®çš„ç¯å¢ƒï¼Œç§°ä¹‹ä¸º<strong>resolver</strong>ï¼Œæ ¹æ®å…¶ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯æ¥é€‰æ‹©è¦ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬ç¼–è¯‘å™¨å’Œåº“ã€‚</li><li>stackæ˜¯ç‹¬ç«‹çš„ï¼Œä¸ä¼šå½±å“å’Œå¹²æ‰°æœ¬åœ°ç‹¬ç«‹å®‰è£…çš„GHCæˆ–è€…cabalæˆ–è€…å…¶ä»–å®‰è£…å·¥å…·å®‰è£…çš„åŒ…å’Œç¼–è¯‘å™¨ã€‚</li><li>æ›´æ¨èåœ¨GNU/Linuxä¸Šä½¿ç”¨stackï¼ˆç‰¹åˆ«æ˜¯64ä½Ubuntuï¼‰ï¼Œstacké™¤äº†æå°‘æ•°å­å‘½ä»¤æ˜¯å¹³å°ç‰¹å®šçš„å¤–å‘½ä»¤åŸºæœ¬æ˜¯è·¨å¹³å°çš„ã€‚ä»£ç å¦‚æœè·¨å¹³å°çš„è¯ï¼Œé‚£é¡¹ç›®å°±å¯ä»¥è½»æ¾è·¨å¹³å°ã€‚</li></ul><h3 id="å¼€å§‹ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å¼€å§‹ä½¿ç”¨"><span>å¼€å§‹ä½¿ç”¨</span></a></h3><p>åŸºæœ¬å‘½ä»¤ï¼š</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> new</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-project</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-project</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> setup</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my-project-exe</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>stack new</code>æ–°å»ºé¡¹ç›®ã€‚</li><li><code>stack setup</code>ä¸‹è½½ç¼–è¯‘å™¨ï¼ˆå¦‚æœæœ‰å¿…è¦ï¼‰åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ä½ç½®ï¼ˆé»˜è®¤åœ¨<code>~/.stack</code>ï¼‰ï¼Œä¸ä¼šå¹²æ‰°ç³»ç»Ÿä¸­å·²æœ‰çš„å®‰è£…ï¼Œ<code>stack path</code>æŸ¥çœ‹è·¯å¾„ã€‚</li><li><code>stack build</code>æ„å»ºé¡¹ç›®ã€‚</li><li><code>stack exec my-project-exe</code>æ‰§è¡Œæ„å»ºå®Œæˆçš„é¡¹ç›®ï¼Œ<code>-exe</code>åŠ åœ¨é¡¹ç›®åç§°åï¼Œè¿™æ˜¯é»˜è®¤çš„æœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶åç§°ã€‚</li><li>ä½¿ç”¨<code>stack install &lt;package-name&gt;</code>å®‰è£…ä¸€ä¸ªåŒ…ã€‚</li><li><code>stack new</code>åˆ›å»ºçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ app</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”‚   â””â”€â”€ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Main.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hs</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ChangeLog.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">md</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LICENSE</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ my-project.cabal</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ package.yaml</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">README.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">md</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Setup.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hs</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ src</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”‚   â””â”€â”€ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Lib.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hs</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â”œâ”€â”€ stack.yaml</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â””â”€â”€ test</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    â””â”€â”€ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Spec.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> directories, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> files</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>stack build</code>ä¼šç”Ÿæˆ<code>.stack-work/</code>ç›®å½•ï¼Œä¾èµ–å’Œç”Ÿæˆæ–‡ä»¶éƒ½ä¼šè¢«æ”¾åœ¨è¿™é‡Œï¼Œé»˜è®¤ä¼šæ·»åŠ åˆ°<code>.gitignore</code>ã€‚</li><li>ç®¡ç†åº“ï¼šç¼–è¾‘<code>src/</code>ç›®å½•ã€‚</li><li><code>app/</code>ç›®å½•ä¸­åº”è¯¥ä»…åŒ…å«åªä¸å¯æ‰§è¡Œæ–‡ä»¶ç›¸å…³çš„å†…å®¹æ˜¯æœ€å®Œç¾çš„ã€‚</li><li>æ·»åŠ ä¾èµ–ï¼šç¼–è¾‘<code>package.yaml</code>çš„<code>dependencies</code>åŸŸã€‚</li><li>å†æ¬¡è¿è¡Œ<code>stack build</code>ï¼Œ<code>stack</code>ä¼šè‡ªåŠ¨æ›´æ–°<code>my-project.cabal</code>ï¼Œå¦‚æœæƒ³çš„è¯ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘<code>.cabal</code>ç„¶å<code>stack</code>ä¸ºä½ è‡ªåŠ¨æ›´æ–°<code>package.yaml</code>ã€‚è¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯<code>stack</code>å’Œ<code>cabal</code>çš„é¡¹ç›®æ–‡ä»¶ï¼Œ<code>stack</code>åŒæ—¶æä¾›æ”¯æŒã€‚</li><li>å¦‚æœé‡åˆ°ä¾èµ–çš„åŒ…ä¸åœ¨å½“å‰LTSç‰ˆæœ¬ä¸­æ—¶ï¼Œå¯ä»¥å°è¯•åœ¨<code>stack.yaml</code>ä¸­çš„<code>extra-deps</code>åŸŸä¸­æ·»åŠ æ–°ç‰ˆæœ¬ã€‚</li></ul><h3 id="åŸºæœ¬å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬å‘½ä»¤"><span>åŸºæœ¬å‘½ä»¤</span></a></h3><p>æ–°å»ºé¡¹ç›®ï¼š</p><ul><li><code>stack new PACKAGE_NAME [TEMPLATE_NAME]</code>ï¼Œä¸æŒ‡å®šæ¨¡æ¿ï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„æ¨¡æ¿ï¼Œæ›´å¤šæ¨¡æ¿ç›¸å…³ä¿¡æ¯æ‰§è¡Œ<code>stack templates</code>æŸ¥çœ‹ï¼Œæ¨¡æ¿ä¹Ÿå¯ä»¥æ˜¯æœ¬åœ°æ–‡ä»¶ã€è¿œç¨‹URLã€‚</li><li>å¦‚æœæœ€ç»ˆä¼šå‘å¸ƒçš„è¯åŒ…çš„åç§°å°±æ˜¯è¿™ä¸ª<code>PACKAGE_NAME</code>ï¼Œç”±å­—æ¯æ•°å­—å’Œè¿å­—ç¬¦ç»„æˆã€‚</li></ul><p>æ„å»ºé¡¹ç›®ï¼š</p><ul><li><code>stack build</code>ä¼šæŸ¥æ‰¾æœ¬åœ°æ²¡æœ‰çš„ä¾èµ–ï¼Œç„¶åè‡ªåŠ¨ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨<code>stack setup</code>åšè¿™ä¸€æ­¥ã€‚ç„¶åå¼€å§‹æ„å»ºã€‚</li><li>GHCè¢«ä¸‹è½½åˆ°å…¨å±€çš„stackè·¯å¾„ä¸­ï¼ŒWindowsä¸­æ˜¯<code>%LOCALAPPDATA%\Programs\stack\</code>ï¼Œè€ŒLinuxä¸­æ˜¯<code>~/.stack/programs/</code>ã€‚</li><li><code>stack ghc</code>æˆ–è€…<code>stack exec ghc</code>æ‰§è¡ŒGHCç¼–è¯‘å™¨ï¼Œè¿˜æœ‰<code>runhaskell runghc ghci</code>ç­‰å‘½ä»¤ã€‚</li><li>è§‚å¯Ÿ<code>stack build</code>çš„è¾“å‡ºï¼Œä¼šå‘ç°åŒæ—¶æ„å»ºäº†åº“å’Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé»˜è®¤æ¨¡æ¿ä¸­åˆ›å»ºäº†æ¨¡å—<code>Lib Main</code>ï¼Œå‰è€…æ˜¯åº“ï¼Œåè€…æ˜¯å¯æ‰§è¡Œæ–‡ä»¶åŒ…å«å…¥å£<code>main</code>ï¼Œå¹¶å°†å…¶å®‰è£…åˆ°äº†<code>./.stack-work/</code>ä¸­ã€‚</li><li>ç°åœ¨åœ¨ç›®å½•å†…æ‰§è¡Œ<code>stack exec PACKAGE_NAME-exe</code>å°±ä¼šæ‰§è¡Œç¨‹åºäº†ï¼ŒstackçŸ¥é“å»å“ªé‡Œæ‰¾è¿™ä¸ªæ–‡ä»¶ã€‚</li><li>åœ¨ç›®å½•å†…æ‰§è¡Œ<code>stack exec ghci</code>ä¼šç›´æ¥åŠ è½½å·²ç»ç¼–è¯‘çš„æ‰€æœ‰æ¨¡å—ã€‚</li><li>æ„å»ºå‘½ä»¤æ˜¯æ•´ä¸ªstackçš„æ ¸å¿ƒå’Œçµé­‚ï¼Œç”¨ä»¥æ„å»ºã€æµ‹è¯•ã€è·å–ä¾èµ–ç­‰ï¼Œè¿˜å¯ä»¥å®šåˆ¶ï¼Œæœ‰è®¸å¤šé«˜çº§çš„åŠŸèƒ½ã€‚</li><li>ä½¿ç”¨åŒæ ·çš„é€‰é¡¹è¿è¡Œ<code>stack build</code>ä¸¤æ¬¡ï¼Œé‚£ä¹ˆç¬¬äºŒæ¬¡åº”è¯¥ä»€ä¹ˆäº‹æƒ…ä¹Ÿä¸åšï¼Œæ„å»ºè¿è¡Œè¿‡ç¨‹åº”è¯¥æ˜¯å¯é‡å¤çš„ã€‚</li><li>åç»­ä¼šæ›´åŠ è¯¦ç»†åœ°ä»‹ç»ã€‚</li></ul><p>æµ‹è¯•é¡¹ç›®ï¼š</p><ul><li>ä»”ç»†çœ‹ä¼šå‘ç°æœ‰ä¸€ä¸ª<code>test/</code>ç›®å½•ï¼Œå…¶ä¸­ç”¨æ¥ç¼–å†™æµ‹è¯•ç”¨ä¾‹ã€‚</li><li>æ‰§è¡Œ<code>stack test</code>ä¼šå…ˆç¼–è¯‘å…¶ä¸­çš„ç¨‹åºï¼Œç„¶åå†æ‰§è¡Œã€‚å¯¹äº<code>build test</code>å­å‘½ä»¤ï¼Œå·²ç»æ„å»ºè¿‡çš„ç»„ä»¶ä¸ä¼šè¢«å†æ¬¡ç¼–è¯‘ï¼Œé™¤éç»è¿‡äº†ä¿®æ”¹ã€‚</li></ul><p><code>stack setup</code>:</p><ul><li><code>stack setup [GHC_VERSION]</code>å¯ä»¥å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„GHCï¼Œå…¶ä»–é€‰é¡¹å¯ä»¥æŸ¥çœ‹å¸®åŠ©ã€‚</li><li><code>stack exec -- which ghc</code>å¯ä»¥æŸ¥çœ‹GHCå®‰è£…è·¯å¾„ï¼ˆLinuxï¼‰ï¼Œæˆ–è€…<code>stack path</code>ã€‚</li></ul><p>æ¸…ç†é¡¹ç›®ï¼š</p><ul><li><code>stack clean</code>æ¸…ç†å·¥ä½œç›®å½•ï¼Œæ¸…ç†ç¼–è¯‘å™¨è¾“å‡ºæ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯<code>.stack-work/dist/</code>ã€‚</li><li><code>stack clean &lt;specific-package&gt;</code>ä¸ºç‰¹å®šçš„åŒ…åšæ¸…ç†ã€‚</li><li><code>stack purge</code>æ¸…ç†å¾—æ›´å½»åº•ï¼Œä¼šç›´æ¥å°†æ•´ä¸ª<code>.stack-work/</code>åˆ æ‰ï¼ŒåŒ…æ‹¬exrea-depsï¼Œgitä¾èµ–å’ŒåŒ…æ‹¬æ—¥å¿—åœ¨å†…çš„ç¼–è¯‘å™¨è¾“å‡ºã€‚ä½†ä¸ä¼šåˆ é™¤å·²ç»å®‰è£…çš„åŒ…çš„å¿«ç…§ï¼Œç¼–è¯‘å™¨æˆ–è€…ä½¿ç”¨<code>stack install</code>å®‰è£…çš„åŒ…ã€‚è®©é¡¹ç›®å›åˆ°æœªè¿›è¡Œ<code>stack build</code>çš„çŠ¶æ€ï¼Œæ˜¯<code>stack clean --full</code>çš„åˆ«åã€‚</li></ul><p>ä¸åŒçš„æ•°æ®åº“ï¼š</p><ul><li>åœ¨é¡¹ç›®å†…æ‰§è¡Œ<code>stack exec -- ghc-pkg list</code>ï¼Œä¼šçœ‹åˆ°ä¸åŒå±‚çº§çš„åŒ…ã€‚</li><li>ä¸‰ä¸ªä¸åŒä½ç½®ï¼š <ul><li>GHCå®‰è£…ä½ç½®ï¼š<code>.stack/programs/...</code>(Linux)æˆ–è€…<code>%LOCALAPPDATA%\programs\stack\...</code>(Windows)ã€‚ç¼–è¯‘å™¨è‡ªå¸¦ã€‚</li><li>stackå®‰è£…æ–°åŒ…çš„ä½ç½®<code>.stack/snapshots/</code>(Linux)æˆ–è€…<code>%STACK_ROOT%\snapshots\</code>(Windows)ã€‚é€šè¿‡<code>stack install</code>å®‰è£…ã€‚</li><li>æœ¬åœ°é¡¹ç›®ä¸­ç”Ÿæˆçš„ã€‚</li></ul></li><li>ä¸åŒçš„é¡¹ç›®ä½¿ç”¨åŒä¸€ä¸ªåŒ…æ˜¯å¯ä»¥å¤ç”¨ä½†åˆä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚</li></ul><p>å‘½ä»¤åˆ«åï¼š</p><ul><li>ä¸€äº›å‘½ä»¤æ˜¯ç”±åˆ«åå®šä¹‰çš„ï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    Build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> package</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> directory/configuration</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                  Shortcut</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;build --copy-bins&#39;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">  test</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                     Shortcut</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;build --test&#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  bench</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    Shortcut</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;build --bench&#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  haddock</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                  Shortcut</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;build --haddock&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…·ä½“å«ä¹‰å¯æŸ¥çœ‹å¸®åŠ©ï¼Œ<a href="https://github.com/haskell/haddock" target="_blank" rel="noopener noreferrer">Haddock</a>æ˜¯ä»Haskellæºç ç”ŸæˆHaskellæ–‡æ¡£çš„æ ‡å‡†å·¥å…·ã€‚</li><li><code>install / --copy-bins</code>ä»…åšä¸€ä»¶äº‹æƒ…ï¼ˆå¹¶éä¸‹è½½ï¼‰ï¼Œå°±æ˜¯å°†ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ°æœ¬åœ°<code>bin</code>è·¯å¾„ã€‚å¯ä»¥é€šè¿‡<code>stack path --local-bin</code>è·å–ã€‚æ‰€æœ‰æ–‡æ¡£ä¸­ä¼šå»ºè®®å°†è¿™ä¸ªè·¯å¾„æ·»åŠ åˆ°<code>path</code>ç¯å¢ƒå˜é‡ã€‚è¿™ä¸ªç‰¹æ€§å¾ˆæ–¹ä¾¿ï¼Œä¸€äº›åŒ…åœ¨å®‰è£…æ—¶å°±ä¼šåšè¿™æ ·çš„äº‹æƒ…ï¼Œæ·»åŠ ä¹‹åå°±å¯ä»¥ä½¿ç”¨<code>executable-name</code>æ‰§è¡Œï¼Œè€Œä¸å†éœ€è¦åœ¨é¡¹ç›®å†…æ‰§è¡Œ<code>stack exec executable-name</code>ã€‚</li></ul><p>çµæ´»åœ°æ„å»ºï¼š</p><ul><li>é€šè¿‡å‘½ä»¤å‚æ•°å¯ä»¥å®ç°éå¸¸çµæ´»åœ°æ„å»ºã€‚</li><li>æŒ‡å®šåŒ…åï¼š<code>stack build package-name</code>ï¼ŒåŒ…ä¸ä»…å¯ä»¥æ˜¯æœ¬åœ°çš„ï¼Œè¿˜å¯ä»¥åœ¨<code>extra-deps</code>ä¸­ï¼Œsnapshotä¸­ï¼Œæˆ–è€…ä»…ä»…æ˜¯åœ¨ç½‘ç»œçš„ä¸Šæ¸¸ã€‚å¦‚æœåœ¨ç½‘ç»œä¸Šå¹¶ä¸”æ²¡æœ‰åœ¨æœ¬åœ°æˆ–è€…snapshotå’Œextra-depsä¸­ï¼Œé‚£ä¹ˆä¼šè‡ªåŠ¨æ·»åŠ åˆ°<code>extra-deps</code>ä¸­ï¼ˆè¯•éªŒä¸­å¥½åƒå¹¶ä¸ä¼šï¼‰ã€‚</li><li>æœ€çµæ´»çš„åœ°æ–¹æ¥è‡ª<code>stack build helloworld:test:helloworld-test</code>æŒ‡å®šç»„ä»¶æ„é€ ï¼Œå«ä¹‰æ˜¯æ„å»º<code>helloworld</code>åŒ…ä¸­<code>helloworld-test</code>çš„æµ‹è¯•ç»„ä»¶ã€‚å¯ä»¥ç®€å†™ä¸º<code>stack build helloworld:helloworld-test</code>è®¾ç½®<code>stack build :helloworld-test</code>ã€‚</li><li>ä¹Ÿå¯ä»¥æŒ‡å®šç›®å½•æ„å»ºï¼Œåªè§¦å‘è¯¥ç›®å½•å’Œå…¶å­ç›®å½•çš„æ„å»ºã€‚ä»…æ„å»ºå½“å‰æ‰€åœ¨ç›®å½•å¯ä»¥ç”¨<code>stack build .</code>ã€‚</li><li>ä¸æŒ‡å®šå‚æ•°å’ŒåŒæ—¶æŒ‡å®šæ‰€æœ‰åŒ…åä¸ºå‚æ•°æ˜¯åŒä¸€å«ä¹‰ã€‚</li><li>è¿™é‡Œè¯´ç»„ä»¶å…¶å®å°±æ˜¯æŒ‡å…¶ä¸­çš„æ¨¡å—ï¼Œæ¯”å¦‚é»˜è®¤æ¨¡æ¿ä¸­å°±ä¼šç”Ÿæˆ<code>Lib Main</code>æ¨¡å—ã€‚</li><li><code>stack ide targets</code>å¯ä»¥çœ‹åˆ°æ‰€æœ‰ç›®æ ‡ã€‚</li></ul><p>æ„å»ºæµ‹è¯•å’ŒBenchmarkï¼š</p><ul><li><code>stack build</code>ä¼šæ„å»ºæ‰€æœ‰åº“ï¼ˆå¦‚æœæœ‰ï¼‰ã€å¯æ‰§è¡Œæ–‡ä»¶ä½†æ˜¯ä¼šå¿½ç•¥Test Suiteå’ŒBenchmarkã€‚</li><li>å¦‚æœè¦æ„å»ºæµ‹è¯•ç”¨ä¾‹å’Œæ€§èƒ½æµ‹è¯•å¯ä»¥ä½¿ç”¨<code>--test</code> <code>--bench</code>å‚æ•°ï¼ŒåŠ è¿›æ¥ä¹‹åå°±ä¼šä¸€èµ·æ„å»ºäº†<code>stack build --test helloworld</code>ã€‚</li><li>ç›´æ¥æŒ‡å®šæµ‹è¯•ç»„ä»¶åˆ™ä¸ä¼šåŒæ—¶æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶<code>stack build :helloworld-test</code>ã€‚ï¼ˆæ–‡æ¡£ä¸­è¿™æ ·è¯´ï¼Œä½†æ˜¯åœ¨æˆ‘æœ¬åœ°å´åŒæ—¶æ„å»ºäº†ï¼Œå°½ç®¡å¹¶ä¸ä¾èµ–ï¼‰ï¼Œæ„å»ºæµ‹è¯•å¥—ä»¶ä¹‹åä¼šæ‰§è¡Œï¼ŒbenchmarkåŒç†ï¼Œå¯ä»¥ä½¿ç”¨<code>--no-run-tests --no-run-benchmarks</code>æ¥è®©ä»–ä»¬ä¸è¦è¿è¡Œã€‚</li><li>stackä¸ä¼šä¸ºéæœ¬åœ°é¡¹ç›®æ„å»ºæµ‹è¯•å¥—ä»¶å’Œæ€§èƒ½æµ‹è¯•ã€‚</li></ul><h3 id="é¡¹ç›®é…ç½®" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®é…ç½®"><span>é¡¹ç›®é…ç½®</span></a></h3><p>ä»”ç»†çœ‹ç›®å½•ç»“æ„ï¼š</p><ul><li><code>app/Main.hs src/Lib.hs test/Spec.hs</code>æ˜¯æºæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ã€åº“ã€æµ‹è¯•é€»è¾‘çš„ä»£ç ï¼Œæ˜¯é¡¹ç›®çš„åŠŸèƒ½ä»£ç ã€‚</li><li><code>LICENSE README.md ChangeLog.md</code>æ˜¯å¥‘åˆå¼€æºé¡¹ç›®çš„ä¿¡æ¯ï¼Œä¸å‚ä¸æ„å»ºã€‚</li><li><code>my-project.cabal</code>æ˜¯å¦ä¸€ä¸ªæ„å»ºå·¥å…·Cabalçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨<code>stack build</code>è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä¸åº”è¯¥ä¿®æ”¹ã€‚</li><li>æ ¸å¿ƒé¡¹ç›®é…ç½®æ–‡ä»¶æ˜¯<code>Setup.hs stack.yaml package.yaml</code>ã€‚ <ul><li><code>Setup.hs</code>æ˜¯Cabalæ„å»ºç³»ç»Ÿçš„ä¸€ä¸ªç»„ä»¶ï¼Œä»æŠ€æœ¯ä¸Šæ¥è¯´stackå¹¶ä¸éœ€è¦è¿™ä¸ªæ–‡ä»¶ï¼Œä½†åŒ…å«è¿™ä¸ªæ–‡ä»¶ä¾ç„¶æ˜¯ä¸€ä¸ªå¥½çš„å®è·µã€‚</li><li><code>stack.yaml</code>ä¸­ä¿¡æ¯å¹¶ä¸å¤šï¼Œä½†æ³¨é‡Šå¾ˆå¤šã€‚ç›®å‰ä¸»è¦çœ‹ä¸¤ä¸ªåŸŸï¼š<code>packages</code>å‘Šè¯‰stackæ„å»ºæœ¬åœ°é¡¹ç›®ä¸­çš„å“ªäº›åŒ…ï¼Œä»…æœ‰ä¸€ä¸ªåŒ…çš„è¯ï¼Œä¸€ä¸ª<code>.</code>å°±è¶³å¤Ÿã€‚ä½†stackæ˜¯æ”¯æŒåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­åŒ…å«å¤šä¸ªåŒ…çš„ã€‚å¦ä¸€ä¸ªåŸŸ<code>resolver</code>ï¼ŒstackæŒ‰è¿™ä¸ªåŸŸç¡®å®šæ„å»ºé¡¹ç›®ä½¿ç”¨çš„GHCç‰ˆæœ¬å’ŒåŒ…çš„ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯Stackageçš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚lts-18.17å°±å¯¹åº”ghc-8.10.7ï¼Œ<code>setup</code>æ˜¯æ ¹æ®è¿™ä¸ªä¿¡æ¯å»ä¸‹è½½GHCçš„ï¼Œåœ¨<a href="https://www.stackage.org/" target="_blank" rel="noopener noreferrer">Stackageå®˜ç½‘</a>ä¸Šèƒ½å¤Ÿçœ‹åˆ°ã€‚</li><li><code>package.yaml</code>åˆ™æ˜¯å…³äºåŒ…çš„ä¿¡æ¯ï¼Œæ˜¯ç”±å†…å»ºåœ¨stackä¸­çš„<a href="https://github.com/sol/hpack" target="_blank" rel="noopener noreferrer">hpack tool</a>æä¾›çš„ã€‚é»˜è®¤è¡Œä¸ºæ˜¯ä»<code>package.yaml</code>ç”Ÿæˆ<code>.cabal</code>ï¼Œè€Œä¸å»æ›´æ”¹<code>.cabal</code>ã€‚</li></ul></li><li>stackæ˜¯åŸºäºCabalçš„ï¼ŒCabalä¸­ï¼Œæ¯ä¸ªåŒ…ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„<code>.cabal</code>æ–‡ä»¶æè¿°ï¼Œå…¶ä¸­åŒ…å«å¤šä¸ªç»„ä»¶ï¼šåº“ã€å¯æ‰§è¡Œæ–‡ä»¶ã€æµ‹è¯•å¥—ä»¶ã€benchmarkï¼Œè¿˜æœ‰å…¶ä»–ä¿¡æ¯ï¼Œæ¯”å¦‚åº“ä¾èµ–ã€é»˜è®¤ç¼–è¯‘é€‰é¡¹ç­‰ã€‚</li><li>æœ€é‡è¦çš„æ˜¯éœ€è¦çŸ¥é“å¦‚ä½•ä¿®æ”¹<code>package.yaml</code>ä¸­çš„å¿…è¦é…ç½®ã€‚å¯ä»¥åœ¨<a href="https://github.com/sol/hpack#quick-reference" target="_blank" rel="noopener noreferrer">Hpack æ–‡æ¡£</a>ä¸­æ‰¾åˆ°æ‰€æœ‰å¯ç”¨é€‰é¡¹ã€‚</li></ul><p>æ·»åŠ ä¾èµ–ï¼š</p><ul><li><code>package.yaml</code>çš„<code>dependencies</code>åŸŸï¼š</li></ul><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependencies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">base &gt;= 4.7 &amp;&amp; &lt; 5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">text</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">random</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># add more dependencies here</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨äº†æ–°çš„åŒ…æ—¶éœ€è¦åœ¨æ­¤å¤„æ·»åŠ ä¾èµ–ï¼Œå¯ä»¥æŒ‡å®šç‰ˆæœ¬ï¼Œå†æ¬¡è¿è¡Œ<code>stack build</code>å°†ä¼šå®‰è£…ã€‚</li><li>åˆ—å‡ºæ‰€æœ‰ä¾èµ–ï¼š<code>stack ls dependencies</code>ã€‚</li></ul><p><strong>extrs-deps</strong>ï¼š</p><ul><li>å¦‚æœæ·»åŠ ä¸€ä¸ªä¾èµ–:</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Lib</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">someFunc</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Acme.Missiles</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">someFunc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">someFunc = launchMissiles</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependencies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">base &gt;= 4.7 &amp;&amp; &lt; 5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">acme-missiles</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ‰§è¡Œ<code>stack build</code>å´æŠ¥é”™äº†ã€‚åŸå› å°±åœ¨äº<a href="https://github.com/commercialhaskell/lts-haskell#readme" target="_blank" rel="noopener noreferrer">LTS resolver</a>ï¼Œ<code>stack new</code>åˆ›å»ºé¡¹ç›®æ—¶æ˜¯é€‰æ‹©äº†å½“å‰çš„LTSç‰ˆæœ¬çš„ï¼Œæ¯ä¸ªLTSéƒ½æœ‰è‡ªå·±çš„ç²¾å¿ƒç»´æŠ¤çš„åŒ…çš„é›†åˆã€‚å¦‚æœä¾èµ–ä¸­çš„åŒ…ä¸åœ¨è¿™ä¸ªé›†åˆä¸­é‚£ä¹ˆå³ä½¿æ·»åŠ åˆ°äº†<code>dependencies</code>ä¸­ä¹Ÿä¼šæŠ¥é”™ã€‚</li><li>å½“å‰ç‰ˆæœ¬å·²ç»ä¸åŒ…å«è¿™ä¸ªåŒ…äº†ï¼Œæ‰€ä»¥è‡ªç„¶ä¸è¡Œï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨åˆ°<code>stack.yaml</code>çš„<code>extra-deps</code>åŸŸï¼Œç”¨æ¥å®šä¹‰ä¸åœ¨å½“å‰LTS resolverä½†æ˜¯åœ¨<a href="https://hackage.haskell.org/package/acme-missiles" target="_blank" rel="noopener noreferrer">Hackage</a>ä¸­çš„åŒ…ã€‚æ·»åŠ ä¹‹åå†æ¬¡<code>stack build</code>å°±ä¼šæˆåŠŸã€‚</li></ul><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">extra-deps</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">acme-missiles-0.3</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # not in the LTS</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Stackageæ˜¯Stable sets of Haskell Packages from Hackageï¼Œæ‰€ä»¥è¿™æ ·çš„éœ€æ±‚å¯èƒ½ä¼šå¸¸é‡åˆ°ã€‚</li></ul><p>å…³äºLTS resolverï¼š</p><ul><li>åœ¨<a href="https://www.stackage.org/lts" target="_blank" rel="noopener noreferrer">Stackå®˜ç½‘</a>å¯ä»¥æ‰¾åˆ°æœ€æ–°çš„LTSï¼Œ<code>resolver</code>çš„å€¼æ˜¯<code>resolver: lts-18.17</code>ï¼Œåœ¨<code>setup</code>æ—¶ä¼šç”¨åˆ°ã€‚å…¶ä½¿ç”¨çš„GHCç‰ˆæœ¬ï¼Œç„¶åå…¶ä¸­å¯ç”¨çš„åŒ…çš„é›†åˆï¼ˆå¿«ç…§ï¼ŒSnapshotsï¼‰ï¼Œå¯ä»¥é€šè¿‡Hoogleæœç´¢è¿™ä¸ªå¿«ç…§ã€‚</li><li>ç‚¹å¼€æŸä¸€ä¸ªåŒ…ï¼Œå¯ä»¥çœ‹åˆ°å…¶ä¸­å¯ç”¨çš„æ¨¡å—ï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯å¯ä»¥ç¡®å®šè¦å°†é‚£ä¸ªåŒ…åŠ å…¥åˆ°<code>package.yaml</code>ä¸­ã€‚</li><li>ä¼šæ³¨æ„åˆ°æœ‰<a href="https://github.com/commercialhaskell/lts-haskell#readme" target="_blank" rel="noopener noreferrer">LTS</a>ï¼ˆLong Term Supportï¼‰å’ŒNighthlyçš„åŒºåˆ†ï¼Œä¸€èˆ¬ä½¿ç”¨é•¿æœŸæ”¯æŒç‰ˆï¼Œstackä¹Ÿä¼šé»˜è®¤ä½¿ç”¨LTSã€‚</li></ul><p>ä¿®æ”¹ç¼–è¯‘å™¨ç‰ˆæœ¬ï¼š</p><ul><li>å½“å‰ä½¿ç”¨<code>lts-18.17</code>å¦‚æœæˆ‘æƒ³æ¢æˆNighthlyç‰ˆæœ¬ï¼Œé‚£ä¹ˆåªéœ€è¦å°†<code>stack.yaml</code>ä¿®æ”¹ä¸€ä¸‹ï¼šå¯ä»¥æŒ‡å®šä¸ºLTSç‰ˆæœ¬ã€Nightlyæˆ–è€…GHCç‰ˆæœ¬éƒ½å¯ä»¥ã€‚</li></ul><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">resolver</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nightly-2020-02-08</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>è¿è¡Œ<code>stack build</code>å°†ä¸‹è½½å¯¹åº”çš„GHCå’Œä¾èµ–çš„åº“ï¼Œé€‰è¿™ä¸ªç‰ˆæœ¬ä¹Ÿæ˜¯å› ä¸º<a href="https://github.com/commercialhaskell/stackage-snapshots" target="_blank" rel="noopener noreferrer">æœ€æ–°çš„Nightlyç‰ˆæœ¬</a>TUNAå’Œä¸­ç§‘å¤§æ²¡æœ‰é•œåƒç”¨ä¸äº†ï¼Œä»…é€‰ä¸€ä¸ªæœ‰é•œåƒçš„ç‰ˆæœ¬åšæµ‹è¯•è€Œå·²ï¼Œå®è·µä¸­è¿˜æ˜¯ä½¿ç”¨LTSæœ€å¥½ã€‚</li><li>åœ¨å‘½ä»¤ä¸­ä½¿ç”¨<code>--resolver</code>é€‰é¡¹æ—¶ï¼Œå¯ä»¥ç”¨<code>nightly</code>å‚æ•°æŒ‡ä»£æœ€æ–°Nightlyç‰ˆæœ¬ï¼Œ<code>lts</code>æŒ‡ä»£æœ€æ–°LTSç‰ˆæœ¬ï¼Œ<code>lts-2</code>æŒ‡ä»£<code>lts-2.x.x</code>çš„æœ€æ–°ç‰ˆæœ¬ã€‚ä¸å¯ç”¨äº<code>stack.yaml</code>ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --resolver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lts-2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Nightlyçš„ç‰ˆæœ¬æ˜¯æŒ‰ç…§æ—¥æœŸå‘½åçš„ï¼Œ<code>nightly-YYYY-MM-DD</code>ï¼ŒLTSå’ŒGHCåˆ™æ˜¯å‘ä¸Šèµ°çš„ç‰ˆæœ¬å·<code>lts-X.Y</code> <code>ghc-X.Y.Z</code>ã€‚</li></ul><p>æœ¬åœ°å’Œè¿œç¨‹çš„ä¾èµ–ï¼š</p><ul><li>stackå¯ä»¥ç®¡ç†å¤šä¸ªåŒ…ï¼Œå¦‚æœä½ å°†å¤šä¸ªåŒ…<code>unpack</code>åˆ°æœ¬åœ°ï¼Œé‚£ä¹ˆ<code>packages</code>åŸŸå°†ä¼šæœ‰å¤šä¸ªåŒ…ã€‚</li><li>éœ€è¦åŒºåˆ†ä¾èµ–çš„æ˜¯æœ¬åœ°çš„åŒ…è¿˜æ˜¯ä¸Šæ¸¸çš„åŒ…ï¼ˆæ„å»ºæ—¶ä¸‹è½½åˆ°æœ¬åœ°snapshotsï¼‰ã€‚</li></ul><h3 id="è¿è¡Œç°æœ‰çš„é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œç°æœ‰çš„é¡¹ç›®"><span>è¿è¡Œç°æœ‰çš„é¡¹ç›®</span></a></h3><p>æ¥æ„å»ºä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œè¿™é‡Œé€‰æ‹©<a href="https://www.stackage.org/package/yackage" target="_blank" rel="noopener noreferrer">yackage</a>ï¼Œä¸ºäº†è·å–åˆ°å‘å¸ƒåˆ°Stackageçš„ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨<code>stack unpack</code>ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>stack unpack yackage-0.8.1 [--to yourDir]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ä¹Ÿå¯ä»¥ç›´æ¥<code>git clone</code>ï¼Œå¯ä»¥çœ‹åˆ°å…¶ä¸­æ²¡æœ‰<code>stack.yaml</code>ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>stack init</code>ï¼š</li><li><code>stack init</code>ä¼šç”Ÿæˆ<code>stack.yaml</code>ï¼Œå¹¶å°è¯•ä½¿ç”¨ä¸€ä¸ªæœ€åŒ¹é…çš„LTSæˆ–è€…Nightlyç‰ˆæœ¬ï¼š</li><li>ä¹Ÿå¯ä»¥æŒ‡å®šresolverç‰ˆæœ¬ï¼š</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --resolver</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">r&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ç”±äºå„ç§åŸå› ï¼Œæœ¬åœ°æ„å»ºå¤±è´¥äº†ï¼Œç•¥è¿‡ã€‚</li></ul><h3 id="ç¼–è¯‘é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘é€‰é¡¹"><span>ç¼–è¯‘é€‰é¡¹</span></a></h3><p>ä¸¤ç§æ–¹å¼æ›´æ”¹ä¸€ä¸ªåŒ…å®‰è£…çš„æ–¹å¼ï¼šCabalæ ‡å¿—å’ŒGHCé€‰é¡¹ã€‚</p><ul><li>å‰è€…ä¸ºæ¯ä¸€ä¸ªé¡¹ç›®è®¾ç½®ï¼Œæ„å‘³ç€ç¼–è¯‘<code>yackage</code>æ—¶<code>-</code>å…³æ‰<code>upload</code>é€‰é¡¹ï¼Œè¯´å®è¯æ²¡å¤ªææ‡‚ä»€ä¹ˆæ„æ€ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --flag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yackage:-upload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>GHCé€‰é¡¹å’ŒCabalçš„æ ‡å¿—ç±»ä¼¼ï¼Œä½†æœ‰ä¸€äº›æ”¹å˜ï¼Œ<a href="https://docs.haskellstack.org/en/stable/yaml_configuration/#ghc-options" target="_blank" rel="noopener noreferrer">æ–‡æ¡£</a>ã€‚GHCçœ‹æ¥ä¹Ÿè¿˜æ˜¯è¦å­¦ä¹ ä¸€ä¸‹ï¼Œç¼–è¯‘é€‰é¡¹ï¼ŒåŸºæœ¬ä½¿ç”¨ä¹‹ç±»çš„ï¼Œæ¯•ç«Ÿstackä¹Ÿæ˜¯è°ƒç”¨çš„GHCå»ç¼–è¯‘ã€‚</li><li>è¿™ä¸€èŠ‚éƒ½å°šä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œéœ€è¦å®è·µåè¡¥å……ç»†èŠ‚ã€‚</li></ul><h3 id="è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#è·¯å¾„"><span>è·¯å¾„</span></a></h3><p>ä¸€èˆ¬æ¥è¯´ä¸éœ€è¦çŸ¥é“stackå­˜äº†ä¸€äº›ä»€ä¹ˆæ–‡ä»¶åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œ<code>stack path</code>å¯ä»¥å¾ˆå¤šå¥½çš„å±•ç¤ºè¿™äº›è·¯å¾„ï¼š</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tch@KillingBoat:~$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> path</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">snapshot-doc-root:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/snapshots/x86_64-linux-tinfo6/92a82299ffe7e01dd411553be385541e3e9cf3a60cd0bd12003f0fa41dfe1b7a/8.10.7/doc</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">local-doc-root:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/global-project/.stack-work/install/x86_64-linux-tinfo6/92a82299ffe7e01dd411553be385541e3e9cf3a60cd0bd12003f0fa41dfe1b7a/8.10.7/doc</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">local-hoogle-root:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/global-project/.stack-work/hoogle/x86_64-linux-tinfo6/92a82299ffe7e01dd411553be385541e3e9cf3a60cd0bd12003f0fa41dfe1b7a/8.10.7</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack-root:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">project-root:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/global-project</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">config-location:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/global-project/stack.yaml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin-path:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/snapshots/x86_64-linux-tinfo6/82db7b2595a76656db6d1508a5dd57aced5d628188b355b35247c7fd357c1396/8.10.7/bin:/home/tch/.stack/compiler-tools/x86_64-linux-tinfo6/ghc-8.10.7/bin:/home/tch/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.7/bin:/home/tch/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">programs:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/programs/x86_64-linux</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">compiler-exe:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.7/bin/ghc-8.10.7</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">compiler-bin:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.7/bin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">compiler-tools-bin:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/compiler-tools/x86_64-linux-tinfo6/ghc-8.10.7/bin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">local-bin:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.local/bin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">extra-include-dirs:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">extra-library-dirs:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">snapshot-pkg-db:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/snapshots/x86_64-linux-tinfo6/82db7b2595a76656db6d1508a5dd57aced5d628188b355b35247c7fd357c1396/8.10.7/pkgdb</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">local-pkg-db:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/global-project/.stack-work/install/x86_64-linux-tinfo6/82db7b2595a76656db6d1508a5dd57aced5d628188b355b35247c7fd357c1396/8.10.7/pkgdb</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">global-pkg-db:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.7/lib/ghc-8.10.7/package.conf.d</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ghc-package-path:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/global-project/.stack-work/install/x86_64-linux-tinfo6/82db7b2595a76656db6d1508a5dd57aced5d628188b355b35247c7fd357c1396/8.10.7/pkgdb:/home/tch/.stack/snapshots/x86_64-linux-tinfo6/82db7b2595a76656db6d1508a5dd57aced5d628188b355b35247c7fd357c1396/8.10.7/pkgdb:/home/tch/.stack/programs/x86_64-linux/ghc-tinfo6-8.10.7/lib/ghc-8.10.7/package.conf.d</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">snapshot-install-root:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/snapshots/x86_64-linux-tinfo6/82db7b2595a76656db6d1508a5dd57aced5d628188b355b35247c7fd357c1396/8.10.7</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">local-install-root:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/global-project/.stack-work/install/x86_64-linux-tinfo6/82db7b2595a76656db6d1508a5dd57aced5d628188b355b35247c7fd357c1396/8.10.7</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dist-dir:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .stack-work/dist/x86_64-linux-tinfo6/Cabal-3.2.1.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">local-hpc-root:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/global-project/.stack-work/install/x86_64-linux-tinfo6/82db7b2595a76656db6d1508a5dd57aced5d628188b355b35247c7fd357c1396/8.10.7/hpc</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">local-bin-path:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.local/bin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ghc-paths:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/tch/.stack/programs/x86_64-linux</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>çœ‹åˆ°åç§°åŸºæœ¬éƒ½èƒ½çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œ<code>ghc-paths</code>å°±æ˜¯ç¼–è¯‘å™¨å®‰è£…è·¯å¾„ï¼ŒåŸºæœ¬éƒ½æ˜¯åœ¨<code>.stack</code>ä¸­ï¼Œ<code>local-bin</code>å°±æ˜¯å‰é¢æåˆ°çš„<code>install</code>çš„æ–‡ä»¶å¤åˆ¶çš„ç›®æ ‡ç›®å½•ã€‚WindowsåŒç†ã€‚</li></ul><p>ç§»é™¤stackï¼š</p><ul><li>è¯´åˆ°è·¯å¾„è¦ç§»é™¤stackçš„è¯ï¼Œéœ€è¦ç§»é™¤çš„ç›®å½•æˆ–æ–‡ä»¶æœ‰ï¼š <ul><li>stackå¯æ‰§è¡Œæ–‡ä»¶æœ¬èº«ã€‚</li><li><code>stack path --stack-root</code>ï¼Œæ ¹ç›®å½•ï¼ŒLinuxä¸­çš„<code>~/.stack/</code>ï¼Œwindowsä¸­çš„<code>C:\sr\</code>ã€‚</li><li><code>stack path --programs</code>ï¼ŒWindowsä¸­çš„<code>%LOCALAPPDATA%\Programs\stack</code>ã€‚</li><li>ä»»ä½•é¡¹ç›®å†…çš„<code>.stack-work</code>ã€‚</li></ul></li></ul><h3 id="exec" tabindex="-1"><a class="header-anchor" href="#exec"><span>exec</span></a></h3><p><code>stack exec</code>å‘½ä»¤åœ¨æ‰§è¡Œå‘½ä»¤æ—¶ä¼šç¨å¾®ä¿®æ”¹ä¸€äº›ç¯å¢ƒï¼ŒæŸ¥æ‰¾ç›®å½•ä¹Ÿä¼šé¢å¤–ä»stackçš„äºŒè¿›åˆ¶è·¯å¾„ä¸­æŸ¥æ‰¾ã€‚ç„¶åè®¾ç½®ä¸€äº›é¢å¤–çš„ç¯å¢ƒå˜é‡ï¼ˆæ¯”å¦‚æ·»åŠ ä¸€äº›è·¯å¾„åˆ°PATHï¼Œè®¾ç½®<code>GHC_PACKAGE_PATH</code>ç¯å¢ƒå˜é‡ï¼Œè¿™ä¸ªä¼šå‘Šè¯‰GHCç”¨å“ªä¸ªåŒ…æ•°æ®åº“ï¼‰ã€‚</p><p>æ·»åŠ åˆ°pathä¸­çš„éª‘å£«å°±æ˜¯<code>stack path --stack-root</code>ä¸­çš„ä¸€äº›å­ç›®å½•<code>bin</code>å’Œ<code>stack path --programs</code>ä¸­çš„ä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶ç›®å½•ã€‚ linuxä¸­æ‰§è¡Œå¯ä»¥çœ‹åˆ°ç¯å¢ƒï¼š</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> env</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åŒºåˆ†ä¼ é€’ç»™<code>stack</code>è¿˜æ˜¯ä¼ é€’ç»™<code>exec</code>æ‰§è¡Œçš„ç¨‹åºçš„é€‰é¡¹å¾ˆé‡è¦ï¼Œå¯ä»¥ç”¨<code>--</code>åˆ†éš”ã€‚è¦æ‰§è¡Œå‘½ä»¤å‰åŠ <code>--</code>ï¼Œåé¢éƒ½æ˜¯è¯¥å‘½ä»¤çš„å‚æ•°ï¼Œå‰é¢åˆ™æ˜¯ç»™<code>stack</code>çš„ã€‚</p><p>è¿è¡Œ<code>stack exec bash</code>ï¼Œé‚£ä¹ˆåˆ™å¯ä»¥åœ¨è¿™ä¸ªå­Shellä¸­æ‰§è¡Œé‚£äº›æ·»åŠ åˆ°PATHä¸­çš„å‘½ä»¤ã€‚</p><h3 id="ghci" tabindex="-1"><a class="header-anchor" href="#ghci"><span>ghci</span></a></h3><p>GHCIæ˜¯GHCçš„REPLç¯å¢ƒï¼Œè¿›å…¥GHCIï¼š</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ghci</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœè¦è®©æœ¬åœ°æ¨¡å—éƒ½å¯ä»¥è®¿é—®ï¼Œå¯ä»¥åœ¨é¡¹ç›®å†…<code>stack ghci</code>ï¼Œä¼šå°†é¡¹ç›®å†…çš„åŒ…å¯ä»¥è¢«è®¿é—®ã€‚ç„¶åä½¿ç”¨<code>:m module</code>åŠ è½½æ¨¡å—ä½¿ç”¨ã€‚</p><p>å¯¹äºå•æ–‡ä»¶ç¼–è¯‘çš„åœºåˆï¼Œæä¾›äº†<code>stack exec ghc/runghc</code>å‘½ä»¤æˆ–è€…å•çº¯ä½¿ç”¨<code>stack ghc/runghc</code>éƒ½å¯ä»¥ã€‚</p><h3 id="è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#è„šæœ¬"><span>è„šæœ¬</span></a></h3><p>stackè¿˜å¯ä»¥ä½œä¸ºè„šæœ¬è§£é‡Šå™¨ï¼Œç”¨æ¥åˆ›å»ºå¯é‡ç”¨çš„Haskellè„šæœ¬ï¼Œè€Œä¸åƒBashæˆ–è€…Pythoné‚£æ ·ã€‚å…·ä½“å°±ä¸å±•å¼€äº†ã€‚Windowsä¸èƒ½ç›´æ¥<code>./script.hs</code>æ‰§è¡Œè„šæœ¬ï¼Œå¯ä»¥ç”¨<code>stack script.hs</code>è¿™æ ·æ‰§è¡Œã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#!/usr/bin/env stack</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = print </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello,world!&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·å†™è„šæœ¬éœ€è¦ä¸€äº›å¿…è¦çš„æ³¨é‡Šè¯´æ˜Resolverï¼ˆå›ºå®šresolverä¹‹åå°±èƒ½ä¿è¯å¯é‡ç”¨ï¼‰ç­‰ä¿¡æ¯ï¼Œå…·ä½“ä¿¡æ¯ä¸å±•å¼€ã€‚ä¸Šé¢çš„è„šæœ¬ä¼šæŠ¥è­¦å‘Šï¼Œä½†èƒ½æ‰§è¡Œã€‚</p><p>æ›´å¤šä¿¡æ¯å¯åœ¨æŸ¥é˜…æ–‡æ¡£ã€‚</p><h2 id="ç¼–è¾‘å™¨é›†æˆ" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘å™¨é›†æˆ"><span>ç¼–è¾‘å™¨é›†æˆ</span></a></h2><p>ä¸»è¦è®¨è®ºVsCodeå¦‚ä½•æ­é…Stackå’Œ<a href="https://github.com/haskell/haskell-language-server" target="_blank" rel="noopener noreferrer">Haskell Language Server</a>çš„é—®é¢˜ã€‚</p><p>Hakell Language Serveræ˜¯<a href="https://github.com/haskell/ghcide" target="_blank" rel="noopener noreferrer">Ghcide</a>å’Œ<a href="https://github.com/haskell/haskell-ide-engine" target="_blank" rel="noopener noreferrer">Haskell IDE Engine(HIE)</a>çš„ç»§ä»»è€…ï¼Œç”±åŒæ–¹çš„å›¢é˜Ÿåˆä½œå…±åŒå¼€å‘ã€‚åé¢ä¸¤è€…ç°å·²å½’æ¡£ï¼Œæœ€æ–°çš„ç¨‹åºåº”è¯¥ä½¿ç”¨Haskell Language Serverã€‚</p><h3 id="vscodeç¯å¢ƒé…ç½®" tabindex="-1"><a class="header-anchor" href="#vscodeç¯å¢ƒé…ç½®"><span>VsCodeç¯å¢ƒé…ç½®</span></a></h3><p>æ’ä»¶ï¼š</p><ul><li>ä½¿ç”¨Haskellå®˜æ–¹æ’ä»¶<a href="https://github.com/haskell/vscode-haskell" target="_blank" rel="noopener noreferrer">vscode-haskell</a>ï¼Œç”±Haskell Language Serveræä¾›æ”¯æŒã€‚</li></ul><p>ç‰¹æ€§ï¼ˆæ¥è‡ªHaskell Language Serverï¼‰ï¼š</p><ul><li>æ¥è‡ªGHCçš„è­¦å‘Šå’Œé”™è¯¯è¯Šæ–­ã€‚</li><li>é¼ æ ‡æ‚¬åœç±»å‹ä¿¡æ¯å’Œæ–‡æ¡£ä¿¡æ¯ï¼ŒåŒ…æ‹¬æœ¬åœ°ä»£ç ä¸­çš„æ³¨é‡Šã€‚</li><li>æœ¬åœ°ä»£ç è·³è½¬ã€‚</li><li>æ–‡æ¡£ç¬¦å·ã€‚</li><li>æ–‡æ¡£é«˜äº®ã€‚</li><li>ä»£ç è¡¥å…¨ã€‚</li><li>ä»£ç æ ¼å¼åŒ–ã€‚</li><li><code>&gt;&gt;&gt;</code>æ³¨é‡Šä¸­çš„ä»£ç æ±‚å€¼ï¼Œ<code>prop&gt;</code>æ³¨é‡Šä¸­çš„ä»£ç æµ‹è¯•ã€‚</li><li>ç»§æ‰¿äº†retrieï¼Œä¸€ä¸ªå¼ºå¤§çš„ä»£ç ä¿®æ”¹å·¥å…·ã€‚å·¦ä¸Šè§’ç¯æ³¡ã€‚</li><li>æç¤ºå¯¼å…¥å‡½æ•°åˆ—è¡¨ï¼Œå°±æ˜¯ä¼šæç¤ºåªå¯¼å…¥ä½¿ç”¨çš„ç¬¦å·ã€‚</li><li>é›†æˆäº†hlintï¼Œåˆ†æä»£ç å¹¶æä¾›å¿«é€Ÿä¿®å¤çš„é€‰é¡¹ï¼Œä¸‹åˆ’çº¿ã€‚</li><li>æ¨¡å—åä¿®æ”¹å»ºè®®ã€‚</li><li>è°ƒç”¨å±‚æ¬¡æŸ¥è¯¢ï¼Œå³é”®èœå•Show Call Hierarchyã€‚</li></ul><p>æ’ä»¶é…ç½®ï¼š</p><ul><li>æ— éœ€è¿‡äºå…³å¿ƒï¼Œä¿®æ”¹æ–‡æ¡£å’Œä»£ç æ‰“å¼€è¡Œä¸ºä¸ºæœ¬åœ°VsCodeè€Œä¸æ˜¯Hackageç½‘é¡µæ›´å¥½ä¸€äº›ã€‚</li><li>å¯èƒ½éœ€è¦æ‰‹åŠ¨è®¾ç½®Haskell Language Serverçš„è·¯å¾„ï¼Œè€Œä¸æ˜¯è®©å…¶è‡ªåŠ¨ä¸‹è½½ã€‚</li></ul><p>ä¾èµ–ï¼š</p><ul><li>å¯¹äºå•ç‹¬çš„<code>.hs .lhs</code>æ–‡ä»¶æ¥è¯´ï¼ŒGHCå¿…é¡»åœ¨PATHä¸­ã€‚</li><li>åŸºäºCabalçš„é¡¹ç›®ï¼ŒGHCå’Œcabal-installéƒ½è¦åœ¨PATHä¸­ã€‚</li><li>åŸºäºstackçš„é¡¹ç›®ï¼Œstackå¿…é¡»åœ¨PATHä¸­ã€‚</li></ul><p>å¯¹stacké¡¹ç›®çš„æ”¯æŒï¼š</p><ul><li><code>haskell-language-server</code>éœ€è¦ç¼–è¯‘é¡¹ç›®ä¹‹åæ‰èƒ½æä¾›è¯Šæ–­ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¿…é¡»çŸ¥é“æ€ä¹ˆåšã€‚</li><li>ä¸€ä¸ªå«åš<a href="https://github.com/haskell/hie-bios" target="_blank" rel="noopener noreferrer">hie-bios</a>çš„é¡¹ç›®å°±æ˜¯ç”¨æ¥å¤„ç†è¿™ä¸ªäº‹æƒ…çš„ã€‚</li><li><code>hie-bios</code>ä½¿ç”¨ä¸€ä¸ªé¡¹ç›®æ ¹ç›®å½•ä¸­çš„<code>hie.yaml</code>æ¥ç®¡ç†è¿™äº›ï¼Œæ˜¾å¼æè¿°äº†æ€ä¹ˆè®¾ç½®ç¯å¢ƒæ¥ç¼–è¯‘é¡¹ç›®ä¸­çš„ä¸åŒç»„ä»¶ã€‚ä¸ºæ­¤ä½ éœ€è¦çŸ¥é“é¡¹ç›®ä¸­æœ‰ä»€ä¹ˆç»„ä»¶ï¼ˆæ¨¡å—ï¼‰å¹¶å°†å®ƒä»¬çš„è·¯å¾„æ˜¾å¼æŒ‡å‡ºæ¥ã€‚</li><li>å¯ä»¥ä½¿ç”¨<a href="https://github.com/Avi-D-coder/implicit-hie" target="_blank" rel="noopener noreferrer">implicit-hie</a>é¡¹ç›®æ¥ä»stackæˆ–è€…cabalé…ç½®ç”Ÿæˆè¿™ä¸ª<code>hie.yaml</code>æ–‡ä»¶ã€‚</li><li>å¦‚æœstacké¡¹ç›®ä¸­æœ‰å¤šä¸ªç»„ä»¶ï¼Œ<code>hie.yaml</code>ä¼šåƒæ˜¯è¿™ä¸ªæ ·å­ï¼š</li></ul><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cradle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  stack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./test/functional/&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;haskell-language-server:func-test&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./exe/Main.hs&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;haskell-language-server:exe:haskell-language-server&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./exe/Wrapper.hs&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;haskell-language-server:exe:haskell-language-server-wrapper&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./src&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;haskell-language-server:lib&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./ghcide/src&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ghcide:lib:ghcide&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./ghcide/exe&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ghcide:exe:ghcide&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æœ€ç»ˆçš„é…ç½®ä¼šæ˜¯ä¸‹é¢çš„ä¸€ä¸ªå­é›†ï¼š</li></ul><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cradle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  cabal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;optional component name&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  stack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;optional component name&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  bios</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    program</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;program to run&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    dependency-program</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;optional program to run&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  direct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    arguments</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;list&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;of&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ghc&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;arguments&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  none</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependencies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">someDep</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸Šé¢æ˜¯Haksell Language Serveræ–‡æ¡£æä¾›çš„ã€‚</li></ul><p>çœ‹ä¸€ä¸‹<code>hie-bios</code>æ–‡æ¡£ï¼š</p><ul><li><code>hie-bios</code>éœ€è¦çŸ¥é“ä¼ é€’ç»™GHCçš„å‚æ•°ï¼Œå’ŒåŒ…çš„ä¾èµ–ï¼Œå› ä¸ºéœ€è¦å…ˆæ„å»ºä¾èµ–ã€‚</li><li>å®ƒçš„è®¾è®¡æŒ‡å¯¼åŸåˆ™æ˜¯ç”±æ„å»ºå·¥å…·è´Ÿè´£æè¿°ç¯å¢ƒï¼Œç¡®å®šè¦æ„å»ºå“ªä¸€ä¸ªåŒ…ã€‚</li><li><code>hie-bios</code>æ—¢ä¸ä¾èµ–Cabalä¹Ÿä¸è¯»å–ä»»ä½•ç¼–è¯‘ç”Ÿæˆæ–‡ä»¶ã€‚è€Œæ˜¯ä»…ä»…ä¾èµ–äºæ ‡å‡†GHCçš„æ ‡å¿—ï¼Œå¦‚æœä¸€ä¸ªæ„å»ºå·¥å…·æ”¯æŒ<code>repl</code>å‘½ä»¤ï¼Œè¿è¡Œ<code>repl</code>ä¼šä½¿ç”¨æ­£ç¡®çš„æ ‡è®°è°ƒç”¨<code>ghci</code>ï¼Œ<code>hie-bios</code>éœ€è¦ä¸€ä¸ªæ–¹å¼æ¥å¾—åˆ°è¿™äº›æ ‡è®°ã€‚ç„¶åæ‰èƒ½æ­£ç¡®è®¾ç½®ç»™GHC API sessionã€‚è¿›ä¸€æ­¥è¯´ä»»ä½•è®¾ç½®API sessionçš„é”™è¯¯éƒ½æ˜¯æ„å»ºå·¥å…·çš„é”…ï¼Œä»–ä»¬éœ€è¦æä¾›æ­£ç¡®çš„æ ‡è®°ä»¥ä¾¿ç¼–è¾‘å™¨å¯¹é¡¹ç›®æä¾›æ”¯æŒã€‚</li></ul><p><code>hie-bios</code>å¯¹stackçš„æ”¯æŒï¼š</p><ul><li>æ˜¾å¼å£°æ˜æƒ³ä½¿ç”¨stackï¼Œé‚£ä¹ˆ<code>hie.yaml</code>å°±è¦åƒè¿™æ ·ï¼š</li></ul><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cradle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  stack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœæ•´ä¸ªé¡¹ç›®èƒ½å¤Ÿè¢«<code>stack repl</code>è½½å…¥ï¼Œé‚£ä¹ˆè¿™æ ·å°±è¶³å¤Ÿäº†ã€‚è¿™ç§é…ç½®åœ¨æœ€ç®€å•çš„ä»…æœ‰ä¸€ä¸ªåº“ã€ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€ä¸€ä¸ªæµ‹è¯•å¥—ä»¶æ—¶æ­£å¸¸å·¥ä½œã€‚</li><li>ä¸€äº›é¡¹ç›®æ‹¥æœ‰å¤šä¸ª<code>stack-*.yaml</code>æŒ‡å®šäº†å¤šä¸ªç‰ˆæœ¬çš„GHCç¼–è¯‘å™¨ã€‚è¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨<code>stackYaml</code>æŒ‡å®šè¦ä½¿ç”¨å“ªä¸€ä¸ªï¼Œè·¯å¾„ä»¥<code>hie.yaml</code>ä¸ºåŸºå‡†ã€‚</li></ul><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cradle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  stack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    stackYaml</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./stack-8.8.3.yaml&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœé¡¹ç›®æ›´åŠ å¤æ‚ï¼Œå°±éœ€è¦æŒ‡å®šæƒ³è¦åŠ è½½å“ªä¸€ä¸ªç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶ç®€å•æ¥è¯´å°±æ˜¯stackä¸­çš„ä¸€ä¸ªåº“ã€ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€æˆ–è€…ä¸€ä¸ªæµ‹è¯•å¥—ä»¶ã€æˆ–è€…benchmarkã€‚å¯ä»¥ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰ç»„ä»¶æˆ–è€…å«ç›®æ ‡ï¼Œè‡³äºç›®æ ‡çš„è¯­æ³•å¯ä»¥å‚è§<a href="https://docs.haskellstack.org/en/stable/build_command/#target-syntax" target="_blank" rel="noopener noreferrer">stackæ–‡æ¡£-Traget Syntax</a>ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ide</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> targets</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ç„¶åæŒ‡å®šç»„ä»¶å¯¹åº”çš„è·¯å¾„ï¼ˆç›®å½•æˆ–è€…æ–‡ä»¶ï¼Œå½“å¤šä¸ªç»„ä»¶å…±ç”¨ä¸€ä¸ªç›®å½•ä¸­æ–‡ä»¶æ—¶æŒ‡å®šä¸ºæ–‡ä»¶å¾ˆæœ‰ç”¨ï¼‰ï¼š</li></ul><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cradle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  stack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./src&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hie-bios:lib&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./exe&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hie-bios:exe:hie-bios&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./tests/BiosTests.hs&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hie-bios:test:hie-bios&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;./tests/ParserTests.hs&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hie-bios:test:parser-tests&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœæ’ä»¶å¯¹stacké¡¹ç›®æœªå·¥ä½œï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•<code>stack repl</code>å’Œ<code>stack repl &lt;component name&gt;</code>ã€‚å¦‚æœå¤±è´¥äº†ï¼Œé‚£ä¹ˆåº”è¯¥å°±æ˜¯é¡¹ç›®æ— æ³•æ„å»ºï¼Œå½“è§£å†³ä¹‹åä¾¿èƒ½æˆåŠŸåŠ è½½ã€‚</li></ul><p>æœ€åä¾¿æ˜¯ä½¿ç”¨<a href="https://github.com/Avi-D-coder/implicit-hie" target="_blank" rel="noopener noreferrer"><code>implicit-hie</code></a>è‡ªåŠ¨ç”Ÿæˆ<code>hie.yaml</code>ï¼š</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> packageDir</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> implicit-hie</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gen-hie</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">hie.yaml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼Œæ ¹æ®é¡¹ç›®æ–‡ä»¶è¯†åˆ«æ˜¯ä½¿ç”¨stackè¿˜æ˜¯cabalï¼Œä¹Ÿå¯ä»¥ç”¨<code>--stack --cabal</code>æ˜¾å¼æŒ‡å®šã€‚</li><li>æ™®é€šçš„é¡¹ç›®æ˜¯å®Œå…¨èƒ½ç”¨çš„ï¼Œå¦‚æœä½¿ç”¨äº†æ›´é«˜çº§çš„ç‰¹æ€§ï¼Œå¯èƒ½è¿˜æ˜¯éœ€è¦è‡ªå·±æ¥å†ä¿®æ”¹ä¸€ä¸‹<code>hie.yaml</code>ã€‚</li></ul><p>ä½¿ç”¨æ„Ÿå—ï¼š</p><ul><li>æ„Ÿè§‰ä½¿ç”¨ä½“éªŒä¹Ÿä¸æ˜¯é‚£ä¹ˆå®Œç¾ï¼Œé€Ÿåº¦ä¸ç®—å¿«ï¼Œå…ˆç”¨ç”¨çœ‹å§ã€‚</li></ul><h2 id="æ„Ÿå—ä¸€ä¸‹haskell" tabindex="-1"><a class="header-anchor" href="#æ„Ÿå—ä¸€ä¸‹haskell"><span>æ„Ÿå—ä¸€ä¸‹Haskell</span></a></h2><p>ghciä¸­è¿›è¡Œè¡¨è¾¾å¼æ±‚å€¼ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; 1 + 2</span></span>
<span class="line"><span>3</span></span>
<span class="line"><span>Prelude&gt; 5 * -3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;interactive&gt;:2:1: error:</span></span>
<span class="line"><span>    Precedence parsing error</span></span>
<span class="line"><span>        cannot mix â€˜*â€™ [infixl 7] and prefix `-&#39; [infixl 6] in the same infix expression</span></span>
<span class="line"><span>Prelude&gt; 5 * (-3)</span></span>
<span class="line"><span>-15</span></span>
<span class="line"><span>Prelude&gt; 1 / 3</span></span>
<span class="line"><span>0.3333333333333333</span></span>
<span class="line"><span>Prelude&gt; True</span></span>
<span class="line"><span>True</span></span>
<span class="line"><span>Prelude&gt; True &amp;&amp; False</span></span>
<span class="line"><span>False</span></span>
<span class="line"><span>Prelude&gt; True &amp;&amp; True</span></span>
<span class="line"><span>True</span></span>
<span class="line"><span>Prelude&gt; False || True</span></span>
<span class="line"><span>True</span></span>
<span class="line"><span>Prelude&gt; 5 == 5</span></span>
<span class="line"><span>True</span></span>
<span class="line"><span>Prelude&gt; 5 /= 4</span></span>
<span class="line"><span>True</span></span>
<span class="line"><span>Prelude&gt; 5 /= 5</span></span>
<span class="line"><span>False</span></span>
<span class="line"><span>Prelude&gt; &quot;hello&quot; == &quot;hello&quot;</span></span>
<span class="line"><span>True</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>5 * -3</code>ä¼šæœ‰é”™è¯¯ï¼Œä½¿ç”¨è´Ÿæ•°æ—¶æœ€å¥½åŠ ä¸Šæ‹¬å·ã€‚</li><li>è¿ç®—ç¬¦ä¹Ÿæ˜¯å‡½æ•°ï¼Œ<code>== + * /</code>ç­‰éœ€è¦ä¸¤ä¸ªæ“ä½œæ•°ï¼Œè¿ç®—ç¬¦æ”¾ä¸­é—´ï¼Œå°±å«ä¸­ç¼€å‡½æ•°ï¼Œä¸€ä¸ªæ“ä½œæ•°è¿ç®—ç¬¦æ”¾å‰é¢å«å‰ç¼€å‡½æ•°ã€‚å‡½æ•°è°ƒç”¨å°±æ˜¯<code>funcName arg1 arg2</code>ï¼Œå‡½æ•°ååŠ ä¸Šç©ºæ ¼åˆ†éš”çš„å‚æ•°åˆ—è¡¨ã€‚</li><li>å‡½æ•°<code>succ</code>è¿”å›ä¸€ä¸ªæ•°çš„åç»§ï¼š</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; succ 1</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>Prelude&gt; succ (succ 2 + 3)</span></span>
<span class="line"><span>7</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‡½æ•°è°ƒç”¨æ‹¥æœ‰æœ€é«˜ä¼˜å…ˆçº§ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; succ 9 + max 5 4 + 1</span></span>
<span class="line"><span>16</span></span>
<span class="line"><span>Prelude&gt; succ 8 * 10</span></span>
<span class="line"><span>90</span></span>
<span class="line"><span>Prelude&gt; succ (8 * 10)</span></span>
<span class="line"><span>81</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åŸºæœ¬è¦ç´ " tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬è¦ç´ "><span>åŸºæœ¬è¦ç´ </span></a></h2><p>äº‹åè¡¥å……ï¼Œè¦ç†Ÿæ‚‰äº†è§£æœ‰æ¦‚å¿µçš„ä¸œè¥¿ã€‚</p><h3 id="åŸºæœ¬å†…å®¹" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬å†…å®¹"><span>åŸºæœ¬å†…å®¹</span></a></h3><ul><li>å•è¡Œæ³¨é‡Šï¼š<code>--</code></li><li>å¤šè¡Œæ³¨é‡Šï¼š<code>{- -}</code></li><li>åœ¨æ–‡ä»¶å¤´å¯¹GHCå£°æ˜ä¸€äº›ç¼–è¯‘å‚æ•°ï¼š<code>{-# #-}</code></li></ul><h3 id="è¿ç®—ç¬¦" tabindex="-1"><a class="header-anchor" href="#è¿ç®—ç¬¦"><span>è¿ç®—ç¬¦</span></a></h3><p>åŸºæœ¬ç±»ä¼¼äºCè¯­è¨€ï¼Œä½†ä½¿ç”¨<code>not</code>è¡¨ç¤ºé€»è¾‘éã€‚</p><ul><li><a href="https://zhuanlan.zhihu.com/p/263797220" target="_blank" rel="noopener noreferrer">Haskellè¿ç®—ç¬¦å…¨è§£</a></li><li>ç»“åˆæ€§åˆ†ä¸ºå·¦ç»“åˆã€å³ç»“åˆå’Œä¸ç»“åˆï¼Œä¼˜å…ˆçº§è¶Šå¤§è¶Šé«˜ã€‚</li></ul><table><thead><tr><th style="text-align:center;">ä¼˜å…ˆçº§</th><th style="text-align:left;">å·¦ç»“åˆ</th><th style="text-align:left;">ä¸ç»“åˆ</th><th style="text-align:left;">å³ç»“åˆ</th></tr></thead><tbody><tr><td style="text-align:center;">9</td><td style="text-align:left;"><code>!!</code></td><td style="text-align:left;"></td><td style="text-align:left;"><code>.</code></td></tr><tr><td style="text-align:center;">8</td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"><code>^</code> <code>^^</code> <code>**</code></td></tr><tr><td style="text-align:center;">7</td><td style="text-align:left;"><code>*</code> <code>/</code> <code>`div`</code> <code>`mod`</code> <code>`rem`</code> <code>`quot`</code></td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">6</td><td style="text-align:left;"><code>+</code> <code>-</code></td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">5</td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"><code>:</code> <code>++</code></td></tr><tr><td style="text-align:center;">4</td><td style="text-align:left;"></td><td style="text-align:left;"><code>=</code> <code>/=</code> <code>&lt;</code> <code>&lt;=</code> <code>&gt;</code> <code>&gt;=</code> <code>`elem`</code> <code>`notElem`</code></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">3</td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"><code>&amp;&amp;</code></td></tr><tr><td style="text-align:center;">2</td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"><code>||</code></td></tr><tr><td style="text-align:center;">1</td><td style="text-align:left;"><code>&gt;</code> <code>&gt;&gt;=</code></td><td style="text-align:left;"></td><td style="text-align:left;"></td></tr><tr><td style="text-align:center;">0</td><td style="text-align:left;"></td><td style="text-align:left;"></td><td style="text-align:left;"><code>$</code> <code>$!</code> <code>seq</code></td></tr></tbody></table><h3 id="åŸºæœ¬ç±»å‹ç±»" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç±»å‹ç±»"><span>åŸºæœ¬ç±»å‹ç±»</span></a></h3><p>åŸºæœ¬çš„Typeclassï¼š</p><ul><li><code>Eq</code> å¯åˆ¤æ–­ç›¸ç­‰æ€§çš„ç±»å‹</li><li><code>Ord</code> å¯æ¯”è¾ƒå¤§å°çš„ç±»å‹</li><li><code>Show</code> å¯è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²çš„ç±»å‹</li><li><code>Read</code> å¯ä»å­—ç¬¦ä¸²è½¬æ¢å‡ºå€¼çš„ç±»å‹</li><li><code>Enum</code> è¿ç»­çš„ï¼Œä¹Ÿå°±æ˜¯å¯æšä¸¾çš„ç±»å‹ã€‚æ¯ä¸ªå€¼éƒ½æœ‰åç»§ (successer) å’Œå‰ç½® (predecesor)ï¼Œåˆ†åˆ«å¯ä»¥é€šè¿‡ <code>succ</code> å‡½æ•°å’Œ <code>pred</code> å‡½æ•°å¾—åˆ°ã€‚</li><li><code>Bounded</code> æœ‰ä¸Šé™å’Œä¸‹é™ã€‚ä¾‹å¦‚ï¼š<code>maxBound :: Char</code> æˆ–è€… <code>maxBound :: Bool</code></li><li><code>Num</code> æ•°å­—</li><li><code>Integral</code> æ•´æ•°ï¼ŒåŒ…æ‹¬<code>Int Integer</code></li><li><code>Floating</code> æµ®ç‚¹æ•°ï¼ŒåŒ…æ‹¬<code>Float Double</code></li></ul><h2 id="å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°"><span>å‡½æ•°</span></a></h2><h3 id="å®šä¹‰å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰å‡½æ•°"><span>å®šä¹‰å‡½æ•°</span></a></h3><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼šå’Œè°ƒç”¨ç±»ä¼¼ï¼Œå‚æ•°åˆ—è¡¨åŠ ä¸Š<code>=</code>å·åè·Ÿå‡½æ•°ä½“ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">doubleMe x = x + x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è°ƒç”¨ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">doubleMe </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å‡½æ•°ä¸­å½“ç„¶å¯ä»¥è°ƒç”¨å‡½æ•°ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">doubleUs x y = doubleMe x + y + y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Haskellä¸­å‡½æ•°ä¸éœ€è¦å…ˆå£°æ˜æˆ–è€…å®šä¹‰æ‰èƒ½ä½¿ç”¨ï¼Œå¯ä»¥å…ˆå®šä¹‰<code>doubleUs</code>å†å®šä¹‰<code>doubleMe</code>ã€‚</p><p>Haskellä¸­æ¯ä¸ªå‡½æ•°æˆ–è€…è¡¨è¾¾å¼éƒ½è¦è¿”å›ä¸€ä¸ªç»“æœï¼Œæ¯”å¦‚<code>if</code>å¿…é¡»è¦æœ‰ä¸€ä¸ª<code>else</code>è¯­å¥ã€‚Haskellä¸­çš„<code>if</code>è¯­å¥å…¶å®æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">doubleSmallNumber&#39; x = (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x &gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x * </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å…¶ä¸­<code>&#39;</code>ä¹Ÿæ˜¯å‡½æ•°åçš„åˆæ³•å­—ç¬¦ï¼Œå¸¸å¸¸ä½¿ç”¨å•å¼•å·æ¥åŒºåˆ†ä¸€ä¸ªç¨ç»ä¿®æ”¹ä½†å·®åˆ«ä¸å¤§çš„å‡½æ•°ã€‚</p><p>æ²¡æœ‰å‚æ•°çš„å‡½æ•°ç§°ä¹‹ä¸ºå®šä¹‰æˆ–è€…åå­—ï¼Œå®šä¹‰åä¸å¯ä¿®æ”¹ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">hello = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello,world!&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨list" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨list"><span>ä½¿ç”¨List</span></a></h3><p>Haskellä¸­ï¼ŒListæ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œååˆ†å¼ºå¤§ï¼Œå¯ä»¥è§£å†³è®¸å¤šé—®é¢˜ã€‚Listæ˜¯å•ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œä¸èƒ½å°†ä¸åŒç±»å‹æ•°æ®æ”¾åˆ°åŒä¸€ä¸ªListä¸­ã€‚</p><p>ghciä¸­å¯ä»¥ä½¿ç”¨<code>let a = 1</code>æ¥å®šä¹‰å¸¸é‡ï¼Œä¸è„šæœ¬ä¸­<code>a = 1</code>ç›¸åŒã€‚</p><p>Liståˆ—è¡¨è¯­æ³•ï¼š</p><ul><li>å¯¹äºå­—ç¬¦ä¸²æ¥è¯´ï¼Œ<code>&quot;hello&quot;</code>ä»…ä»…åªæ˜¯<code>[&#39;h&#39;,&#39;e&#39;,&#39;l&#39;,&#39;l&#39;,&#39;o&#39;]</code>çš„è¯­æ³•ç³–ï¼Œä¹Ÿå°±æ˜¯è¯´å­—ç¬¦ä¸²å°±æ˜¯Listã€‚</li><li>åˆå¹¶ä¸¤ä¸ªListï¼Œ<code>l1 ++ l2</code>ã€‚å®ç°ä¸­ä¼šéå†å·¦è¾¹çš„Listï¼Œå¯¹äºé•¿å­—ç¬¦ä¸²æˆ–è€…åˆ—è¡¨ä¸æ˜¯å¾ˆå‹å¥½ã€‚</li><li>ä½¿ç”¨<code>:</code>å¯ä»¥å¾€åˆ—è¡¨å‰æ’å…¥å…ƒç´ ï¼Œ<code>elem1 : list</code>ã€‚å¦‚æœè¦ä½¿ç”¨<code>++</code>è¿æ¥å•ä¸ªå…ƒç´ åˆ°Listå¯ä»¥ç”¨<code>[elem1] ++ list</code>ã€‚</li><li>å®é™…ä¸Š<code>[1, 2, 3]</code>å°±æ˜¯<code>1:2:3:[]</code>çš„è¯­æ³•ç³–ï¼Œä¹Ÿå°±æ˜¯ç©ºåˆ—è¡¨ä¾æ¬¡åœ¨å‰é¢æ’å…¥å…ƒç´ ã€‚</li><li>æŒ‰ç…§ç´¢å¼•å–Listå…ƒç´ ï¼š<code>[1, 2, 3] !! 2</code>ï¼Œç´¢å¼•ä»0å¼€å§‹ã€‚è¶Šç•Œå°†æŠ¥é”™ã€‚</li><li>ListåŒæ ·å¯ä»¥å­˜æ”¾Listï¼Œä¸è¿‡Listçš„å…ƒç´ ç±»å‹æ˜¯å®ƒçš„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦ç±»å‹åŒ¹é…ï¼š<code>[1]:[[2]]</code>ã€‚</li><li>Listå†…éƒ¨å…ƒç´ å¯æ¯”è¾ƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>&gt; &gt;= ==</code>ç­‰è¿ç®—ç¬¦æ¯”è¾ƒå¤§å°ï¼Œå°†ä¼šæŒ‰å…ƒç´ ä¾æ¬¡æ¯”è¾ƒã€‚</li><li>Listå¸¸ç”¨å‡½æ•°ï¼š <ul><li><code>head</code>è¿”å›é¦–éƒ¨ï¼Œå³é¦–å…ƒç´ ï¼Œç»“æœæ˜¯å…ƒç´ ï¼Œåˆ—è¡¨ä¸ºç©ºå°†è§¦å‘å¼‚å¸¸ã€‚</li><li><code>tail</code>è¿”å›å°¾éƒ¨ï¼Œå»æ‰é¦–ä¸ªå…ƒç´ åçš„éƒ¨åˆ†ï¼Œç»“æœæ˜¯åˆ—è¡¨ï¼Œåˆ—è¡¨ä¸ºç©ºå°†è§¦å‘å¼‚å¸¸ã€‚</li><li><code>last</code>è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>init</code>è¿”å›é™¤å»æœ€åä¸€ä¸ªå…ƒç´ çš„éƒ¨åˆ†ã€‚</li><li>ä¸Šé¢å‡ ä¸ªå‡½æ•°ç”¨äºç©ºåˆ—è¡¨ï¼Œå°†åœ¨è¿è¡Œæ—¶è§¦å‘å¼‚å¸¸ï¼Œç¼–è¯‘æ—¶ä¸ä¼šæ£€æŸ¥åˆ°ã€‚</li><li><code>length</code>å¾—åˆ°åˆ—è¡¨é•¿åº¦ã€‚</li><li><code>null</code>åˆ¤æ–­åˆ—è¡¨æ˜¯å¦ä¸ºç©ºï¼Œè¿”å›<code>True False</code>ã€‚ç›¸æ¯”<code>list == []</code>æ¥åˆ¤æ–­ä¼šæ›´å¥½ã€‚</li><li><code>reverse</code>åè½¬åˆ—è¡¨ã€‚</li><li><code>take n list</code>å–å‰nä¸ªå…ƒç´ æ„æˆçš„åˆ—è¡¨ã€‚</li><li><code>drop n list</code>å»æ‰å‰nä¸ªå…ƒç´ ï¼Œå¾—åˆ°å‰©ä½™å…ƒç´ æ„æˆçš„åˆ—è¡¨ã€‚</li><li><code>maximum minimum</code>å¾—åˆ°æœ€å¤§å’Œæœ€å°çš„å…ƒç´ ã€‚</li><li><code>sum product</code>è¿”å›åˆ—è¡¨æ‰€æœ‰å…ƒç´ çš„å’Œä¸ä¹˜ç§¯ã€‚</li><li><code>elem</code>åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åŒ…å«ä¸ä¸€ä¸ªlistï¼Œ<code>elem 10 [1, 2, 10]</code>ï¼Œé€šå¸¸ä»¥ä¸­ç¼€å½¢å¼è°ƒç”¨<code>10 `elem` [1, 2, 10]</code>ï¼ˆéœ€è¦åŠ åå¼•å·ï¼‰ã€‚</li></ul></li></ul><h3 id="ä½¿ç”¨range" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨range"><span>ä½¿ç”¨Range</span></a></h3><p>èŒƒå›´:</p><ul><li><code>[1..20]</code>å³è¡¨ç¤º<code>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]</code>ã€‚</li><li>ç»™å‡ºæŒ‡å®šç¬¬äºŒä¸ªå…ƒç´ å°†ä½¿ç”¨ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå…ƒç´ çš„é—´éš”ä½œä¸ºæ­¥é•¿ï¼Œé»˜è®¤æ˜¯1<code>[1,3..20]</code>è¡¨ç¤º<code>[1,3,5,7,9,11,13,15,17,19]</code>ã€‚</li><li>æ­¥é•¿å¯ä»¥ä¸ºè´Ÿï¼Œåˆ°è¾¾ä¸äº†ä¸Šé™åˆ™ç”Ÿæˆåˆ—è¡¨ä¸ºç©ºï¼š<code>[1,0..10]</code>ä¸º<code>[]</code>ã€‚</li><li>æ­¥é•¿ä»…èƒ½æŒ‡æ˜ä¸€æ¬¡ï¼Œ<code>[1,2,4..20]</code>æ˜¯éæ³•çš„ã€‚</li><li>ä¸æŒ‡å®šä¸Šé™åˆ™æ— é™é•¿åº¦ï¼Œæ­¥é•¿ä¸º0åŒæ ·ä¹Ÿæ˜¯æ— é™é•¿åº¦ã€‚æ— é™é•¿åº¦åˆ—è¡¨å°†ä¼šåœ¨ä½¿ç”¨åˆ°æ—¶æ‰æ±‚å€¼ï¼Œå› ä¸ºæ˜¯æ‡’æƒ°æ±‚å€¼è„šæœ¬ä¸­å®šä¹‰åä¸ç«‹å³æ±‚èŒï¼Œæ¯”å¦‚å–æŸä¸ªå…ƒç´ æ—¶æ‰ä¼šæ±‚å€¼ã€‚</li><li><strong>æ³¨æ„</strong>ï¼šå¦‚æœå¯¹æ— é™é•¿åº¦åˆ—è¡¨æ±‚å€¼ï¼Œåœ¨ghciä¸­è¾“å…¥æ— é™é•¿åº¦çš„åˆ—è¡¨å°†ä¼šä¸€ç›´æ‰“å°ï¼Œåœ¨<code>{--}</code>æ³¨é‡Šä¸­<code>&gt;&gt;&gt;</code>åçš„è¡¨è¾¾å¼ä¸è¦å†™æ— é™é•¿åº¦åˆ—è¡¨ï¼Œå› ä¸ºä¼šå¯¹åˆ—è¡¨æ±‚å€¼ï¼Œæ±‚å€¼å·¥ä½œç”±åå°çš„Haskell Language Serveræ¥åšï¼ˆæ¯”å¦‚åœ¨VsCodeä¸­ï¼Œç‚¹å‡»äº†æç¤ºä¸­çš„<code>Evaluate...</code>ï¼‰ï¼Œæ­¤æ—¶åå°çš„è¯­è¨€æœåŠ¡å™¨å°†é™·å…¥æ— é™å¾ªç¯ï¼Œåƒæ‰å¤§é‡å†…å­˜å’ŒCPUã€‚éœ€è¦æ€æ‰å­è¿›ç¨‹æ‰èƒ½ç»“æŸã€‚</li><li><code>cycle list</code>å¯ä»¥ç”Ÿæˆå¾ªç¯listå…ƒç´ çš„æ— é™åˆ—è¡¨ã€‚</li><li><code>repeat value</code>ç”Ÿæˆä¸€ä¸ªä»…åŒ…å«è¯¥å€¼çš„æ— é™åˆ—è¡¨ã€‚</li><li><code>replicate n value</code>é‡å¤ä¸€ä¸ªå€¼næ¬¡ã€‚</li></ul><h3 id="list-comprehension" tabindex="-1"><a class="header-anchor" href="#list-comprehension"><span>List Comprehension</span></a></h3><p>ä¹Ÿå°±æ˜¯åˆ—è¡¨ç”Ÿæˆå¼ï¼š</p><ul><li><code>[expression | ranges and constrait]</code>ï¼Œ<code>|</code>å·¦ä¾§æ˜¯è¡¨è¾¾å¼ï¼Œå³ä¾§æ˜¯å˜é‡èŒƒå›´å’Œçº¦æŸæ¡ä»¶ã€‚</li><li><code>[x * 2 | x &lt;- [1..10]]</code>å¾—åˆ°<code>[2,4,6,8,10,12,14,16,18,20]</code>ã€‚</li><li>è¡¨è¾¾å¼ä¸­å¯ä»¥æ˜¯<code>if-else</code>è¯­å¥ï¼Œå› ä¸ºå…¶ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</li><li>ä½œç”¨å°±æ˜¯<code>x</code>éå†<code>&lt;-</code>ååˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ ï¼Œç±»ä¼¼äºåšäº†å¾ªç¯ï¼Œå˜é‡å¯ä»¥æœ‰å¤šä¸ª<code>[[x, y] | x &lt;- [1..], y &lt;- [10..], x + y == 20]</code>ï¼Œå¯ä»¥åŠ æ¡ä»¶ï¼Œå°±åƒä¸€ä¸ªæ•°å­¦ä¸­çš„é›†åˆç”Ÿæˆå¼ä¸€æ ·ã€‚</li><li>å¦‚æœä¸å…³å¿ƒä»åˆ—è¡¨ä¸­å–å‡ºçš„å€¼ï¼Œå¯ä»¥ç”¨<code>_</code>ï¼Œ<code>length&#39; xs = sum [1 | _ &lt;- xs]</code>ã€‚</li><li>ç§»é™¤æ‰€æœ‰éå¤§å†™å­—ç¬¦ï¼š<code>removeNonUppercase st = [ c | c &lt;- st, c `elem` [&#39;A&#39;..&#39;Z&#39;]]</code>ã€‚</li><li>åˆ—è¡¨ç”Ÿæˆå¼å¯ä»¥æ‹†æˆå¤šè¡Œï¼Œæ¯”è¾ƒé•¿çš„è¯æ‹†æˆå¤šè¡Œæ¯”è¾ƒåˆé€‚ã€‚</li></ul><h3 id="å…ƒç»„" tabindex="-1"><a class="header-anchor" href="#å…ƒç»„"><span>å…ƒç»„</span></a></h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨Haskellä¸­ï¼Œåˆ—è¡¨çš„å…ƒç´ ç±»å‹å¿…é¡»ç›¸åŒï¼Œè€Œå…ƒç»„Tupleä¸åŒï¼Œå…ƒç»„å¯ä»¥æ”¾å…¥ä¸åŒç±»å‹å…ƒç´ ã€‚</p><ul><li>å®šä¹‰ï¼š<code>(elem1, elem2, ...)</code>ã€‚</li><li>ä¸€èˆ¬æ¥è¯´åŸºæœ¬æ‰€æœ‰è¯­è¨€ä¸­ï¼Œå…ƒç»„çš„å…ƒç´ æ•°é‡å’Œæ¯ä¸ªå…ƒç´ çš„ç±»å‹åŒæ ·æ˜¯å…ƒç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ã€‚å¾ˆå¤šè¯­è¨€ä¸­å…ƒç»„åˆ—è¡¨å…ƒç´ éƒ½å¯å˜ï¼Œæœ‰çš„è¯­è¨€ä¸­å…ƒç»„ä¸å¯å˜åˆ—è¡¨å…ƒç´ å¯å˜ï¼Œå½“ç„¶Haskellæ˜¯çº¯å‡½æ•°å¼è¯­è¨€ï¼Œæ‰€ä»¥éƒ½ä¸å¯å˜ã€‚</li><li>å…ƒç»„çš„é‡ç‚¹åœ¨äºç±»å‹ï¼š<code>(1, 2)</code>å’Œ<code>(1, 2, 3)</code>å’Œ<code>(1, &quot;hello&quot;)</code>è‡ªç„¶æ˜¯ä¸åŒç±»å‹ã€‚å…ƒç»„çš„å®šä½åº”è¯¥æ›´ç±»ä¼¼äºCè¯­è¨€ä¸­çš„ç»“æ„ï¼Œä½†æ˜¯æ˜¯åŒ¿åçš„ï¼Œè€Œåˆ—è¡¨åˆ™ç±»ä¼¼äºæ•°ç»„ï¼Œä¸å¯ä¸€æ¦‚è€Œè®ºã€‚</li><li><code>fst snd</code>ç”¨äºäºŒå…ƒç»„ï¼ˆpairï¼Œåºå¯¹ï¼‰ä¸Šå–é¦–å’Œå°¾å…ƒç´ ã€‚ä¸èƒ½ç”¨äºå…¶ä»–é•¿åº¦çš„å…ƒç»„ã€‚</li><li><code>zip</code>æ‹‰é“¾ï¼Œå°†ä¸¤ä¸ªåˆ—è¡¨å¯¹åº”å…ƒç´ åˆå¹¶èµ·æ¥å¾—åˆ°äºŒå…ƒç»„åˆ—è¡¨ã€‚è¾ƒé•¿çš„åˆ—è¡¨ä¸­çš„æ— å¯¹åº”å…ƒç´ è¢«ä¸¢å¼ƒã€‚</li></ul><p>å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„ä¸€èˆ¬æ€è·¯ï¼šå…ˆå–ä¸€ä¸ªåˆå§‹é›†åˆï¼Œå¯¹å…¶è¿›è¡Œå˜å½¢ã€æ‰§è¡Œè¿‡æ»¤æ¡ä»¶ï¼ˆmap and reduceï¼‰å¾—åˆ°æœ€ç»ˆç»“æœã€‚</p><h2 id="type-typeclass" tabindex="-1"><a class="header-anchor" href="#type-typeclass"><span>Type &amp; Typeclass</span></a></h2><p>ä¸€èˆ¬å°†å…¶ç§°ä¹‹ä¸º<strong>ç±»å‹å’Œç±»å‹ç±»</strong>ã€‚</p><h3 id="ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ç±»å‹"><span>ç±»å‹</span></a></h3><ul><li>Haskellæ˜¯å¼ºç±»å‹å’Œé™æ€ç±»å‹çš„ã€‚ç¼–è¯‘æœŸæ¯ä¸ªè¡¨è¾¾å¼çš„ç±»å‹éƒ½ä¼šè¢«ç¡®å®šä¸‹æ¥ã€‚ç±»ä¼¼äºScalaï¼ŒHaskellæä¾›ç±»å‹æ¨å¯¼çš„èƒ½åŠ›ã€‚</li><li>åœ¨VsCodeä¸­ç¼–å†™å‡½æ•°æ—¶ï¼ŒHaskellè¯­è¨€æœåŠ¡å™¨ä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œå¹¶ä½œå‡ºæç¤ºã€‚</li><li>åœ¨ghciäº¤äº’ç¯å¢ƒä¸­ï¼šä½¿ç”¨<code>:t</code>å‘½ä»¤å¯ä»¥æ£€æµ‹å‡ºå…¶åè·Ÿçš„è¡¨è¾¾å¼çš„ç±»å‹ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; :t []</span></span>
<span class="line"><span>[] :: [a]</span></span>
<span class="line"><span>Prelude&gt; :t [1]</span></span>
<span class="line"><span>[1] :: Num a =&gt; [a]</span></span>
<span class="line"><span>Prelude&gt; :t (&#39;a&#39;, &quot;hello&quot;, 10)</span></span>
<span class="line"><span>(&#39;a&#39;, &quot;hello&quot;, 10) :: Num c =&gt; (Char, [Char], c)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¾“å‡ºç»“æœä¸º<code>expression :: type</code>ï¼Œ<code>::</code>è¯»åšâ€œç±»å‹ä¸ºâ€ï¼Œå‡¡æ˜¯æ˜ç¡®çš„ç±»å‹ï¼Œé¦–å­—æ¯å¿…é¡»å¤§å†™ã€‚å‡½æ•°ååˆ™å¿…é¡»å°å†™å­—æ¯å¼€å¤´ã€‚</li><li>å¸¸è§ç±»å‹ï¼š<code>Int Integer Float Double Bool Char</code>ï¼Œ<code>Integer</code>æ˜¯é«˜ç²¾åº¦å¤§æ•´æ•°ï¼Œ<code>Int</code>åœ¨32ä½ç³»ç»Ÿä¸­é€šå¸¸æ˜¯32æ•´æ•°ï¼Œåœ¨64ä½ç³»ç»Ÿä¸­æ˜¯64ä½æ•´æ•°ï¼Œ<code>Float Double</code>åˆ†åˆ«æ˜¯IEEE 754å•ç²¾åº¦å’ŒåŒç²¾åº¦æµ®ç‚¹æ•°ã€‚</li><li>å…ƒç»„ç±»å‹å’Œå…ƒç´ ä¸ªæ•°å’Œç±»å‹ç›¸å…³ï¼Œæ¯”å¦‚<code>(Char, Int)</code>ï¼Œæ•°ç»„ç±»å‹åˆ™ä¸å…ƒç´ ç±»å‹ç›¸å…³ï¼Œç±»ä¼¼äº<code>[Char]</code>ï¼Œå­—ç¬¦ä¸²æ˜¯<code>String</code>ç­‰ä»·äº<code>[Char]</code>ã€‚</li><li>å‡½æ•°çš„ç±»å‹ä½¿ç”¨<code>-&gt;</code>å°†å‚æ•°åˆ—è¡¨çš„ç±»å‹å’Œè¿”å›å€¼ç±»å‹ä¸²è”èµ·æ¥ï¼Œæ¯”å¦‚å‚æ•°æ˜¯ä¸¤ä¸ª<code>Int</code>ï¼Œè¿”å›å€¼ç±»å‹æ˜¯<code>Double</code>ï¼Œåˆ™å‡½æ•°ç±»å‹æ˜¯<code>Int -&gt; Int -&gt; Double</code>ã€‚æœ€åä¸€ä¸ªç±»å‹è¡¨ç¤ºè¿”å›å€¼ç±»å‹ã€‚</li></ul><h3 id="ç±»å‹å˜é‡" tabindex="-1"><a class="header-anchor" href="#ç±»å‹å˜é‡"><span>ç±»å‹å˜é‡</span></a></h3><p>å‡½æ•°<code>fst</code>ç±»å‹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; :t fst</span></span>
<span class="line"><span>fst :: (a, b) -&gt; a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ³¨æ„åˆ°ï¼Œè¿™é‡Œçš„<code>a b</code>è¡¨ç¤ºç±»å‹ï¼Œå¯ä»¥ç”¨äºä»»æ„ç±»å‹ï¼Œç§°ä¹‹ä¸ºç±»å‹å˜é‡ã€‚ä½œç”¨ç±»ä¼¼äºå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„æ³›å‹ï¼ˆGenericï¼‰ï¼Œä½†åœ¨Haskellä¸­æ›´ä¸ºå¼ºå¤§ã€‚æœ‰äº†ç±»å‹å˜é‡å¯ä»¥è½»æ˜“å†™å‡º<strong>ç±»å‹æ— å…³çš„å‡½æ•°</strong>ï¼Œä½¿ç”¨ç±»å‹å˜é‡çš„å‡½æ•°ç§°ä¹‹ä¸º<strong>å¤šæ€å‡½æ•°</strong>ã€‚</li><li>ä¸Šè¿°çš„<code>a b</code>åªæ˜¯ä»£è¡¨ä¸€ä¸ªç±»å‹ï¼Œå¹¶ä¸ä¸€å®šè¦æ˜¯ä¸åŒç±»å‹ï¼Œå½“ç”¨äº<code>(Int, Char)</code>çš„å‚æ•°æ—¶ï¼Œ<code>a</code>æ˜¯<code>Int</code>ï¼Œ<code>b</code>æ˜¯<code>Char</code>ã€‚</li></ul><h3 id="typeclass" tabindex="-1"><a class="header-anchor" href="#typeclass"><span>Typeclass</span></a></h3><div class="hint-container info"><p class="hint-container-title">ç›¸å…³ä¿¡æ¯</p><p><strong>åªæœ‰å½“å‡½æ•°ä¸­ä½¿ç”¨äº†æŸç§ç‰¹å®šæ“ä½œæ—¶ï¼Œæ‰éœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨â€œè¿™ä¸ªç±»å‹å¿…é¡»æ”¯æŒè¯¥æ“ä½œâ€</strong>ã€‚å¦åˆ™ï¼Œä¸éœ€è¦æ·»åŠ ç±»å‹ç±»ã€‚</p><hr><h3 id="âœ…-ä¸€ã€ä½ çš„ä¸¤ä¸ªä¾‹å­å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#âœ…-ä¸€ã€ä½ çš„ä¸¤ä¸ªä¾‹å­å¯¹æ¯”"><span>âœ… ä¸€ã€ä½ çš„ä¸¤ä¸ªä¾‹å­å¯¹æ¯”</span></a></h3><hr><h4 id="_1-addpairs-ä½¿ç”¨äº†-è¿ç®—" tabindex="-1"><a class="header-anchor" href="#_1-addpairs-ä½¿ç”¨äº†-è¿ç®—"><span>1. <code>addPairs</code> ä½¿ç”¨äº† <code>+</code> è¿ç®—ï¼š</span></a></h4><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addPairs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">addPairs (x,y) (x&#39;,y&#39;) = (x + x&#39;, y + y&#39;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>+</code> æ˜¯ <code>Num</code> ç±»å‹ç±»ä¸­çš„æ–¹æ³•ã€‚</li><li>æ‰€ä»¥ <code>a</code> å¿…é¡»å±äº <code>Num</code>ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¸çŸ¥é“ <code>a + a</code> æ˜¯ä¸æ˜¯åˆæ³•ã€‚</li><li>ğŸ’¡ è¿™å°±éœ€è¦åŠ çº¦æŸ <code>(Num a) =&gt;</code></li></ul><hr><h4 id="_2-head-æ²¡æœ‰ä½¿ç”¨ä»»ä½•ç±»å‹ç±»æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_2-head-æ²¡æœ‰ä½¿ç”¨ä»»ä½•ç±»å‹ç±»æ–¹æ³•"><span>2. <code>head&#39;</code> æ²¡æœ‰ä½¿ç”¨ä»»ä½•ç±»å‹ç±»æ–¹æ³•ï¼š</span></a></h4><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">head&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">head&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = error </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Empty list&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">head&#39; (x:_) = x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œåªæ˜¯è¿›è¡Œ<strong>æ¨¡å¼åŒ¹é…</strong>ï¼Œå¯¹åˆ—è¡¨ç»“æ„è¿›è¡Œæ‹†è§£ã€‚</li><li>å¹¶æ²¡æœ‰ç”¨åˆ°ä»»ä½•åƒ <code>+</code>, <code>&lt;</code>, <code>==</code> è¿™æ ·éœ€è¦ç±»å‹ç±»æ”¯æŒçš„æ“ä½œã€‚</li><li>ğŸ’¡ æ‰€ä»¥ <code>a</code> å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œä¸éœ€è¦åŠ çº¦æŸã€‚</li></ul><hr><h3 id="âœ…-äºŒã€ä»€ä¹ˆæƒ…å†µéœ€è¦åŠ ç±»å‹ç±»" tabindex="-1"><a class="header-anchor" href="#âœ…-äºŒã€ä»€ä¹ˆæƒ…å†µéœ€è¦åŠ ç±»å‹ç±»"><span>âœ… äºŒã€ä»€ä¹ˆæƒ…å†µéœ€è¦åŠ ç±»å‹ç±»ï¼Ÿ</span></a></h3><table><thead><tr><th>ä½ ç”¨åˆ°äº†ä»€ä¹ˆ</th><th>éœ€è¦çš„ç±»å‹ç±»</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>+</code>, <code>-</code>, <code>*</code></td><td><code>Num</code></td><td><code>a + b</code></td></tr><tr><td><code>==</code>, <code>/=</code></td><td><code>Eq</code></td><td><code>a == b</code></td></tr><tr><td><code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></td><td><code>Ord</code></td><td><code>a &gt; b</code></td></tr><tr><td><code>show</code></td><td><code>Show</code></td><td><code>show a</code>ï¼ˆæŠŠå€¼è½¬æˆå­—ç¬¦ä¸²ï¼‰</td></tr><tr><td><code>read</code></td><td><code>Read</code></td><td><code>read &quot;123&quot;</code></td></tr></tbody></table><hr><h3 id="âœ…-ä¸‰ã€ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦åŠ " tabindex="-1"><a class="header-anchor" href="#âœ…-ä¸‰ã€ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦åŠ "><span>âœ… ä¸‰ã€ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦åŠ ï¼Ÿ</span></a></h3><ul><li><strong>çº¯ç²¹ç»“æ„æ“ä½œ</strong>ï¼ˆå¦‚åˆ—è¡¨æ‹†è§£ã€æ„é€ å…ƒç»„ã€é€’å½’ç»“æ„ï¼‰ä¸ä¾èµ–äºç‰¹å®šç±»å‹çš„è¡Œä¸ºï¼Œå°±ä¸éœ€è¦ç±»å‹ç±»çº¦æŸã€‚</li><li>ä¾‹å¦‚ <code>length :: [a] -&gt; Int</code>ã€<code>head :: [a] -&gt; a</code>ã€<code>tail :: [a] -&gt; [a]</code>ã€‚</li></ul><hr><h3 id="âœ…-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#âœ…-æ€»ç»“"><span>âœ… æ€»ç»“</span></a></h3><ul><li><strong>ç”¨åˆ°äº†ç‰¹å®šè¡Œä¸º â†’ åŠ ç±»å‹ç±»</strong>ã€‚</li><li><strong>åªç»“æ„å¤„ç†ï¼Œä¸æ¶‰åŠè¡Œä¸º â†’ ä¸éœ€è¦åŠ ç±»å‹ç±»</strong>ã€‚</li></ul><hr></div><ul><li>Typeclassç§°ä¹‹ä¸ºç±»å‹ç±»ï¼Œå®šä¹‰ç±»å‹çš„è¡Œä¸ºï¼Œå¦‚æœæŸä¸€ä¸ªç±»å‹å±äºæŸä¸€ä¸ªç±»å‹ç±»ï¼Œé‚£ä¹ˆå®ƒå¿…ç„¶å®ç°äº†è¯¥ç±»å‹ç±»æè¿°çš„æ–¹æ³•ã€‚å°±ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çº¯è™šç±»æˆ–è€…æ¥å£ç±»çš„ä½œç”¨ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; :t (==)</span></span>
<span class="line"><span>(==) :: Eq a =&gt; a -&gt; a -&gt; Bool</span></span>
<span class="line"><span>Prelude&gt; :t elem</span></span>
<span class="line"><span>elem :: (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…¶ä¸­çš„<code>Eq</code>å°±æ˜¯ä¸€ç§ç±»å‹ç±»ã€‚</li><li>è¿™é‡Œæœ‰ä¸€ä¸ªç¬¦å·<code>=&gt;</code>ï¼Œå…¶å·¦è¾¹çš„ä¸œè¥¿å«<strong>ç±»å‹çº¦æŸ</strong>ï¼ˆType constraints ï¼‰ï¼Œä¸€ä¸ªç±»å‹å£°æ˜å¯ä»¥çœ‹åšä¸¤æ®µï¼Œ<code>=&gt;</code>å³è¾¹çš„éƒ¨åˆ†æ˜¯ç±»å‹ï¼Œå·¦è¾¹çš„éƒ¨åˆ†çº¦æŸäº†ç±»å‹å˜é‡å¿…é¡»å±äºçš„ç±»å‹ç±»ã€‚</li><li>å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹å¦‚æœå±äºæŸä¸€ä¸ªæˆ–å‡ ä¸ªç±»å‹ç±»ï¼ˆä¹Ÿå°±æ˜¯åªå¯¹ç±»å‹è¿›è¡Œçº¦æŸï¼Œä¸é™å®šå…·ä½“ç±»å‹ï¼‰ï¼Œé‚£ä¹ˆå¿…é¡»æ”¾åœ¨<code>=&gt;</code>å‰å¹¶ç”¨ç±»å‹å˜é‡æŒ‡ä»£ï¼Œå¦‚æœæ˜¯å…·ä½“ç±»å‹ï¼Œå¿…é¡»æ”¾åœ¨<code>=&gt;</code>åã€‚</li><li>å¤šä¸ªç±»å‹çº¦æŸæ”¾åœ¨æ‹¬å·ä¸­ï¼Œå¯ä»¥ç”¨å¤šä¸ªç±»å‹ç±»çº¦æŸåŒä¸€ä¸ªç±»å‹å˜é‡ï¼Œè¡¨ç¤ºä¸€ä¸ªç±»å‹å¿…é¡»åŒæ—¶å±äºå¤šä¸ªç±»å‹ç±»ã€‚</li><li>å¸¸è§ç±»å‹ç±»ï¼š <ul><li><code>Eq</code>æ˜¯å¯åˆ¤æ–­ç›¸ç­‰æ€§çš„ç±»å‹ç±»ï¼Œæä¾›<code>== /=</code>å‡½æ•°ï¼Œé™¤å‡½æ•°ä»¥å¤–æ‰€æœ‰ç±»å‹éƒ½å®ç°äº†è¿™ä¸ªç±»å‹ç±»ã€‚</li><li><code>Ord</code>æ˜¯å¯æ¯”è¾ƒå¤§å°çš„ç±»å‹ç±»ï¼Œæä¾›<code>&lt; &gt; &lt;= &gt;=</code>ä¹‹ç±»ç”¨äºæ¯”è¾ƒå¤§å°çš„å‡½æ•°ã€‚</li><li><code>compare</code>å‡½æ•°ç”¨äºä¸¤ä¸ªåŒç±»<code>Ord</code>çš„æ¯”è¾ƒï¼Œç±»å‹æ˜¯<code>Ord a =&gt; a -&gt; a -&gt; Ordering</code>ï¼Œç»“æœæ˜¯ä»¥ä¸‹ä¸‰ä¸ªå€¼ä¹‹ä¸€ï¼š<code>LT EQ GT</code>ï¼Œå¹¶å…·æœ‰å¤§å°å…³ç³»<code>LT &lt; EQ &lt; GT</code>ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; 5 `compare` 3</span></span>
<span class="line"><span>GT</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Show</code>æ˜¯æˆå‘˜å¯ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„ç±»å‹ç±»ã€‚å¸¸ç”¨å‡½æ•°æ˜¯<code>show</code>ï¼Œå°†ç±»å‹è½¬æ¢ä¸º<code>[Char]/String</code>ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&gt;&gt;&gt; :t show</span></span>
<span class="line"><span>show :: Show a =&gt; a -&gt; String</span></span>
<span class="line"><span>&gt;&gt;&gt; show True</span></span>
<span class="line"><span>&quot;True&quot;</span></span>
<span class="line"><span>&gt;&gt;&gt; show [1, 2]</span></span>
<span class="line"><span>&quot;[1,2]&quot;</span></span>
<span class="line"><span>&gt;&gt;&gt; show &quot;hello&quot;</span></span>
<span class="line"><span>&quot;\&quot;hello\&quot;&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Read</code>æ˜¯<code>Show</code>ç›¸åçš„ç±»å‹ç±»ï¼Œ<code>read</code>å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸º<code>Read</code>çš„å®ä¾‹ç±»å‹ã€‚ä½œç”¨å¯èƒ½å°±ç±»ä¼¼äºåœ¨ä»£ç ä¸­è¿™æ ·å†™å·®ä¸å¤šã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&gt;&gt;&gt; :t read</span></span>
<span class="line"><span>read :: Read a =&gt; String -&gt; a</span></span>
<span class="line"><span>&gt;&gt;&gt; read &quot;1.2&quot; + 3.2</span></span>
<span class="line"><span>4.4</span></span>
<span class="line"><span>&gt;&gt;&gt; read &quot;1&quot;</span></span>
<span class="line"><span>Prelude.read: no parse</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å•çº¯çš„<code>read</code>è¿”å›ä¸€ä¸ª<code>Read a</code>ï¼Œæ— æ³•åŒºåˆ†å…·ä½“ç±»å‹ï¼Œå¯ä»¥åœ¨è°ƒç”¨æ—¶åé¢åŠ ä¸Š<code>::</code>ç±»å‹æ³¨é‡Šï¼Œä»¥æ˜ç¡®ç±»å‹ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&gt;&gt;&gt; read &quot;1.0&quot; :: Double</span></span>
<span class="line"><span>1.0</span></span>
<span class="line"><span>&gt;&gt;&gt; read &quot;(1.0, \&quot;hello\&quot;, 10)&quot; :: (Double, [Char], Int)</span></span>
<span class="line"><span>(1.0,&quot;hello&quot;,10)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Enum</code>çš„ç±»å‹ç±»çš„å®ä¾‹éƒ½æ˜¯å¯æšä¸¾ç±»å‹ï¼Œå±äº<code>Enum</code>ç±»å‹ç±»çš„ç±»å‹å¯ä»¥ç”¨äº<code>Range</code>ä¸­ã€‚æ¯ä¸ªå€¼éƒ½æœ‰åç»§ï¼ˆsuccesserï¼‰å’Œå‰ç½®ï¼ˆpredecesorï¼‰ï¼Œå¯åˆ†åˆ«é€šè¿‡<code>suc</code>å’Œ<code>pred</code>å¾—åˆ°ã€‚åŒ…å«ç±»å‹æœ‰ï¼š<code>() Bool Char Ordering Int Integer Float Double</code>ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&gt;&gt;&gt; succ LT</span></span>
<span class="line"><span>EQ</span></span>
<span class="line"><span>&gt;&gt;&gt; [LT .. GT ]</span></span>
<span class="line"><span>[LT,EQ,GT]</span></span>
<span class="line"><span>&gt;&gt;&gt; [1 .. 10]</span></span>
<span class="line"><span>[1,2,3,4,5,6,7,8,9,10]</span></span>
<span class="line"><span>&gt;&gt;&gt; [False ..]</span></span>
<span class="line"><span>[False,True]</span></span>
<span class="line"><span>&gt;&gt;&gt; succ 1.3</span></span>
<span class="line"><span>2.3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Bounded</code>ç±»å‹ç±»éƒ½æœ‰ä¸€ä¸ªä¸Šé™å’Œä¸‹é™ã€‚<code>minBound maxBound</code>çš„è¿”å›ç±»å‹æ˜¯<code>Bounded a =&gt; a</code>ï¼Œæ— å‚æ•°ï¼Œå¾—åˆ°ä¸€ä¸ª<code>Bounded</code>ç±»å‹çš„ä¸‹é™å’Œä¸Šé™ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&gt;&gt;&gt; :t minBound</span></span>
<span class="line"><span>minBound :: Bounded a =&gt; a</span></span>
<span class="line"><span>&gt;&gt;&gt; minBound :: Int</span></span>
<span class="line"><span>-9223372036854775808</span></span>
<span class="line"><span>&gt;&gt;&gt; maxBound :: Int</span></span>
<span class="line"><span>9223372036854775807</span></span>
<span class="line"><span>&gt;&gt;&gt; minBound :: Ordering</span></span>
<span class="line"><span>LT</span></span>
<span class="line"><span>&gt;&gt;&gt; minBound :: Char</span></span>
<span class="line"><span>&#39;\NUL&#39;</span></span>
<span class="line"><span>&gt;&gt;&gt; maxBound :: Char</span></span>
<span class="line"><span>&#39;\1114111&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Num</code>è¡¨ç¤ºæ•°å­—ã€‚åŒ…æ‹¬æ‰€æœ‰å®æ•°å’Œæ•´æ•°:</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&gt;&gt;&gt; :t (*)</span></span>
<span class="line"><span>(*) :: Num a =&gt; a -&gt; a -&gt; a</span></span>
<span class="line"><span>&gt;&gt;&gt; :t (+)</span></span>
<span class="line"><span>(+) :: Num a =&gt; a -&gt; a -&gt; a</span></span>
<span class="line"><span>&gt;&gt;&gt; (5 :: Int) * 6.0</span></span>
<span class="line"><span>No instance for (Fractional Int) arising from the literal â€˜6.0â€™</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Integral</code>æ˜¯è¡¨ç¤ºæ•´æ•°çš„ç±»å‹ç±»ï¼ŒåŒ…å«<code>Int Integer</code>ã€‚</li><li><code>Floating</code>è¡¨æµ®ç‚¹æ•°ï¼ŒåŒ…å«<code>Float Double</code>ã€‚</li><li><code>fromIntegral</code>å‡½æ•°å¤„ç†æ•°å­—æ—¶å¾ˆæœ‰ç”¨ï¼Œç±»å‹æ˜¯<code>(Integral a, Num b) =&gt; a -&gt; b</code>ä»æ•´æ•°æå–å‡ºä¸€ä¸ªæ›´é€šç”¨çš„<code>Num</code>ã€‚æ¯”å¦‚å½“<code>length [1, 2] * 5</code>çš„<code>*</code>ç±»å‹æ˜¯<code>Int -&gt; Int</code>æ²¡æœ‰é—®é¢˜ï¼Œä½†<code>length [1, 2] * 5.0</code>åˆ™ä¼šç±»å‹ä¸åŒ¹é…ã€‚</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&gt;&gt;&gt; :t fromIntegral</span></span>
<span class="line"><span>fromIntegral :: (Integral a, Num b) =&gt; a -&gt; b</span></span>
<span class="line"><span>&gt;&gt;&gt; length [1, 2, 3] * 5.0</span></span>
<span class="line"><span>No instance for (Fractional Int) arising from the literal â€˜5.0â€™</span></span>
<span class="line"><span>&gt;&gt;&gt; fromIntegral (length [1, 2, 3]) * 5.0</span></span>
<span class="line"><span>15.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>å¯è§Haskellå¯¹ç±»å‹åŒ¹é…çš„å¤„ç†æ˜¯å¾ˆä¸¥æ ¼çš„ï¼ŒC++æ¨¡æ¿ä¹Ÿå¯ä»¥åšåˆ°ç±»ä¼¼çš„äº‹æƒ…ï¼Œä¸è¿‡å¯¹äºå†…ç½®ç±»å‹æ¥è¯´ï¼Œå› ä¸ºæœ‰æ•´å‹æå‡å’Œéšå¼ç±»å‹è½¬æ¢çš„å­˜åœ¨ï¼Œè¿ç®—ç¬¦çš„ç±»å‹æ£€æŸ¥å…¶å®å¹¶æ²¡æœ‰ä¸¥æ ¼åˆ°è¿™ç§åœ°æ­¥ã€‚</li><li>å…¶å®åªæ˜¯ä¸€ç§å½¢å¼ï¼Œç±»å‹ç±»æä¾›çš„åŠŸèƒ½ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­ä¹Ÿæœ‰æä¾›ï¼Œjavaçš„interfaceï¼ŒPythonä¸­çš„<code>__eq__ __str__</code>ç­‰ç‰¹æ®Šæ–¹æ³•ï¼ŒC++çš„ç»§æ‰¿ï¼Œéƒ½å¼‚æ›²åŒå·¥ã€‚</li></ul><p>å¤šæ€å‡½æ•°ï¼š</p><ul><li>å¤šæ€å‡½æ•°åœ¨è°ƒç”¨æ—¶ä¼šéšå¼åœ°ç»™ä¼ å…¥ç±»å‹å‚æ•°ç»™ç±»å‹å˜é‡ï¼ˆå¯ä»¥ç±»æ¯”C++æ¨¡æ¿å‡½æ•°è°ƒç”¨æ—¶ç»™çš„å¯ä»¥çœç•¥çš„æ¨¡æ¿ç±»å‹å‚æ•°ï¼‰ï¼Œå¯ä»¥æ˜¯å…·ä½“ç±»å‹é‚£ä¹ˆç±»å‹å‚æ•°å°±è¢«ç¡®å®šï¼Œä¹Ÿå¯ä»¥æ˜¯ç±»å‹ç±»é‚£ä¹ˆå°±æ·»åŠ åˆ°çº¦æŸä¸­ã€‚å¦‚æœç±»å‹å˜é‡æœ¬èº«å°±æœ‰çº¦æŸï¼Œå¯ä»¥ä¼ å…¥çº¦æŸä¸­ç±»å‹ç±»æœ¬èº«ã€å­ç±»å‹ç±»ã€å®ç°äº†è¿™ä¸ªç±»å‹ç±»çš„ç±»å‹å®ä¾‹ã€‚è¿™æ˜¯ç”±Haskellçš„ç±»å‹æ¨å¯¼åšåˆ°çš„ï¼Œä¸ç”¨æ˜¾ç¤ºä¼ å…¥ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t fromIntegral</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fromIntegral</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t sqrt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sqrt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t sqrt . fromIntegral</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sqrt . fromIntegral :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è®°ä½<strong>ç±»å‹ç±»æ˜¯çº¦æŸè€Œä¸æ˜¯ä¸€ç§å…·ä½“çš„ç±»å‹</strong>ã€‚</li></ul><h2 id="å‡½æ•°ç›¸å…³è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°ç›¸å…³è¯­æ³•"><span>å‡½æ•°ç›¸å…³è¯­æ³•</span></a></h2><h3 id="æ¨¡å¼åŒ¹é…-pattern-matching" tabindex="-1"><a class="header-anchor" href="#æ¨¡å¼åŒ¹é…-pattern-matching"><span>æ¨¡å¼åŒ¹é…(Pattern matching)</span></a></h3><p>æ¨¡å¼åŒ¹é…æœ¬è´¨ä¸Šå°±æ˜¯æä¾›ä¸€ç§ç”¨æ¥ç®€åŒ–å¤æ‚çš„åˆ¤æ–­å’Œæ¯”è¾ƒçš„è¯­æ³•ç³–ã€‚</p><p>æ¨¡å¼åŒ¹é…é€šè¿‡æ£€æŸ¥æ•°æ®çš„ç‰¹å®šç»“æ„æ¥æ£€æŸ¥æ˜¯å¦åŒ¹é…ï¼Œå¹¶ä»æ¨¡å¼ä¸­æå–æ•°æ®ã€‚</p><ul><li>å¯¹äºåˆ—è¡¨å¯ä»¥ä½¿ç”¨<code>:</code>è¿ç®—ç¬¦è¿›è¡ŒåŒ¹é…ï¼Œæ¯”å¦‚åˆ¤æ–­ä¸€ä¸ªåˆ—è¡¨æ˜¯å¦æ˜¯é€’å¢çš„å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">increasing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">increasing xs = </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> xs == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    then</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> True</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tail xs == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         then</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> True</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> head xs &lt;= head (tail xs)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> increasing (tail xs)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              else</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> False</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">increasing&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">increasing&#39;&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">increasing&#39;&#39; [x] = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">increasing&#39;&#39; (x:y:ys) = x &lt;= y &amp;&amp; increasing&#39;&#39;(y:ys)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- simplify</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">increasing&#39;&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">increasing&#39;&#39;&#39; (x:y:ys) = x &lt;= y &amp;&amp; increasing&#39;&#39;&#39; (y:ys)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">increasing&#39;&#39;&#39; _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ¨¡å¼åŒ¹é…æ˜¯æŒ‰ç…§å®šä¹‰é¡ºåºæ¥çš„ï¼ŒåŒ¹é…åˆ°å°±åœæ­¢ã€‚ã€ä¸åƒprologä¼šåŒæ—¶å°è¯•åŒ¹é…æ‰€æœ‰æ¨¡å¼ï¼Œä¸åŒæ¨¡å¼çš„æ¡ä»¶éœ€è¦äº’æ–¥ã€‘ã€‚</li><li>è°ƒç”¨çš„å‚æ•°æ²¡æœ‰åŒ¹é…åˆ°çš„è¯ä¼šæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œæ‰€ä»¥åŒ¹é…åº”è¯¥å®Œå¤‡ï¼Œå¿…é¡»èƒ½å¤ŸåŒ¹é…æ‰€æœ‰æƒ…å†µçš„è¾“å…¥ï¼Œéœ€è¦ç¼–å†™ä¸€ä¸ªæ¨¡å¼ç”¨ä»¥åŒ¹é…å‰©ä½™çš„æƒ…å†µï¼Œæ¯”å¦‚ä½¿ç”¨<code>_</code>æ”¾åˆ°æœ€åã€‚</li><li>åŒ¹é…æ—¶è‹¥ä¸éœ€è¦æ¥å—åŒ¹é…ç»“æœï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>_</code>ã€‚</li><li>åˆ—è¡¨ä¸èƒ½ä½¿ç”¨<code>++</code>åŒ¹é…ï¼Œ<code>x:xs</code>å¸¸ç”¨äºåŒ¹é…ä¸å›ºå®šé•¿åº¦åˆ—è¡¨ï¼Œå¸¸è§äºé€’å½’å‡½æ•°ä¸­ï¼Œ<code>[x, y]</code>ç›´æ¥åˆ—å‡ºå…ƒç´ ç”¨äºåŒ¹é…å›ºå®šé•¿åº¦åˆ—è¡¨ã€‚</li><li>åˆ—è¡¨çš„<code>as</code>æ¨¡å¼å¯ä»¥ç”¨äºè·å–æ•´ä¸ªåˆ—è¡¨ï¼Œæ¯”å¦‚<code>xs@(x:y:ys)</code>ï¼Œåˆ™<code>xs</code>å¾—åˆ°æ•´ä¸ª<code>x:y:ys</code>ï¼Œè€Œä¸å¿…å†å°†æ•´ä¸ª<code>x:y:ys</code>å†™ä¸€éã€‚</li><li>å…ƒç»„çš„æ¨¡å¼åŒ¹é…ä»…å¯ä»¥åŒ¹é…å…·ä½“çš„é¡¹ã€‚å¦‚ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">first</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">first (x, _, _) = x</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">second (_, y, _) = y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">third</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">third (_, _, z) = z</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®ˆå«" tabindex="-1"><a class="header-anchor" href="#å®ˆå«"><span>å®ˆå«</span></a></h3><p>æ¨¡å¼ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦å¯ä»¥ä»ä¸­å–å€¼ï¼Œè€Œå®ˆå«ï¼ˆGuardï¼‰åˆ™ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªå€¼çš„æŸé¡¹å±æ€§æ˜¯å¦ä¸ºçœŸï¼Œæ˜¯å¦ä¸€ç§<code>if</code>çš„è¯­æ³•ç³–ã€‚åœ¨å¤šåˆ†æ”¯æ¡ä»¶ä¸‹å®ˆå«çš„å¯è¯»æ€§æ›´é«˜ï¼Œå¹¶ä¸”å’Œæ¨¡å¼åŒ¹é…å¯ä»¥å¾ˆå¥½çš„å¥‘åˆã€‚</p><ul><li>å¯¹äº<code>increasing</code>å‡½æ•°çš„ä¾‹å­ï¼Œå¯ä»¥ä½¿ç”¨å®ˆå«ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">increasing&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">increasing&#39; xs</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | null xs = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | null (tail xs) = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | head xs &lt;= head (tail xs) = increasing&#39; (tail xs)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯ä»¥å°†å…¶çœ‹åš<code>if - else if - else if ... else</code>ç»“æ„ï¼Œæœ€åçš„<code>otherwise</code>æ˜¯æœ€åçš„<code>else</code>ä¹Ÿå°±æ˜¯ä¸‡èƒ½åŒ¹é…ï¼Œå¯æœ‰å¯æ— ï¼Œå¦‚æœæ²¡æœ‰<code>otherwise</code>ä¸”ä¸æ»¡è¶³å‰é¢æ‰€æœ‰æ¡ä»¶ï¼Œåˆ™ä¼šè½¬å…¥ä¸‹ä¸€ä¸ªæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œæ‰€ä»¥å®ˆå«å’Œæ¨¡å¼æ˜¯å®Œå…¨å¥‘åˆèµ·æ¥çš„ã€‚</li></ul><h3 id="whereå…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#whereå…³é”®å­—"><span>whereå…³é”®å­—</span></a></h3><p>åœ¨å®ˆå«ä¸­ï¼Œå¯èƒ½å‡ºç°å¤šä¸ªæ¡ä»¶ä½¿ç”¨äº†åŒä¸€ä¸ªå˜é‡ï¼Œè®¡ç®—äº†åŒä¸€ä¸ªä¸­é—´å€¼çš„æƒ…å†µï¼Œå¦‚æœåœ¨æ¯ä¸ªæ¡ä»¶ä¸­è®¡ç®—ä¸€æ¬¡å°±ä¼šæœ‰é‡å¤ï¼Œè€Œé‡å¤æ˜¯å¤©ç”Ÿå°±åº”è¯¥è¢«ä¼˜åŒ–çš„ã€‚è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨<code>where</code>ï¼Œç”¨äºè®¡ç®—é‡å¤çš„éƒ¨åˆ†ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bmiTell</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RealFloat</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">bmiTell weight height  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | bmi &lt;= skinny = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;You&#39;re underweight, you emo, you!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | bmi &lt;= normal = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;You&#39;re supposedly normal. Pffft, I bet you&#39;re ugly!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | bmi &lt;= fat    = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;You&#39;re fat! Lose some weight, fatty!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise     = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;You&#39;re a whale, congratulations!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bmi = weight / height ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          skinny = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18.5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          normal = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">25.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          fat = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>where</code>ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªåå­—å’Œå‡½æ•°ï¼Œæ¯ä¸ªåå­—å¯¹å®ˆå«éƒ½æ˜¯å¯è§çš„ï¼Œå¹¶ä¸”ä»…å¯¹æœ¬å‡½æ•°å¯è§ï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€å’Œå…¶ä»–å‡½æ•°çš„åç§°ç©ºé—´ã€‚å…¶ä¸­çš„åå­—éƒ½æ˜¯ä¸€åˆ—å‚ç›´æ’å¼€ï¼Œè¿™æ˜¯è¯­æ³•è§„èŒƒã€‚</li><li><code>where</code>ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bmi = weight / height ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (skinny, normal, fat) = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18.5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">25.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>where</code>ä¸­å¯ä»¥å®šä¹‰è¾…åŠ©å‡½æ•°ï¼Œå…¶ä¸­åˆå¯ä»¥ä½¿ç”¨<code>where</code>ï¼Œå…¶ä¸­åˆå¯ä»¥å®šä¹‰è¾…åŠ©å‡½æ•°ï¼Œå¯ä»¥å¤šå±‚åµŒå¥—ã€‚</li></ul><h3 id="letå…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#letå…³é”®å­—"><span>letå…³é”®å­—</span></a></h3><p><code>where</code> ç»‘å®šæ˜¯åœ¨å‡½æ•°åº•éƒ¨å®šä¹‰åå­—ï¼Œå¯¹åŒ…æ‹¬æ‰€æœ‰å®ˆå«åœ¨å†…çš„æ•´ä¸ªå‡½æ•°å¯è§ã€‚<code>let</code>ç»‘å®šåˆ™æ˜¯ä¸ªè¡¨è¾¾å¼ï¼Œå…è®¸åœ¨ä»»ä½•ä½ç½®å®šä¹‰å±€éƒ¨å˜é‡ï¼Œå¯¹ä¸åŒçš„å®ˆå«ä¸å¯è§ã€‚æ­£å¦‚Haskellä¸­æ‰€æœ‰èµ‹å€¼ç»“æ„ä¸€æ ·ï¼Œ<code>let</code>ç»‘å®šä¹Ÿå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ã€‚</p><ul><li>æ ¼å¼ä¸º<code>let [binding] in [expressions]</code>ï¼Œåœ¨<code>binding</code>ä¸­ç»‘å®šçš„åå­—ä»…åœ¨<code>expressions</code>ä¸­å¯è§ã€‚</li><li><code>let</code>å°†ç»‘å®šæ”¾åœ¨å‰é¢ï¼Œ<code>where</code>æ”¾åœ¨åé¢ã€‚åŒºåˆ«åœ¨äº<code>where</code>æ˜¯ä¸€ä¸ªè¯­æ³•ç»“æ„ï¼Œè€Œ<code>let</code>æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚æ‰€ä»¥å’Œ<code>if</code>è¡¨è¾¾å¼ä¸€æ ·ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•è¡¨è¾¾å¼å¯ä»¥æ”¾çš„åœ°æ–¹ã€‚<code>let</code>ç»“æ„ä¸­<code>expressions</code>çš„å€¼å°±æ˜¯æ•´ä¸ª<code>let</code>è¡¨è¾¾å¼çš„å€¼ã€‚</li><li>æ¯”å¦‚ç”¨äºå®šä¹‰å±€éƒ¨å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> square x = x * x </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (square </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, square </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœè¦åœ¨ä¸€è¡Œä¸­ç»‘å®šå¤šä¸ªåå­—ï¼Œå¦‚æœè¦å°†å¤šä¸ªåå­—æ’æˆä¸€è¡Œå¯ä»¥ç”¨<code>;</code>éš”å¼€ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; b = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a + b</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">120</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½†<code>let</code>ç»‘å®šä¸­ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…çš„ï¼Œæ‰€ä»¥ç”¨å…ƒç»„åŒ¹é…æ˜¾ç„¶æ›´å¥½ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a, b) = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a + b</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">120</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯ä»¥å°†<code>let</code>ç»‘å®šæ”¾åœ¨åˆ—è¡¨ç”Ÿæˆå¼ä¸­å•çº¯ç”¨äºå®šä¹‰åå­—ï¼Œè€Œæ²¡æœ‰<code>in</code>ï¼Œæ­¤æ—¶å…¶ä¸­å®šä¹‰çš„åå­—å¯¹å…¶åçš„æ¡ä»¶å’Œ<code>|</code>å‰çš„è¡¨è¾¾å¼å¯è§ã€‚å¦‚æœæ˜¯ç”¨<code>let</code>è¡¨è¾¾å¼ä½œä¸ºæ¡ä»¶åˆ™å¯ä»¥æœ‰<code>in</code>ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„<code>let</code>è¡¨è¾¾å¼ï¼Œå…¶ä¸­åå­—ä¸ä¼šå¯¹åˆ—è¡¨ç”Ÿæˆå¼<code>|</code>å‰çš„è¡¨è¾¾å¼å’Œåç»­æ¡ä»¶å¯è§ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">calcBmis</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RealFloat</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; [(</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">calcBmis xs = [bmi | (w, h) &lt;- xs, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bmi = w / h ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, bmi &gt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">25.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="caseè¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#caseè¡¨è¾¾å¼"><span>caseè¡¨è¾¾å¼</span></a></h3><p>è¯­æ³•ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">case</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> expression </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">of</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pattern1 -&gt; result1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                   pattern2 -&gt; result2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                   pattern3 -&gt; result3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                   ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‡½æ•°çš„æ¨¡å¼åŒ¹é…å°±æ˜¯<code>case</code>è¡¨è¾¾å¼çš„è¯­æ³•ç³–è€Œå·²ï¼Œ</li><li>æ¯”å¦‚<code>incresing</code>çš„æ¨¡å¼åŒ¹é…å°±ç­‰ä»·äºï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">increasing&#39;&#39;&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">increasing&#39;&#39;&#39;&#39; xs = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">case</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> xs </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">of</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (x:y:ys) -&gt; x &lt;= y &amp;&amp; increasing&#39;&#39;&#39;&#39; (y:ys)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                               _        -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‡½æ•°å‚æ•°æ¨¡å¼åŒ¹é…åªèƒ½ç”¨äºå‡½æ•°å®šä¹‰æ—¶ï¼Œè€Œ<code>case</code>è¡¨è¾¾å¼å¯ä»¥ç”¨äºä»»ä½•åœ°æ–¹ã€‚</li></ul><p>ç©¶æ ¹ç»“åº•ï¼Œæ¨¡å¼åŒ¹é…ã€å®ˆå«ã€caseè¡¨è¾¾å¼éƒ½æ˜¯æ¡ä»¶åˆ¤æ–­çš„è¯­æ³•ç³–ï¼Œä¸ºäº†æ›´æ–¹ä¾¿åœ°è¿›è¡Œåˆ†æ”¯è€Œäº§ç”Ÿçš„è¯­æ³•ï¼Œåœ¨æ”¯æŒå‡½æ•°å¼ç¼–ç¨‹çš„è¯­è¨€ä¸­ï¼Œè¿™äº›éƒ½æ˜¯å¿…ä¸å¯å°‘çš„ç³–ï¼Œä½¿ç”¨å¤šå±‚çš„<code>if-else</code>åµŒå¥—ä¼šæ˜¾å¾—å¾ˆå†—ä½™ã€‚</p><h2 id="é€’å½’" tabindex="-1"><a class="header-anchor" href="#é€’å½’"><span>é€’å½’</span></a></h2><p>å…ˆæ¥ä¸€ä¸ªä¼ ç»Ÿè‰ºèƒ½ï¼š</p><ul><li>æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆæŒ‡æ•°å¤æ‚åº¦ï¼Œé¿å…æµ‹è¯•è¿‡å¤§çš„å‚æ•°ï¼‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- fibonacci sequence</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fib 10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">55</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fib 10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">55</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fib</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fib </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fib </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fib n = fib(n-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) + fib(n-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å°¾é€’å½’ç‰ˆæœ¬ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fib&#39; 10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">55</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fib&#39; 100</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">354224848179261915075</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fib&#39; 300</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">222232244629420445529739893461909967206666939096499764990979600</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fib&#39; (50 :: Integer)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">12586269025</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fib&#39; (100 :: Int)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">3736710778780434371</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fibonacci</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fibonacci </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a b = b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fibonacci n a b = fibonacci (n - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (a + b) a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fib&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fib&#39; n = fibonacci n </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºHaskellæ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼Œæ²¡æœ‰å¾ªç¯ï¼Œæ‰€ä»¥è¦å®ç°å¾ªç¯å°±åªèƒ½é€šè¿‡é€’å½’ï¼Œæ‰€ä»¥é€’å½’çš„é‡è¦æ€§åˆä¸Šäº†ä¸€å±‚ï¼Œä¸å†æ˜¯ä»…ç”¨äºé€’å½’æ€§è´¨çš„æ•°æ®ç»“æ„æˆ–è€…é€’å½’çš„è¡¨è¾¾å¼æ±‚è§£ã€‚æœ€æ™®é€šçš„åˆ—è¡¨é›†åˆçš„æ“ä½œéƒ½éœ€è¦é€šè¿‡é€’å½’æ¥å®ç°ï¼Œè¿™æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹ï¼Œä»å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€è½¬æ¢åˆ°å‡½æ•°å¼éœ€è¦é‡ç‚¹ç†Ÿæ‚‰é”»ç‚¼è¿™ä¸€ç‚¹ã€‚</p><ul><li>æ±‚æœ€å¤§å€¼ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">maximum&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">maximum&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = error </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;maximum a empty list&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">maximum&#39; [x] = x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">maximum&#39; (x:xs) = max x (maximum&#39; xs)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>replciate</code>å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">replicate&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">replicate&#39; n x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | n &lt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = x:replicate&#39; (n-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å–åˆ—è¡¨å‰nä¸ªå…ƒç´ ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">take&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">take&#39; n _</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | n &lt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">take&#39; _ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">take&#39; n (x:xs) = x : take&#39; (n-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) xs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨åˆ—è¡¨ä¸­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">elem&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">elem&#39; a </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">elem&#39; a (x:xs)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | x == a = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = a `elem&#39;` xs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ—è¡¨ç›¸å…³æ“ä½œéƒ½å¯ä»¥é€šè¿‡é€’å½’å®ç°ï¼Œå€ŸåŠ©æ¨¡å¼åŒ¹é…å®ç°èµ·æ¥éƒ½éå¸¸ç®€å•ã€‚</li><li>å¿«é€Ÿæ’åºï¼šå°±ä¸€ä¸ªå­—ï¼Œç®€å•å¾—æœ‰ç‚¹ç¦»è°±ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- quick sort</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; quicksort [3, 1, 2, 4, 5, 7, 9, 100, -10]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[-10,1,2,3,4,5,7,9,100]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; quicksort &quot;the quick brown fox jumps over the lazy dog&#39;s back&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;         &#39;aabbccdeeefghhijkklmnoooopqrrssttuuvwxyz&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">quicksort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">quicksort </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">quicksort (x:xs) = </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> smallerSorted = quicksort [a | a &lt;- xs, a &lt;= x]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        biggerSorted = quicksort [a | a &lt;- xs, a &gt; x]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> smallerSorted ++ (x : biggerSorted)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€’å½’çš„ä¹¦å†™æ¨¡å¼ï¼š</p><ul><li>å¤„ç†è¾¹ç•Œæ¡ä»¶ï¼Œå¦‚ç©ºåˆ—è¡¨ã€æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€0ã€è´Ÿå€¼ç­‰æƒ…å†µï¼Œå•ç‹¬å®šä¹‰ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å¼ã€‚å¤šä¸ªå‚æ•°çš„è¯åˆ™éœ€è¦è€ƒè™‘å¤šç§æƒ…å†µï¼Œå¹¶æ³¨æ„ä»–ä»¬çš„é¡ºåºã€‚</li><li>å®šä¹‰ä¸€èˆ¬å¤„ç†é€»è¾‘ï¼Œä»ä¸€ç³»åˆ—å…ƒç´ ä¸­å–å‡ºä¸€ä¸ªï¼Œå¤„ç†å®Œåï¼Œå°†å‰©ä½™çš„å…ƒç´ äº¤ç»™è¿™ä¸ªå‡½æ•°ç»§ç»­å¤„ç†ã€‚</li></ul><p>åœ¨å‘½ä»¤å¼è¯­è¨€ä¸­ï¼Œä¸ºäº†é¿å…é€’å½’å¸¦æ¥çš„æ ˆæ¶ˆè€—ï¼Œèƒ½å¾ªç¯è‚¯å®šæ˜¯ä¸é€’å½’çš„ï¼Œé€’å½’å¸¸ç”¨åœ¨é€’å½’æ•°æ®ç»“æ„å’Œç‰¹å®šé—®é¢˜å¤„ç†ä¸­ã€‚ä½†åœ¨çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œé€’å½’è¢«ç”¨æ¥æ›¿ä»£å¾ªç¯ã€‚</p><h2 id="é«˜é˜¶å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#é«˜é˜¶å‡½æ•°"><span>é«˜é˜¶å‡½æ•°</span></a></h2><p>é«˜é˜¶å‡½æ•°ï¼šå‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ã€è¿”å›å€¼ã€èµ‹ç»™å¦ä¸€ä¸ªå˜é‡ã€‚</p><h3 id="æŸ¯é‡ŒåŒ–" tabindex="-1"><a class="header-anchor" href="#æŸ¯é‡ŒåŒ–"><span>æŸ¯é‡ŒåŒ–</span></a></h3><p>åœ¨Haskellä¸­ï¼Œæ‰€æœ‰çš„å¤šå‚æ•°å‡½æ•°éƒ½æ”¯æŒæŸ¯é‡ŒåŒ–ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è¯´æœ¬è´¨ä¸ŠHaskellçš„æ‰€æœ‰å‡½æ•°éƒ½åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¤šå‚æ•°çš„è°ƒç”¨å°±æ˜¯å¤šä¸ªä¸€å‚æ•°å‡½æ•°çš„è°ƒç”¨ã€‚</p><ul><li>æ¯”å¦‚<code>max</code>å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- curried functions</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t max</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">max :: Ord a =&gt; a -&gt; a -&gt; a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t max 4</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">max 4 :: (Ord a, Num a) =&gt; a -&gt; a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t max4</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">max4 :: (Ord a, Num a) =&gt; a -&gt; a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; max4 5.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">5.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; (max 4) 5</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">5</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">max4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">max4 = max </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">max4&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">max4&#39; x = max </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>max 4</code>å°†å¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œ<code>max4 max4&#39;</code>ä»å«ä¹‰æ˜¯ç­‰ä»·çš„ï¼Œå¹¶ä¸”Haskellçš„hlintä¼šæç¤ºåè€…å¯ä»¥ç®€å†™ä¸ºå‰è€…ã€‚</li><li>æ‰€ä»¥åœ¨å®é™…ä¸Šç±»å‹<code>a -&gt; a -&gt; a -&gt; a</code>å’Œ<code>a -&gt; (a -&gt; (a -&gt; a))</code>æ˜¯ç­‰ä»·çš„ï¼Œä»è¯­æ³•ä¸Šæ¥è¯´è¿™æºäºè¿ç®—ç¬¦<code>-&gt;</code>æ˜¯å³ç»“åˆçš„ã€‚</li><li>å½“ç„¶å¦‚æœè¦å›ºå®šç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦<code>max4&#39;&#39; x = max x 4</code>è¿™æ ·çš„å®šä¹‰æ–¹æ³•ã€‚</li><li>ä¸­ç¼€å‡½æ•°ä¹Ÿå¯ä»¥æŸ¯é‡ŒåŒ–ï¼Œå¹¶ä¸”å¯ä»¥å¯ä»¥å›ºå®šç¬¬ä¸€ä¸ªæˆ–è€…ç¬¬äºŒä¸ªå‚æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- infix functions</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t divBy10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">divBy10 :: Double -&gt; Double</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; divBy10 100</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">10.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; divX 100</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">0.1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">divBy10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">divBy10 = (/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">divX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">divX = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‰ç¼€å‡½æ•°ä¹Ÿå¯ä»¥æŒ‰ç…§è¿™ä¸ªé€»è¾‘è½¬ä¸ºä¸­ç¼€ä¹‹åå›ºå®šç¬¬ä¸€ä¸ªæˆ–è€…ç¬¬äºŒä¸ªå‚æ•°ã€‚</li><li>å¯¹äºæŸäº›ä¸€å…ƒå’ŒäºŒå…ƒè¿ç®—ç¬¦ä½¿ç”¨åŒä¸€ä¸ªç¬¦å·çš„æƒ…å†µï¼Œæ¯”å¦‚<code>-</code>ç”¨ä½œå‡å·å’Œè´Ÿå·ï¼Œ<code>(-4)</code>åˆ™è¡¨ç¤ºå€¼-4ï¼Œè€Œä¸æ˜¯æ¥å—ä¸€ä¸ªå‚æ•°å°†å‚æ•°å‡4çš„å‡½æ•°ã€‚å±äºä¾‹å¤–ï¼Œä¸ºäº†é¿å…å†²çªçš„é€‰æ‹©ï¼Œè¦ä½¿ç”¨å‡å·å«ä¹‰åˆ™å¯ä»¥ä½¿ç”¨<code>subtract</code>ï¼Œè´Ÿå·å«ä¹‰å’Œ<code>negate</code>ç­‰ä»·ã€‚</li></ul><h3 id="å‡½æ•°ä½œä¸ºå‚æ•°" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°ä½œä¸ºå‚æ•°"><span>å‡½æ•°ä½œä¸ºå‚æ•°</span></a></h3><p>ç±»å‹å£°æ˜ä¸­å°†å‡½æ•°çš„ç±»å‹åŠ ä¸Šæ‹¬å·å³å¯ã€‚</p><ul><li>å®ç°æ ‡å‡†åº“<code>zipWith</code>å‡½æ•°ï¼Œä¼ å…¥æ¥å—ä¸¤ä¸ªå‚æ•°å¾—åˆ°ç»“æœçš„å‡½æ•°å’Œä¸¤ä¸ªåˆ—è¡¨ï¼Œå¾—åˆ°å¯¹ä¸¤ä¸ªåˆ—è¡¨å¯¹åº”å€¼åº”ç”¨å‡½æ•°åç»“æœçš„åˆ—è¡¨ï¼Œä¸å¾—ä¸è¯´ç±»å‹æ¨å¯¼ç¡®å®å¼ºå¤§ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- function as arguments</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; zipWith (+) [1, 2, 3] [4, 5, 6, 7]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[5,7,9]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; zipWith&#39; (+) [1, 2, 3] [4, 5, 6, 7]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[5,7,9]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zipWith&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">zipWith&#39; _ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">zipWith&#39; _ _ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">zipWith&#39; f (x:xs) (y:ys) = f x y : zipWith&#39; f xs ys</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œè‡³äºå‡½æ•°ä½œä¸ºè¿”å›å€¼ï¼Œå…¶å®é»˜è®¤å°±æ˜¯æŸ¯é‡ŒåŒ–çš„å‡½æ•°æœ¬èº«å°±å·²ç»å°†å‡½æ•°ä½œä¸ºè¿”å›å€¼äº†ï¼Œä¹Ÿå¯ä»¥æ˜¾å¼å®šä¹‰ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f x = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tmp1 y = (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tmp2 z = x * y * z </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tmp2) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tmp1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™æ ·å’Œ<code>f&#39; x y z = x * y * z</code>å¹¶æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œè¿˜ä¼šæ˜¾å¾—å¾ˆå‘†ã€‚</li></ul><h3 id="å¸¸ç”¨é«˜é˜¶å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨é«˜é˜¶å‡½æ•°"><span>å¸¸ç”¨é«˜é˜¶å‡½æ•°</span></a></h3><p>mapï¼ˆæ˜ å°„ï¼‰/reduceï¼ˆè§„çº¦ï¼‰æ˜¯æœ€å¸¸ç”¨çš„é«˜é˜¶å‡½æ•°ã€‚å‰è€…å°†ä¸€ä¸ªåˆ—è¡¨æ˜ å°„åˆ°å¦ä¸€ä¸ªåˆ—è¡¨ï¼Œåè€…å°†ä¸€ä¸ªåˆ—è¡¨è§„çº¦ä¸ºä¸€ä¸ªå€¼ã€‚</p><ul><li><code>map :: (a -&gt; b) -&gt; [a] -&gt; [b]</code> æ˜ å°„ä¸€ä¸ªåˆ—è¡¨åˆ°å¦ä¸€ä¸ªåˆ—è¡¨ã€‚</li><li><code>filter :: (a -&gt; Bool) -&gt; [a] -&gt; [a]</code> ç­›é€‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ åˆ°ç»“æœåˆ—è¡¨ã€‚</li><li><code>map filter</code>å®Œå…¨å…¶å®å¯ä»¥ç”¨åˆ—è¡¨æ¨å¯¼å¼æ¥ä»£æ›¿ï¼Œæˆ–è€…è¯´æœ¬èº«å°±æ˜¯ç­‰ä»·çš„ï¼Œç”¨ä»€ä¹ˆå¹¶ä¸é‡è¦ï¼Œå‡­ä¸ªäººå–œå¥½å°±å¥½ã€‚</li><li><code>takeWhile :: (a -&gt; Bool) -&gt; [a] -&gt; [a]</code> æŒ‰é¡ºåºå–å…ƒç´ ç›´åˆ°æ¡ä»¶ä¸æ»¡è¶³ã€‚</li><li><code>zipWith :: (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]</code> å°†ä¸¤ä¸ªåˆ—è¡¨çš„å¯¹åº”å…ƒç´ åº”ç”¨å‡½æ•°åå¾—åˆ°æ–°åˆ—è¡¨ã€‚</li><li><code>flip :: (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c</code> æ¥å—ä¸€ä¸ªäºŒå…ƒå‡½æ•°ï¼Œå°†ä¸¤ä¸ªå‚æ•°ç¿»è½¬å¹¶è¿”å›æ–°çš„äºŒå…ƒå‡½æ•°ã€‚</li></ul><h3 id="lambda" tabindex="-1"><a class="header-anchor" href="#lambda"><span>lambda</span></a></h3><p>æœ‰é«˜é˜¶å‡½æ•°é‚£è‚¯å®šè¦æœ‰åŒ¿åå‡½æ•°äº†ã€‚Haskellç”¨<code>\</code>æ¥è¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå®šä¹‰æ–¹æ³•ï¼š<code>\args -&gt; retval</code>ï¼Œç”¨çš„æ—¶å€™ä¸€èˆ¬ç”¨æ‹¬å·å°†æ•´ä¸ªåŒ¿åå‡½æ•°æ‹¬èµ·æ¥ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; zipWith (\x y -&gt; x + y) [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">102</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; map (\x -&gt; x ** x) [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">27.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">256.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ™®é€šå‡½æ•°ä¸€æ ·å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼Œä½†æ˜¯æ— æ³•ä¸ºåŒ¿åå‡½æ•°è®¾ç½®å¤šä¸ªæ¨¡å¼ï¼Œæ‰€ä»¥åœ¨åŒ¿åå‡½æ•°ä¸­è¦æ…ç”¨æ¨¡å¼åŒ¹é…ã€‚</p><p>ä½¿ç”¨åŒ¿åå‡½æ•°æ¥å®ç°<code>x * y * z</code>çš„æŸ¯é‡ŒåŒ–ä¼šæ›´å®¹æ˜“ç†è§£ä¸€äº›ï¼Œå½“ç„¶ç†Ÿæ‚‰äº†é»˜è®¤æŸ¯é‡ŒåŒ–ä¹‹åï¼Œç”¨<code>\x y z -&gt; x * y * z</code>æ›´ç®€å•ç›´è§‚ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">f&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f&#39;&#39; = \x -&gt; \y -&gt; \z -&gt; x * y * z</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ç°<code>flip</code>å‡½æ•°ï¼šä½¿ç”¨åŒ¿åå‡½æ•°å®ç°ä¼šæ›´å®¹æ˜“è®©äººç†è§£ä¸€äº›ï¼Œè¡¨æ˜å…¶è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œä½†ä¸¤è€…å…¶å®æ˜¯ç­‰ä»·çš„ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flip&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">flip&#39; f = \x y -&gt; f y x</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flip&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">flip&#39;&#39; f x y = f y x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="fold-scan" tabindex="-1"><a class="header-anchor" href="#fold-scan"><span>fold &amp; scan</span></a></h3><p>æŠ˜å ï¼š</p><ul><li>æŠ˜å ï¼Œå°±æ˜¯å°†ä¸€ä¸ªåˆ—è¡¨è§„çº¦ä¸ºä¸€ä¸ªå€¼ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t foldl</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">foldl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t foldr</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">foldr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>foldl foldr</code>æ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªåˆå€¼å’Œä¸€ä¸ªå¯æŠ˜å å¯¹è±¡ï¼Œå¯¹åˆå€¼å’Œèµ·å§‹å…ƒç´ è°ƒç”¨å‡½æ•°ï¼Œç„¶åä¸€æ¬¡å¯¹ç»“æœå’Œä¸‹ä¸€ä¸ªå€¼è°ƒç”¨ç›´æ¥ç»“æŸï¼Œå¾—åˆ°ç»“æœã€‚<code>foldl</code>ä»å·¦åˆ°å³ï¼Œ<code>foldr</code>ä»å³åˆ°å·¦ã€‚å¹¶ä¸”æ³¨æ„ä¼ å…¥å‡½æ•°çš„å‚æ•°å¯¹åº”å…³ç³»æ˜¯ä¸åŒçš„ï¼Œ<code>foldl</code>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåˆå€¼æˆ–è€…ä¸­é—´ç»“æœï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯æŠ˜å å¯¹è±¡å…ƒç´ ï¼Œè€Œ<code>foldr</code>æ˜¯åè¿‡æ¥çš„ã€‚å½“ä¸­é—´ç»“æœå’Œå¯æŠ˜å å¯¹è±¡å…ƒç´ ç±»å‹ä¸åŒæ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; foldl (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; foldr (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> - (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> - (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>foldl1 foldr1</code>å’Œ<code>foldl foldr</code>ç±»ä¼¼ï¼Œä¸è¿‡ä»–ä»¬ä½¿ç”¨é¦–æˆ–å°¾å…ƒç´ ä½œä¸ºåˆå€¼è€Œä¸éœ€è¦å†ä¼ å…¥åˆå€¼ã€‚</li><li>å¯¹ç©ºåˆ—è¡¨è¿›è¡ŒæŠ˜å ä¼šæŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ã€‚</li><li>æœ‰ä¸ªå°åŒºåˆ«æ˜¯<code>foldl</code>èƒ½ç”¨äºæ— é™åˆ—è¡¨ï¼ˆä½†è¿™ä¸æ˜¯ä¼šæ— é™å¾ªç¯å—ï¼Ÿï¼‰ï¼Œ<code>foldr</code>ä¸èƒ½ã€‚ç»è¿‡å®æµ‹éƒ½ä¼šè¿›å…¥æ— é™å¾ªç¯ï¼Ÿè¿™ä¸€æ¡æ˜¯å­˜åœ¨ç–‘é—®çš„ï¼Œåº”è¯¥é¿å…å°†<code>fold</code>ç”¨äºæ— é™åˆ—è¡¨ã€‚</li></ul><p>æ‰«æï¼š</p><ul><li><code>scanl scanr</code>ä¸<code>foldl foldr</code>ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ç»“æœï¼Œ<code>scanl scanr</code>çš„ç»“æœæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…æ‹¬åˆå§‹å€¼å’Œæ‰€æœ‰ä¸­é—´ç»“æœä¸æœ€ç»ˆç»“æœã€‚<code>scanl</code>æ˜¯ä»å·¦å¾€å³æ·»åŠ ç»“æœï¼Œ<code>scanr</code>åˆ™æ˜¯ä»å³å‘å·¦ã€‚</li><li><code>scanl1 scanr1</code>ç”¨é¦–å°¾å…ƒç´ ä½œä¸ºåˆå§‹å€¼ï¼ŒåŒç†ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t scanl</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scanl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t scanr</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scanr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; scanl (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; scanr (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t scanl1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scanl1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; scanl1 (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; scanr1 (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠ˜å å’Œæ‰«æåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ç”¨æ¥æ›¿ä»£é€’å½’åœ¨åˆ—è¡¨ä¸Šçš„ä½¿ç”¨ã€‚</p><h3 id="å‡½æ•°è°ƒç”¨ç¬¦" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°è°ƒç”¨ç¬¦"><span>$å‡½æ•°è°ƒç”¨ç¬¦</span></a></h3><p><code>$</code>è¢«ç§°ä½œå‡½æ•°è°ƒç”¨ç¬¦ï¼š</p><ul><li>å®šä¹‰ï¼šæ¥å—ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå‚æ•°å¹¶è¿”å›ä½¿ç”¨è¿™ä¸ªå‡½æ•°è°ƒç”¨å‚æ•°çš„ç»“æœï¼Œä¸æ”¹å˜å…·ä½“é€»è¾‘ï¼Œä½†ä½¿ç”¨<code>$</code>åï¼Œå‡½æ•°è°ƒç”¨çš„ä¼˜å…ˆçº§è¢«æ”¹å˜äº†ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">($)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f $ x = f x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç”¨ç©ºæ ¼è°ƒç”¨çš„å‡½æ•°è°ƒç”¨æ˜¯å·¦ç»“åˆçš„<code>f x y z</code>ä¸<code>((f x) y) z</code>ç­‰ä»·ã€‚</li><li><code>$</code>æ˜¯ä¸­ç¼€å‡½æ•°ï¼Œå³ç»“åˆï¼Œæœ€ä½ä¼˜å…ˆçº§ï¼Œå…¶ä»–è¡¨è¾¾å¼éƒ½ä¼šå¾—åˆ°ä¼˜å…ˆè®¡ç®—ï¼Œç„¶åæ‰ä»å³å‘å·¦æ‰§è¡Œä½¿ç”¨<code>$</code>è°ƒç”¨çš„å‡½æ•°ã€‚</li><li><code>f $ 1 + 1</code>è¡¨ç¤º<code>f (1 + 1)</code>ï¼Œä½œç”¨æ˜¯é™ä½äº†å‡½æ•°è°ƒç”¨çš„ä¼˜å…ˆçº§ï¼Œå‡å°‘æ‹¬å·çš„ä½¿ç”¨ã€‚</li><li>å› ä¸ºæ˜¯å³ç»“åˆï¼Œå¹¶ä¸”<code>$</code>åªæ¥å—ä¸€ä¸ªå‡½æ•°å‚æ•°ï¼Œæ‰€ä»¥<code>f x y z</code>ä¸èƒ½å†™ä½œ<code>f $ x $ y $ z</code>ï¼ˆåº”è¯¥åœ¨å½“<code>x y z</code>æ˜¯è¡¨è¾¾å¼æˆ–è€…å‡½æ•°è°ƒç”¨æ—¶æ‰ç”¨<code>$</code>ï¼Œä¸ç„¶æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼‰ï¼Œå› ä¸ºå³ç»“åˆå«ä¹‰å°±å˜æˆäº†<code>f $ (x $ (y $ z))</code>ï¼Œè¿™æ˜æ˜¾ä¸æ˜¯æƒ³è¦çš„è¯­ä¹‰ã€‚å¤šä¸ªå‚æ•°å¯ä»¥ä½¿ç”¨æ‹¬å·æŒ‡å®šç»“åˆæ€§<code>((f $ x) $ y) $ z</code>ä½†è¿™æ ·æœ¬è´¨ä¸Šå¹¶æ²¡æœ‰å‡å°‘æ‹¬å·ï¼Œæ‰€ä»¥å¯¹äºå¤šå‚æ•°çš„å‡½æ•°ï¼Œè¿˜ä¸å¦‚<code>f (x) (y) (z)</code>ï¼Œå½“ç„¶æœ€åä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯å¯ä»¥ç”¨çš„<code>f (x) (y) $ z</code>ã€‚</li><li><code>$ x</code>å¯ä»¥å°†æ•°æ®å˜æˆå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å€¼æ˜¯å°†è¿™ä¸ªæ•°æ®<code>x</code>ç”¨äºä¼ å…¥çš„å‡½æ•°åå¾—åˆ°çš„ç»“æœã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- ($) operator</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t ($)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">($) :: (a -&gt; b) -&gt; a -&gt; b</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fn $ 1 + 2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">9</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t ($ 1)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">($ 1) :: Num a =&gt; (a -&gt; b) -&gt; b</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fn x = x * x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è™½ç„¶æœ‰ç‚¹é­”æ³•çš„å‘³é“ï¼Œåˆæ”¹ä¼˜å…ˆçº§åˆæ”¹ç»“åˆæ€§ï¼Œä½†åœ¨ä¸€å®šç¨‹åº¦ä¸Šä½¿ç”¨å¯ä»¥å‡å°‘æ‹¬å·ï¼Œè®©ç¨‹åºæ›´æ¸…æ™°æ˜“è¯»ã€‚</li><li>æ³¨æ„é€‚åº¦ï¼Œä¸è¦æ»¥ç”¨ï¼Œè¯·åœ¨å……åˆ†ç†è§£ä¹‹åå†ä½¿ç”¨ã€‚</li></ul><h3 id="å‡½æ•°å¤åˆ-function-composition" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å¤åˆ-function-composition"><span>å‡½æ•°å¤åˆ(Function Composition)</span></a></h3><p>æˆ–è€…å«åšå‡½æ•°ç»„åˆã€‚åœ¨æ•°å­¦ä¸­ï¼Œå¤åˆå‡½æ•°çš„å®šä¹‰æ˜¯$(f \circ g)(x) = f(g(x))$ï¼Œå³å°†å‡½æ•°$g(x)$çš„å€¼ä½œä¸º$f(x)$çš„è‡ªå˜é‡ï¼Œæ—¢ç„¶å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„å‡½æ•°çš„å«ä¹‰æ˜¯æ•°å­¦ä¸­çš„å‡½æ•°è€Œä¸æ˜¯ä¸€èˆ¬å‘½ä»¤å¼ç¼–ç¨‹ä¸­è¡¨æ˜¯ä¸€ä¸ªè®¡ç®—è¿‡ç¨‹çš„å‡½æ•°ã€‚é‚£ä¹ˆç†æ‰€åº”å½“è¦æ”¯æŒå¤åˆå‡½æ•°ï¼ˆæˆ–è€…å«åšå‡½æ•°ç»„åˆï¼‰äº†ï¼Œ$f(g(x))$çš„å«ä¹‰å°±æ˜¯å…ˆè°ƒç”¨$g(x)$å†å¯¹ç»“æœè°ƒç”¨$f(x)$ã€‚</p><ul><li>Haskellä¸­ä½¿ç”¨<code>.</code>è¿ç®—ç¬¦å®šä¹‰å¤åˆå‡½æ•°ã€‚</li><li>å®šä¹‰ï¼šéå¸¸ç›´ç™½ï¼Œä¸­ç¼€ï¼Œæ¥å—ä¸¤ä¸ªå•å‚æ•°çš„å‡½æ•°ï¼Œå…ˆè°ƒç”¨åè€…ï¼Œå†è°ƒç”¨å‰è€…ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(.)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f . g = \x -&gt; f (g x)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¾ˆæ˜¾ç„¶å®šä¹‰å‡½æ•°å¤åˆæ—¶å†…å±‚å‡½æ•°<code>g</code>çš„è¿”å›å€¼ç±»å‹å¿…é¡»è¦å’Œå¤–å±‚å‡½æ•°<code>f</code>çš„å‚æ•°ç±»å‹ä¸€è‡´ã€‚</li><li><code>.</code>ä¼˜å…ˆçº§ä½äºå‡½æ•°è°ƒç”¨ï¼Œéœ€è¦å°†å¤åˆå‡½æ•°æ‹¬èµ·æ¥ï¼Œé…åˆ<code>$</code>å¯ä»¥ä¸ç”¨æ‹¬å·<code>f . g $ (expression)</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- function composition</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; map (f&#39; . g&#39;) [1..20] </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[8,24,48,80,120,168,224,288,360,440,528,624,728,840,960,1088,1224,1368,1520,1680]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; map h [1..20] </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[8,24,48,80,120,168,224,288,360,440,528,624,728,840,960,1088,1224,1368,1520,1680]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; map (\x -&gt; f&#39; (g&#39; x)) [1..20]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[8,24,48,80,120,168,224,288,360,440,528,624,728,840,960,1088,1224,1368,1520,1680]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- f(x) = (2*x + 1) ^ 2 - 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">g&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&#39; x = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * x + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">f&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f&#39; x = x ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">h x = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * x + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®é™…ä½¿ç”¨å¯ä»¥ç”¨<code>f . g</code>è¿™æ ·ç”¨ï¼Œæˆ–è€…ç›´æ¥å†™æˆåŒ¿åå‡½æ•°<code>\x -&gt; f (g x)</code>ä¹Ÿå¾ˆç®€å•å’Œæ¸…æ™°ï¼Œæ¯•ç«Ÿæ˜¯ç­‰ä»·çš„ã€‚</li><li>è¿™é‡Œçš„å‡½æ•°éƒ½åªåŒ…å«ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœæ˜¯å¤šä¸ªå‚æ•°å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ä¸å…¨è°ƒç”¨ï¼Œä¼ å…¥éƒ¨åˆ†å‚æ•°åªå‰©ä¸‹æœ€åä¸€ä¸ªå‚æ•°ï¼Œä¾¿å¯ä»¥ç”¨äºå¤åˆã€‚</li><li>æ¯”å¦‚<code>sum (replicate 5 (max 6.7 8.9))</code>å¯ä»¥å†™ä½œ<code>(sum . replicate 5 . max 6.7) 8.9</code>ï¼ˆçœ‹èµ·æ¥å¾ˆæ€ªï¼Œè¿™æ ·ç»„åˆæ„ä¹‰ä¸æ˜ï¼Œä»…åšæ¼”ç¤ºï¼‰ã€‚</li><li>ä½¿ç”¨å‡½æ•°å¤åˆé…åˆ<code>$</code>å¯ä»¥è¿›ä¸€æ­¥å»æ‰æ‹¬å·ï¼Œåˆšå¼€å§‹å¯èƒ½ä¼šæœ‰ç‚¹æ™¦æ¶©ï¼Œä½†å……åˆ†ç†è§£ä¹‹åç”¨èµ·æ¥éå¸¸èˆ’æœã€‚</li><li>å…¶ä¸­ä¸€ä¸ªä½¿ç”¨ç†ç”±å°±æ˜¯å®šä¹‰Point free styleï¼ˆPointless styleï¼‰çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- point free style function</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; map func [100..120.0]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[-1,-1,0,1,2,1,0,-1,0,1,2,1,0,-1,0,1,2,1,0,-1,-1]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; map func&#39; [100..120.0]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[-1,-1,0,1,2,1,0,-1,0,1,2,1,0,-1,0,1,2,1,0,-1,-1]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RealFrac</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">func x = ceiling (negate (tan (cos (max </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x))))</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">func&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">func&#39; = ceiling . negate . tan . cos . max </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Point free styleä¸­å‡½æ•°å®šä¹‰å»æ‰äº†å‚æ•°ï¼Œè€Œæ˜¯å·²çŸ¥çš„å¤šä¸ªç®€å•å‡½æ•°ç»„åˆå½¢æˆä¸€ä¸ªå¤æ‚å‡½æ•°ã€‚</li><li>æ€è€ƒå¦‚ä½•å†™å‡ºPoint free styleçš„å‡½æ•°æ—¶ï¼Œæ€è€ƒçš„ä¼šæ˜¯å‡½æ•°çš„ç»„åˆæ–¹å¼ï¼Œè€Œä¸æ˜¯æ•°æ®çš„ä¼ é€’æ–¹å¼ã€‚</li><li>å½“ç„¶å¦‚æœå‡½æ•°å¤ªå¤æ‚ï¼Œç¡¬è¦å†™æˆPoint freeå¯èƒ½ä¼šé€‚å¾—å…¶åï¼Œè¿™æ—¶å€™æ›´å¥½çš„æ–¹æ³•å¯èƒ½æ˜¯ç”¨<code>let</code>è¯­å¥ç»™ä¸­é—´ç»“æœç»‘å®šåå­—ï¼Œæˆ–è€…å†å°†é—®é¢˜åˆ†å‰²æˆæ›´å°çš„é—®é¢˜å†ç»„åˆåˆ°ä¸€èµ·ã€‚</li><li>ç¼–ç é£æ ¼æ˜¯ä¸ªäººé€‰æ‹©ï¼ŒHaskellæä¾›äº†çµæ´»çš„è¯­æ³•ï¼Œç›¸ä¿¡å®è·µæ—¶ä»£ç çš„è¿­ä»£ä¼˜åŒ–è¿‡ç¨‹ä¼šå¾ˆæœ‰è¶£ï¼Œä½†å¦‚æœæ˜¯é¡¹ç›®å¼€å‘ä¸ºäº†é£æ ¼ç»Ÿä¸€ä¼°è®¡ä¹Ÿè¦ä»˜å‡ºæ›´å¤šä»£ä»·ã€‚</li><li>è¶£å­¦æŒ‡å—ä¸­ç»™äº†ä¸€ä¸ªç®€å•ä¾‹å­ï¼šå®ç”¨ã€å¥½çœ‹åˆæ¸…æ™°ï¼Œ<code>$</code>çš„ä½¿ç”¨ä½¿å¾—æ‰€æœ‰å‡½æ•°ç»è¿‡å¤åˆä¹‹åæœ€åå†è¿›è¡Œè°ƒç”¨ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">oddSquareSum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">oddSquareSum = sum . takeWhile (&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) . filter odd . map (^</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é˜…è¯»ç»è¿‡å¤åˆçš„å‡½æ•°æ—¶åº”è¯¥ä»é‡Œåˆ°å¤–å»ç†è§£ã€‚</li></ul><h2 id="æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#æ¨¡å—"><span>æ¨¡å—</span></a></h2><p>Haskellä¸­æ¨¡å—å°±æ˜¯ä¸€ç»„ç›¸å…³å‡½æ•°ã€ç±»å‹ã€ç±»å‹ç±»çš„ç»„åˆï¼ŒHaskellè¿›ç¨‹æœ¬è´¨å°±æ˜¯ä»ä¸»æ¨¡å—ä¸­å¼•ç”¨å…¶ä»–æ¨¡å—è°ƒç”¨å…¶ä¸­çš„å‡½æ•°æ‰§è¡Œæ“ä½œã€‚å¦‚æœä¸€ä¸ªæ¨¡å—è¶³å¤Ÿç‹¬ç«‹ï¼Œé‡Œé¢çš„å‡½æ•°å°±å¯ä»¥è¢«ä¸åŒè¿›ç¨‹å…±ç”¨ã€‚</p><p>Haskellæ ‡å‡†åº“å°±æ˜¯ä¸€ç»„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰ä¸€ç»„åŠŸèƒ½ç›¸è¿‘æˆ–ç›¸å…³çš„å‡½æ•°å’Œç±»å‹ã€‚æ¯”å¦‚å¤„ç†Listçš„ã€å¤„ç†å¹¶å‘çš„ã€å¤„ç†å¤æ•°çš„ç­‰ã€‚ç›®å‰è°ˆåŠçš„æ‰€æœ‰æ•°æ®ç»“æ„ã€ç±»å‹ã€ç±»å‹ç±»éƒ½æ˜¯<code>Prelude</code>æ¨¡å—ä¸€éƒ¨åˆ†ï¼Œé»˜è®¤è‡ªåŠ¨å¼•å…¥ã€‚</p><h3 id="å¼•å…¥æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#å¼•å…¥æ¨¡å—"><span>å¼•å…¥æ¨¡å—</span></a></h3><p>å¼•å…¥æ¨¡å—çš„è¯­å¥å¿…é¡»åœ¨å‡½æ•°å®šä¹‰å‰ï¼Œä¸€èˆ¬éƒ½æ˜¯è‡³äºæ–‡ä»¶é¡¶éƒ¨ã€‚å¼•å…¥åå¼•å…¥æ¨¡å—ä¸­æ‰€æœ‰å‡½æ•°éƒ½è¿›å…¥å…¨å±€å‘½åç©ºé—´ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> module1 module2 module3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœåªéœ€è¦ç”¨åˆ°æŸä¸€ä¸ªæ¨¡å—çš„ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ™å¯ä»¥åªå¼•å…¥è¿™ä¸¤ä¸ªå‡½æ•°ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> module1 (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">func1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">func2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœæƒ³å¼•å…¥æŸä¸ªæ¨¡å—çš„å…¨éƒ¨å‡½æ•°å’Œç±»å‹ä½†é™¤äº†å…¶ä¸­æŸä¸ªå‡½æ•°å¯ä»¥ä½¿ç”¨<code>hiding</code>ï¼Œä¸èƒ½å’Œå¼•å…¥éƒ¨åˆ†ç¬¦å·åŒæ—¶ä½¿ç”¨ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> module1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">hiding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>Prelude</code>æ¨¡å—è™½ç„¶å·²ç»è‡ªåŠ¨å¼•å…¥ï¼Œä½†ä»å¯ä»¥æ‰‹åŠ¨åªå¼•å…¥å…¶ä¸­éƒ¨åˆ†ç¬¦å·æˆ–è€…å±è”½å…¶ä¸­éƒ¨åˆ†ç¬¦å·ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Prelude</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> hiding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æŸäº›æ¨¡å—ä¸­å…·æœ‰åŒåçš„å‡½æ•°ï¼Œä¸ºäº†é¿å…åç§°å†²çªï¼Œå¯ä»¥ä½¿ç”¨<code>import qualified</code>ï¼Œè¿™æ ·ä½¿ç”¨æ—¶å¿…é¡»ä½¿ç”¨åç§°<code>modulename.func</code>ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> qualified</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> modulename</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç»™å¼•å…¥çš„æ¨¡å—å®šä¹‰åˆ«åï¼Œæ¨¡å—åå¿…é¡»å¤§å†™å­—æ¯å¼€å¤´ï¼ŒåŒæ ·å¯ä»¥éšè—æˆ–éƒ¨åˆ†å¼•å…¥ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> qualified</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Data.Map</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> M</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> hiding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨ghciä¸­å¼•å…¥æ¨¡å—ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:m module1 module2 module3 ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ·±å…¥å­¦ä¹ å¯æŸ¥é˜…<a href="https://downloads.haskell.org/~ghc/latest/docs/html/libraries/" target="_blank" rel="noopener noreferrer">Haskellæ ‡å‡†åº“</a>ã€‚</p><p>æ£€ç´¢æ ‡å‡†åº“æˆ–è€…ç¬¬ä¸‰æ–¹åº“ä¸­çš„Haskellå‡½æ•°ã€ç±»å‹å¯ä»¥ä¸Š<a href="https://hoogle.haskell.org/" target="_blank" rel="noopener noreferrer">Hoogle</a>ï¼Œå…è®¸é€šè¿‡å‡½æ•°åæ¨¡å—åç”šè‡³è¿‘ä¼¼çš„å‡½æ•°ç±»å‹ç­¾åå¹¶å…è®¸æŒ‡å®šæœç´¢èŒƒå›´æˆ–è€…åº“ä½œè€…æ¥æ£€ç´¢Stackageä¸Šçš„Haskellå‡½æ•°åº“ã€‚å¹¶ä¸”èƒ½å¤Ÿç›´æ¥è·³è½¬åˆ°åº“æ–‡æ¡£æˆ–è€…é¡µé¢ï¼Œååˆ†æ–¹ä¾¿ã€‚</p><h3 id="å¸¸ç”¨åº“" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨åº“"><span>å¸¸ç”¨åº“</span></a></h3><p>è°ƒç”¨æ¨¡å—ä¸­å‡½æ•°ç±»å‹æ—¶ä½¿ç”¨<code>module.func</code>ï¼ŒåŒæ ·æ˜¯<code>.</code>å·ï¼Œä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼ŒåŒºåˆ†äºå‡½æ•°å¤åˆã€‚</p><p><code>Data.List</code>ï¼š</p><ul><li>Listå¸¸ç”¨æ“ä½œï¼Œ<code>map fileter</code>ä¾¿æ˜¯å‡ºè‡ªè¿™ä¸ªåº“ï¼Œå¤ªè¿‡å¸¸ç”¨æ‰€ä»¥<code>Prelude</code>ä¸­å°†å…¶å¯¼å‡ºäº†ã€‚</li><li><code>intersperse :: a -&gt; [a] -&gt; [a]</code> å°†ä¸€ä¸ªå…ƒç´ ç©¿æ’åˆ°ä¸€ä¸ªåˆ—è¡¨çš„æ¯ä¸¤ä¸ªå…ƒç´ é—´ã€‚</li><li><code>intercalate :: [a] -&gt; [[a]] -&gt; [a]</code> å°†ä¸€ä¸ªåˆ—è¡¨æ’å…¥åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰åˆ—è¡¨é—´ã€‚</li><li><code>transpose :: [[a]] -&gt; [[a]]</code> ç¿»è½¬ä¸€ä¸ªäºŒç»´åˆ—è¡¨çš„è¡Œå’Œåˆ—ã€‚å¦‚æœç”¨æ¥å­˜å‚¨çŸ©é˜µï¼Œé‚£å°±è¡¨ç¤ºè½¬ç½®ã€‚</li><li><code>foldl&#39; :: Foldable t =&gt; (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b</code> <code>foldl</code>çš„ä¸¥æ ¼ï¼ˆrestrictï¼‰ç‰ˆæœ¬ï¼Œ<code>foldl</code>æ˜¯æƒ°æ€§ï¼ˆlazyï¼‰çš„ï¼Œä¸ä¼šç«‹å³æ±‚å€¼ï¼Œè€Œæ˜¯åšä¸€ä¸ªâ€åœ¨å¿…è¦æ—¶ä¼šå–å¾—æ‰€éœ€çš„ç»“æœâ€çš„æ‰¿è¯ºã€‚æ¯è¿‡ä¸€éç´¯åŠ å™¨ï¼Œè¿™ä¸€è¡Œä¸ºå°±é‡å¤ä¸€æ¬¡ã€‚åœ¨åˆ—è¡¨å¾ˆå¤§æ—¶ï¼Œè¿™å †æ‰¿è¯ºå¯èƒ½ä¼šå¡æ»¡å †æ ˆé€ æˆæ ˆæº¢å‡ºï¼Œæ­¤æ—¶åº”æ”¹ç”¨ä¸¥æ ¼ç‰ˆæœ¬ï¼Œä¸¥æ ¼ç‰ˆæœ¬ä¼šç›´æ¥è®¡ç®—å‡ºä¸­é—´å€¼å¹¶ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚</li><li><code>foldl1&#39; :: (a -&gt; a -&gt; a) -&gt; [a] -&gt; a</code> <code>foldl1</code>çš„ä¸¥æ ¼ç‰ˆæœ¬ã€‚</li><li><code>concat :: Foldable t =&gt; t [a] -&gt; [a]</code> è¿æ¥ä¸€ç»„åˆ—è¡¨ã€‚</li><li><code>concatMap :: Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]</code> ä¸å…ˆ<code>map</code>å†<code>concat</code>ç­‰ä»·ã€‚</li><li><code>and :: Foldable t =&gt; t Bool -&gt; Bool</code> å¯¹ä¸€ç»„å…ƒç´ æ±‚ä¸ã€‚</li><li><code>or :: Foldable t =&gt; t Bool -&gt; Bool</code> å¯¹ä¸€ç»„å…ƒç´ æ±‚æˆ–ã€‚</li><li><code>any :: Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool</code> åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚</li><li><code>all :: Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool</code> åˆ¤æ–­æ˜¯å¦æ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ã€‚</li><li><code>iterate :: (a -&gt; a) -&gt; a -&gt; [a]</code> ç”¨ä¸€ä¸ªå€¼è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ç”¨ç»“æœç»§ç»­è°ƒç”¨å‡½æ•°ï¼Œäº§ç”Ÿä¸€ä¸ªæ— é™çš„åˆ—è¡¨ã€‚</li><li><code>splitAt :: Int -&gt; [a] -&gt; ([a], [a])</code> å°†åˆ—è¡¨ä»ç‰¹å®šä½ç½®æ–­å¼€ï¼Œè¿”å›å‰åä¸¤ä¸ªåˆ—è¡¨çš„å…ƒç»„ã€‚</li><li><code>takeWhile :: (a -&gt; Bool) -&gt; [a] -&gt; [a]</code> å–å…ƒç´ ç›´åˆ°æ¡ä»¶ä¸æ»¡è¶³ã€‚</li><li><code>dropWhile :: (a -&gt; Bool) -&gt; [a] -&gt; [a]</code> èˆå¼ƒæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ç›´åˆ°é¦–ä¸ªä¸æ»¡è¶³çš„å…ƒç´ ï¼Œå¾—åˆ°å‰©ä½™å…ƒç´ çš„åˆ—è¡¨ï¼Œ<code>takeWhile</code>çš„è¡¥é›†ã€‚</li><li><code>span :: (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])</code> å¾—åˆ°<code>takeWhile dropWhile</code>çš„åˆ—è¡¨æ„æˆçš„å…ƒç»„ã€‚</li><li><code>break :: (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])</code> å’Œ<code>span</code>æ¡ä»¶ç›¸åï¼Œç›´åˆ°é¦–æ¬¡æ»¡è¶³æ—¶æ–­å¼€ï¼Œç­‰ä»·äº<code>break p</code>ç­‰ä»·äº<code>span (not . p)</code>ã€‚</li><li><code>sort :: Ord a =&gt; [a] -&gt; [a]</code> æ’åºï¼Œå‡åºæ’åˆ—ã€‚</li><li><code>group :: Eq a =&gt; [a] -&gt; [[a]]</code> å½’ç±»ç›¸é‚»ç›¸ç­‰çš„å…ƒç´ ã€‚</li><li><code>inits :: [a] -&gt; [[a]] tails :: [a] -&gt; [[a]]</code> ç±»ä¼¼äº<code>init tail</code>ï¼Œåªæ˜¯ä¼šé€’å½’è°ƒç”¨ç›´åˆ°ç©ºï¼Œå¾—åˆ°å­åˆ—è¡¨æ„æˆçš„åˆ—è¡¨ã€‚</li><li><code>isPrefixOf :: Eq a =&gt; [a] -&gt; [a] -&gt; Bool</code> æ£€æŸ¥æ˜¯å¦æ˜¯å‰ç¼€ï¼Œå‰è€…æ˜¯å­åˆ—è¡¨ï¼Œå¸¸ä»¥ä¸­ç¼€å½¢å¼ä½¿ç”¨ã€‚</li><li><code>isSuffixOf :: Eq a =&gt; [a] -&gt; [a] -&gt; Bool</code> æ£€æŸ¥æ˜¯å¦æ˜¯åç¼€ã€‚</li><li><code>elem :: (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool</code></li><li><code>notElem :: (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool</code></li><li><code>partition :: (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])</code> æŒ‰æ¡ä»¶åˆ†ä¸ºæ»¡è¶³å’Œä¸æ»¡è¶³çš„å…ƒç´ æ„æˆåˆ—è¡¨çš„å…ƒç»„ã€‚æœç´¢æ•´ä¸ªåˆ—è¡¨ï¼ŒåŒºåˆ«äº<code>span break</code>ã€‚</li><li><code>find :: Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a</code> æŸ¥æ‰¾é¦–ä¸ªæ»¡è¶³çš„å…ƒç´ ï¼Œç»“æœæ˜¯ä¸€ä¸ª<code>Maybe</code>ï¼Œå…¶å€¼æ˜¯<code>Just something</code>æˆ–è€…<code>Nothing</code>ï¼ˆå•ä¸ªå…ƒç´ æˆ–è€…ç©ºå€¼ï¼‰ã€‚</li><li><code>elemIndex :: Eq a =&gt; a -&gt; [a] -&gt; Maybe Int</code> æŸ¥æ‰¾å…ƒç´ å¹¶è¿”å›ä¸‹æ ‡ï¼Œ<code>Just index</code>æˆ–è€…<code>Nothing</code>ã€‚</li><li><code>elemIndices :: Eq a =&gt; a -&gt; [a] -&gt; [Int]</code> æŸ¥æ‰¾å…ƒç´ è¿”å›æ‰€æœ‰ä¸‹æ ‡ã€‚</li><li><code>findIndex :: (a -&gt; Bool) -&gt; [a] -&gt; Maybe Int</code> æŒ‰æ¡ä»¶æŸ¥æ‰¾é¦–ä¸ªæ»¡è¶³å…ƒç´ ä¸‹æ ‡ã€‚</li><li><code>findIndices :: (a -&gt; Bool) -&gt; [a] -&gt; [Int]</code> æŒ‰æ¡ä»¶æŸ¥æ‰¾æ‰€æœ‰æ»¡è¶³å…ƒç´ ï¼Œå¾—åˆ°æ‰€æœ‰ä¸‹æ ‡ã€‚</li><li><code>zip3 :: [a] -&gt; [b] -&gt; [c] -&gt; [(a, b, c)]</code> <code>zip</code>çš„æ›´å¤šåˆ—è¡¨ç‰ˆæœ¬ï¼ŒåŒç†<code>zip4 zip5 ... zip7</code>ã€‚</li><li><code>zipWith3 :: (a -&gt; b -&gt; c -&gt; d) -&gt; [a] -&gt; [b] -&gt; [c] -&gt; [d]</code> åŒç†<code>zipWith4 zipWith5 ...</code>ã€‚</li><li><code>lines :: String -&gt; [String]</code> æŒ‰è¡Œï¼ˆä¾æ®å­—ç¬¦<code>\n</code>ï¼‰åˆ‡åˆ†å­—ç¬¦ä¸²ã€‚</li><li><code>unlines :: [String] -&gt; String</code> <code>lines</code>åå‡½æ•°ï¼Œæ‹¼æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²æœ«å°¾è¡¥<code>\n</code>ã€‚</li><li><code>nub :: Eq a =&gt; [a] -&gt; [a]</code> å…ƒç´ å»é‡ï¼Œnubæ„æ€æ˜¯ä¸€å°å—ä¸€éƒ¨åˆ†ï¼Œç”¨åœ¨è¿™é‡Œæ„Ÿè§‰æœ‰ç‚¹è€æ‰ç‰™ä¸ç¡®åˆ‡ã€‚</li><li><code>delete :: Eq a =&gt; a -&gt; [a] -&gt; [a]</code> åˆ é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„å…ƒç´ ã€‚</li><li><code>(\\) :: Eq a =&gt; [a] -&gt; [a] -&gt; [a]</code> <code>\</code>è¿ç®—ç¬¦ï¼Œè®¡ç®—å·®é›†ï¼Œä»å‰è€…ä¸­å‡å»åè€…ï¼Œä½¿ç”¨<code>\</code>éœ€è¦è½¬ä¹‰ï¼Œæ‰€ä»¥ä»£ç ä¸­éƒ½æ˜¯<code>\\</code>ã€‚</li><li><code>union :: Eq a =&gt; [a] -&gt; [a] -&gt; [a]</code> å–å¹¶é›†ã€‚</li><li><code>intersect :: Eq a =&gt; [a] -&gt; [a] -&gt; [a]</code> å–äº¤é›†ã€‚</li><li><code>insert :: Ord a =&gt; a -&gt; [a] -&gt; [a]</code> æ’å…¥å…ƒç´ åˆ°å¯æ’åºåˆ—è¡¨çš„é¦–ä¸ªå¤§äºç­‰äºå®ƒçš„å…ƒç´ å‰ï¼Œå¦‚æœåŸå…ˆæ˜¯å‡åºæ’åˆ—çš„ï¼Œé‚£ä¹ˆæ’å…¥åä»æ˜¯ã€‚</li><li>å¯¹äºæ›´ä¸ºå¸¸ç”¨çš„<code>length take drop splitAt !! replciate</code>ä¹‹ç±»å‡½æ•°çš„å‚æ•°ç±»å‹éƒ½æ˜¯<code>Int</code>ï¼ŒæŒ‰é“ç†æ¥è¯´æä¾›<code>Integral Num</code>ä¼šæ›´å¥½ï¼Œä½†æ˜¯å¤„äºå†å²åŸå› ä¿®æ”¹ä¼šå¼•èµ·å…¼å®¹æ€§é—®é¢˜ã€‚æ‰€ä»¥æä¾›äº†<code>genericLength genericTake genericDrop genericSplitAt genericIndex genericReplicate</code>å‡½æ•°æä¾›æ›´é€šç”¨çš„ç±»å‹ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">take</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">drop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">splitAt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; ([</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(!!)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">replicate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">genericLength</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">i</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- for scene like average</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">genericTake</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">genericDrop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">genericSplitAt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; ([</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">genericIndex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">genericReplicate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integral</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>sort insert maximum minimum</code>éƒ½æœ‰å„è‡ªæ›´é€šç”¨çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä¼ å…¥æ¯”è¾ƒå‡½æ•°ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">insert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minimum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">maximum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sortBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ordering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">insertBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ordering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minimumBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ordering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">maximumBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ordering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>nub delete union intersect group</code>ä¹Ÿæœ‰é€šç”¨ç‰ˆæœ¬ï¼Œå°±æ˜¯åé¢åŠ ä¸Š<code>By</code>ï¼Œä»–ä»¬å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ç”¨ä»¥æ›¿ä»£<code>(==)</code>æ¥æµ‹è¯•ç›¸ç­‰ã€‚æ¯”å¦‚<code>group</code>ç­‰ä»·äº<code>groupBy (==)</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">delete</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">union</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">intersect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [[</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nubBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">deleteBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">unionBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">intersectBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">groupBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [[</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Data.Function</code>æ¨¡å—æä¾›äº†<code>on</code>å‡½æ•°ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®šä¹‰è¿™ç§æ¯”è¾ƒå‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f `on` g = \x y -&gt; f (g x) (g y)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>on</code>å°±ç›¸å½“äºå¯¹ä¸¤ä¸ªè‡ªå˜é‡çš„å‡½æ•°åšä¸€ä¸ªå¤åˆï¼š$(f\circ g)(x, y) = f(g(x), g(y))$ã€‚æ¯”å¦‚<code>compare `on` length</code>ç”¨äºæŒ‰ç…§åˆ—è¡¨é•¿åº¦æ¯”è¾ƒï¼Œ<code>(==) `on` (&gt;0)</code>ç”¨äºæŒ‰ç…§æ˜¯å¦åŒä¸ºæ­£æ•°åˆ¤ç­‰ï¼Œéå¸¸åœ°çµæ´»ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; groupBy ((</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) `on` (&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) [-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">22</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[[-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">22</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; sortBy (compare `on` length) $ reverse [[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..x] | x &lt;- [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šå¸¸ä¸<code>By</code>ç»“å°¾å‡½æ•°æ‰“äº¤é“ï¼Œå¦‚æœåˆ¤æ–­ç›¸ç­‰æ€§ï¼Œå¸¸ç”¨<code>(==) `on` something</code>ï¼Œè‹¥åˆ¤æ–­å¤§å°ï¼Œå¸¸ç”¨<code>compare `on` something</code>ã€‚</li></ul><p><code>Data.Char</code>ï¼š</p><ul><li>ä¸€ç»„ç”¨äºå¤„ç†å­—ç¬¦çš„å‡½æ•°ï¼Œå­—ç¬¦ä¸²æœ¬è´¨æ˜¯å‡½æ•°ï¼Œæ‰€ä»¥åœ¨å¤„ç†å­—ç¬¦ä¸²çš„<code>filter map</code>æ—¶ä¼šæ¯”è¾ƒå¸¸ç”¨åˆ°ã€‚</li><li>ç±»å‹éƒ½æ˜¯<code>Char -&gt; Bool</code>ã€‚</li><li><code>isControl</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯æ§åˆ¶å­—ç¬¦ã€‚</li><li><code>isSpace</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯ç©ºæ ¼å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œtabï¼Œæ¢è¡Œç¬¦ç­‰.</li><li><code>isLower</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå°å†™.</li><li><code>isUper</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå¤§å†™ã€‚</li><li><code>isAlpha</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå­—æ¯.</li><li><code>isAlphaNum</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå­—æ¯æˆ–æ•°å­—.</li><li><code>isPrint</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å¯æ‰“å°çš„.</li><li><code>isDigit</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºæ•°å­—.</li><li><code>isOctDigit</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå…«è¿›åˆ¶æ•°å­—.</li><li><code>isHexDigit</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºåå…­è¿›åˆ¶æ•°å­—.</li><li><code>isLetter</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå­—æ¯.</li><li><code>isMark</code> åˆ¤æ–­æ˜¯å¦ä¸º unicode æ³¨éŸ³å­—ç¬¦ï¼Œä½ å¦‚æœæ˜¯æ³•å›½äººå°±ä¼šç»å¸¸ç”¨åˆ°çš„.</li><li><code>isNumber</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºæ•°å­—.</li><li><code>isPunctuation</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºæ ‡ç‚¹ç¬¦å·.</li><li><code>isSymbol</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºè´§å¸ç¬¦å·.</li><li><code>isSeperater</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸º unicode ç©ºæ ¼æˆ–åˆ†éš”ç¬¦.</li><li><code>isAscii</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦åœ¨ unicode å­—æ¯è¡¨çš„å‰ 128 ä½ã€‚</li><li><code>isLatin1</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦åœ¨ unicode å­—æ¯è¡¨çš„å‰ 256 ä½.</li><li><code>isAsciiUpper</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå¤§å†™çš„ ascii å­—ç¬¦.</li><li><code>isAsciiLower</code> åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå°å†™çš„ ascii å­—ç¬¦.</li><li><code>GeneralCategory</code> æ˜¯ä¸€ä¸ªç±»å‹ç±»ï¼ŒåŒæ—¶æ˜¯ä¸€ä¸ªæšä¸¾ç”¨æ¥è¡¨ç¤ºå­—ç¬¦çš„åˆ†ç±»ï¼Œå…±æœ‰31ä¸ªåˆ†ç±»ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; map generalCategory </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\r\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ab</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> A?[%#@!&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Control</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Control</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LowercaseLetter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LowercaseLetter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Control</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Space</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">UppercaseLetter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OpenPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [(minBound :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">GeneralCategory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) .. (maxBound :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">GeneralCategory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">UppercaseLetter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LowercaseLetter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TitlecaseLetter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ModifierLetter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherLetter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">NonSpacingMark</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SpacingCombiningMark</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EnclosingMark</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DecimalNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LetterNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ConnectorPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DashPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OpenPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ClosePunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">InitialQuote</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">FinalQuote</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherPunctuation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">MathSymbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CurrencySymbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ModifierSymbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">OtherSymbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Space</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LineSeparator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ParagraphSeparator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Control</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Surrogate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">PrivateUse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">NotAssigned</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>toUpper</code> å°†ä¸€ä¸ªå­—ç¬¦è½¬ä¸ºå¤§å†™å­—æ¯ï¼Œè‹¥è¯¥å­—ç¬¦ä¸æ˜¯å°å†™å­—æ¯ï¼Œå°±æŒ‰åŸå€¼è¿”å›ã€‚</li><li><code>toLower</code> å°†ä¸€ä¸ªå­—ç¬¦è½¬ä¸ºå°å†™å­—æ¯ï¼Œè‹¥è¯¥å­—ç¬¦ä¸æ˜¯å¤§å†™å­—æ¯ï¼Œå°±æŒ‰åŸå€¼è¿”å›ã€‚</li><li><code>toTitle</code> å°†ä¸€ä¸ªå­—ç¬¦è½¬ä¸º title-caseï¼Œå¯¹å¤§å¤šæ•°å­—å…ƒè€Œè¨€ï¼Œtitle-case å°±æ˜¯å¤§å†™ã€‚</li><li><code>digitToInt</code> å°†ä¸€ä¸ªå­—ç¬¦è½¬ä¸º Int å€¼ï¼Œè€Œè¿™ä¸€å­—ç¬¦å¿…é¡»å¾—åœ¨ &#39;1&#39;..&#39;9&#39;,&#39;a&#39;..&#39;f&#39;æˆ–&#39;A&#39;..&#39;F&#39; çš„èŒƒå›´ä¹‹å†…ã€‚</li><li><code>ord :: Char -&gt; Int</code> å­—ç¬¦è½¬Unicodeç ç‚¹ã€‚</li><li><code>chr :: Int -&gt; Char</code> Unicodeç ç‚¹è½¬å­—ç¬¦ã€‚</li><li>ä¸€ä¸ªåŸå§‹çš„åŠ å¯†ç®—æ³•ï¼Œä»…ä»…åç§»å­—ç¬¦ä¸²ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">encode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">encode shift = map (chr . (+shift) . ord)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">decode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">decode shift = encode (-shift)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Data.Map</code>ï¼š</p><ul><li>å…³è”åˆ—è¡¨æˆ–è€…å«å­—å…¸ï¼Œå…ƒç´ æ˜¯é”®å€¼å¯¹ï¼Œæ²¡æœ‰ç‰¹å®šé¡ºåºã€‚å¦‚æœè¦å®ç°ç±»ä¼¼åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨é”®å€¼äºŒå…ƒç»„çš„Listã€‚</li><li>å…¶ä¸­æœ‰éƒ¨åˆ†å’Œ<code>Data.List</code>ä¸­é‡åçš„å‡½æ•°ï¼Œæ³¨æ„<code>import qualified Data.Map as M</code>ã€‚</li><li><code>Data.Map.fromList :: Ord k =&gt; [(k, a)] -&gt; Map k a</code> ä»åˆ—è¡¨åˆ›å»ºå­—å…¸ï¼Œå¯¹å…³é”®å­—å»é‡ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [(</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Map</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> k</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList [(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;z&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;B&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList [(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;z&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;B&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äºæ™®é€šåˆ—è¡¨ï¼Œåªéœ€è¦å…ƒç´ èƒ½å¤Ÿåˆ¤ç­‰ï¼Œè€Œå¯¹äºå­—å…¸ï¼Œéœ€è¦å¯æ’åºï¼Œå®ç°ä½¿ç”¨å¹³è¡¡æ ‘ã€‚å¤„ç†é”®å€¼å¯¹æ—¶ï¼Œå¦‚æœé”®å±äº<code>Ord</code>ç±»å‹ç±»ï¼Œå°±åº”è¯¥å°½é‡ç”¨<code>Data.Map</code>ã€‚</li><li><code>Data.Map.empty :: Map k a</code> åˆ›å»ºç©ºå­—å…¸ã€‚</li><li><code>Data.Map.insert :: Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a</code> æ’å…¥å…ƒç´ ã€‚</li><li>åˆ©ç”¨<code>empty insert</code>åˆ›å»ºè‡ªå·±çš„<code>fromList</code>ï¼Œï¼ˆç±»å‹æ¨å¯¼ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œéœ€è¦è‡ªå·±æ˜ç¡®ç±»å‹ï¼‰ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fromList&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [(</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] -&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Map</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> k</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList&#39; = foldr (\(k, v) acc -&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">insert k v acc) </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">empty</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fromList&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [(</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] -&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Map</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> k</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList&#39;&#39; = foldl (\acc (k, v) -&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">insert k v acc) </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">empty</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Data.Map.null :: Map k a -&gt; Bool</code> åˆ¤ç©ºã€‚</li><li><code>Data.Map.size :: Map k a -&gt; Int</code> å¤§å°ã€‚</li><li><code>Data.Map.singleton :: k -&gt; a -&gt; Map k a</code> æ„å»ºå•å…ƒç´ å­—å…¸ã€‚</li><li><code>Data.Map.lookup :: Ord k =&gt; k -&gt; Map k a -&gt; Maybe a</code> æŸ¥æ‰¾é”®å¯¹åº”å€¼ã€‚</li><li><code>Data.Map.member :: Ord k =&gt; k -&gt; Map k a -&gt; Bool</code> åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨ã€‚</li><li><code>Data.Map.map :: (a -&gt; b) -&gt; Map k a -&gt; Map k b</code> å­—å…¸ç‰ˆæœ¬<code>map</code>ã€‚</li><li><code>Data.Map.filter :: (a -&gt; Bool) -&gt; Map k a -&gt; Map k a</code> å­—å…¸ç‰ˆæœ¬çš„<code>filter</code>ã€‚</li><li><code>Data.Map.toList :: Map k a -&gt; [(k, a)]</code> å­—å…¸åˆ°åˆ—è¡¨ã€‚</li><li><code>Data.Map.keys :: Map k a -&gt; [k]</code> é”®åˆ—è¡¨ï¼Œç­‰ä»·äº<code>map fst . Data.Map.toList</code>ã€‚</li><li><code>Data.Map.elems :: Map k a -&gt; [a]</code> å€¼åˆ—è¡¨ï¼Œç­‰ä»·äº<code>map snd . Data.Map.toList</code>ã€‚</li><li><code>Data.Map.fromListWith :: Ord k =&gt; (a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; Map k a</code> å’Œ<code>fromList</code>å¾ˆåƒï¼Œä½†ä¸ä¼šç›´æ¥å¿½ç•¥é‡å¤é”®ï¼Œè€Œæ˜¯äº¤ç»™ä¸€ä¸ªå‡½æ•°å¤„ç†é‡å¤é”®çš„å€¼ã€‚å¯ä»¥ç»„åˆå¤šä¸ªå€¼ã€é€‰æœ€å¤§å€¼ã€ç´¯åŠ åˆ°ä¸€èµ·ç­‰ï¼Œç”±ä¼ å…¥å‡½æ•°å†³å®šã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromListWith (\v1 v2 -&gt; v1 ++ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;, &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ v2) [(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;world&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList [(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;world, hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">M.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromListWith (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) [(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList [(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Data.Map.insertWith :: Ord k =&gt; (a -&gt; a -&gt; a) -&gt; k -&gt; a -&gt; Map k a -&gt; Map k a</code> æ’å…¥å…ƒç´ ï¼Œé‡å¤é”®äº¤ç»™ä¼ å…¥å‡½æ•°å¤„ç†ã€‚</li><li>æ›´å¤šå‡½æ•°æŸ¥çœ‹<a href="https://downloads.haskell.org/~ghc/latest/docs/html/libraries/containers-0.6.5.1/Data-Map.html" target="_blank" rel="noopener noreferrer">æ–‡æ¡£</a>ã€‚</li></ul><p><code>Data.Set</code>ï¼š</p><ul><li><code>import qualified Data.Set as Set</code>ã€‚</li><li>å¸¸ç”¨å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">difference :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">null :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">size :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">member :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">empty :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">singleton :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">insert :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">delete :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">map :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">filter :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Set</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…¶ä¸­<code>difference</code>æ˜¯æ±‚å·®é›†ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">difference (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]) $ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é›†åˆçš„ä¸€ä¸ªå¸¸è§ç”¨é€”æ—¶ï¼Œåˆ—è¡¨è½¬é›†åˆå†è½¬åˆ—è¡¨å»é‡ï¼Œè¦æ±‚å…ƒç´ æ˜¯<code>Ord</code>ï¼Œæ¯”<code>nub</code>æ›´å¿«ï¼Œä½†ä¸ä¿ç•™åˆ—è¡¨ä¸­å…ƒç´ çš„é¡ºåºã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setNub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">setNub = </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">toList . </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Set.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromList</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¼–å†™è‡ªå·±çš„æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#ç¼–å†™è‡ªå·±çš„æ¨¡å—"><span>ç¼–å†™è‡ªå·±çš„æ¨¡å—</span></a></h3><p>å•ä¸ªæ–‡ä»¶ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Geometry</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sphereVolume</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sphereArea</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cubeVolume</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cubeArea</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cuboidVolume</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cuboidArea</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sphereVolume</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sphereVolume radius = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) * pi * (radius ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sphereArea</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sphereArea radius = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * pi * (radius ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cubeVolume</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cubeVolume side = cuboidVolume side side side</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cubeArea</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cubeArea side = cuboidArea side side side</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cuboidVolume</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cuboidVolume a b c  = a * b * c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cuboidArea</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cuboidArea a b c = (rectangleArea a b + rectangleArea b c + rectangleArea a c) * </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rectangleArea</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">rectangleArea a b = a * b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¦å¯¼å‡ºçš„å‡½æ•°æ”¾åˆ°<code>()</code>ä¸­ï¼Œæ²¡æœ‰å¯¼å‡ºçš„æ˜¯æ¨¡å—å†…éƒ¨å‡½æ•°ã€‚</li><li>ä¾¿å¯ä»¥åœ¨åŒçº§ç›®å½•ä¸‹çš„<code>.hs</code>ä¸­è¿›è¡Œå¯¼å…¥ï¼Œä½¿ç”¨ç”±å¯¼å…¥çš„æ¨¡å—å¯¼å‡ºçš„å‡½æ•°ã€‚</li></ul><p>å¤šä¸ªæ–‡ä»¶ï¼š</p><ul><li>æ–°å»ºç›®å½•<code>Geometry</code>ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ æ–‡ä»¶<code>Sphere.hs</code>ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Geometry.Sphere</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">volume</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">area</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">volume</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">volume radius = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) * pi * (radius ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">area</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Floating</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">area radius = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * pi * (radius ^ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨<code>Geometry</code>åŒçº§ç›®å½•ä¸‹çš„<code>.hs</code>æ–‡ä»¶ä¸­å¯ä»¥å¼•å…¥ã€‚</li></ul><p>æ›´å¤šç»†èŠ‚å¾…æŒ–æ˜ã€‚</p><h2 id="å®šä¹‰ç±»å‹å’Œç±»å‹ç±»" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰ç±»å‹å’Œç±»å‹ç±»"><span>å®šä¹‰ç±»å‹å’Œç±»å‹ç±»</span></a></h2><h3 id="å®šä¹‰æ–°ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰æ–°ç±»å‹"><span>å®šä¹‰æ–°ç±»å‹</span></a></h3><p>ä½¿ç”¨<code>data</code>å…³é”®å­—ï¼Œæ ‡å‡†åº“ä¸­<code>Bool</code>ç±»å‹çš„å®šä¹‰ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¯­æ³•ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> NameOfType</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ValueConstructor1</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> TypesOfParams1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | ... </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Typeclass1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Typeclass2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>=</code>å³ä¾§ç§°ä¹‹ä¸º<strong>å€¼æ„é€ å™¨</strong>ï¼ˆValue Constructorï¼‰ï¼Œå…¶ä¸­æ˜ç¡®äº†ç±»å‹æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œ<code>|</code>è¯»ä½œæˆ–ï¼Œç±»å‹å’Œå€¼æ„é€ å™¨ä¸­çš„måç§°éƒ½å¿…é¡»é¦–å­—æ¯å¤§å†™ã€‚</li><li>å€¼æ„é€ å™¨ä¹Ÿæ˜¯å‡½æ•°ï¼Œå¯ä»¥æœ‰å‚æ•°ï¼ŒæŒ‰ç…§å‚æ•°è°ƒç”¨æŸä¸ªå€¼æ„é€ å™¨å°±ä¼šè¿”å›ä¸€ä¸ªç±»å‹å®ä¾‹ï¼Œå’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«å°±æ˜¯é¦–å­—æ¯æ˜¯å¦å¤§å†™ã€‚</li><li>ç±»å‹åç§°å¯ä»¥å’ŒæŸä¸ªå€¼æ„é€ å™¨ç›¸åŒï¼Œåœ¨ä¸€ä¸ªç±»å‹åªæœ‰ä¸€ä¸ªå€¼æ„é€ å™¨æ—¶å¾ˆå¸¸è§ã€‚</li><li>ä½¿ç”¨<code>deriving</code>ä»å…¶ä»–ç±»å‹ç±»æ´¾ç”Ÿã€‚</li><li>ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Shape</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Circle</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Rectangle</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>åˆ™è°ƒç”¨<code>Circle f1 f2 f3</code>æˆ–è€…<code>Rectangle f1 f2 f3 f4</code>ä¼šå¾—åˆ°ä¸€ä¸ªæ–°çš„<code>Shape</code>ï¼Œ<code>Circle Rectangle</code>ä¸æ˜¯ç±»å‹ï¼Œåªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä»–ä»¬çš„è¿”å›ç±»å‹éƒ½æ˜¯<code>Shape</code>ã€‚å¯¹äº<code>Bool</code>ï¼Œ<code>True False</code>æ²¡æœ‰å‚æ•°ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¼ å…¥å‚æ•°<code>True False</code>å°±æ˜¯<code>Bool</code>çš„ä¸åŒå–å€¼ã€‚</li><li>éœ€è¦ä¸€ä¸ªç±»å‹èƒ½å¤Ÿåœ¨æ§åˆ¶å°è¾“å‡ºä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™éœ€è¦æ´¾ç”Ÿè‡ª<code>Show</code>ç±»å‹ç±»ã€‚</li><li>å¯¼å‡ºç±»å‹å’Œæ„é€ å™¨ï¼šåœ¨è¦å¯¼å‡ºçš„ç±»å‹ååŠ <code>()</code>ï¼Œå…¶ä¸­åŠ å…¥è¦å¯¼å‡ºçš„å€¼æ„é€ å™¨ï¼Œä½¿ç”¨<code>(..)</code>å¯ä»¥å¯¼å‡ºå…¨éƒ¨å€¼æ„é€ å™¨ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">module</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Shapes</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Shape</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Circle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Rectangle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å€¼æ„é€ å™¨ä¹Ÿåªæ˜¯å‡½æ•°ï¼Œå¦‚æœä¸å¯¼å‡ºï¼Œåªæ˜¯æ‹’ç»å¤–éƒ¨ä½¿ç”¨è¿™äº›å€¼æ„é€ å™¨è€Œå·²ï¼Œä»ç„¶å¯ä»¥æä¾›å…¶ä»–å‡½æ•°ç”¨äºæ„é€ ç±»å‹ï¼Œæ¯”å¦‚<code>Data.Map.fromList</code>è¿™ç§ï¼Œè¿”å›ä¸€ä¸ª<code>Data.Map</code>ã€‚</li><li>ç±»å‹çš„å€¼æ„é€ å™¨å¯ä»¥ç”¨äºæ¨¡å¼åŒ¹é…ï¼Œè¿˜å¯ä»¥åµŒå¥—åŒ¹é…ã€‚</li></ul><h3 id="record-syntax" tabindex="-1"><a class="header-anchor" href="#record-syntax"><span>Record Syntax</span></a></h3><p>ä»…ä»…ä½¿ç”¨ä¸Šé¢çš„å€¼æ„é€ å™¨çš„è¯ï¼Œæ¯ä¸ªç±»å‹çš„æˆå‘˜éƒ½æ²¡æœ‰åå­—ï¼Œå¦‚æœè¦è·å–å°±å¿…é¡»é€šè¿‡æ¨¡å¼åŒ¹é…å®šä¹‰ç±»ä¼¼è¿™æ ·çš„å‡½æ•°ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; kim = Person &quot;kim&quot; &quot;Possible&quot; 20 160 &quot;Call me later!&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; firstName kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; lastName kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; age kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; height kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;kim&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;Possible&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">20</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">160.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">firstName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">firstName (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> firstname _ _ _ _) = firstname</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lastName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">lastName (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _ lastname _ _ _ ) = lastname</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">age</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">age (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _ _ age _ _ ) = age</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Float</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">height (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _ _ _ height _) = height</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">phoneNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">phoneNumber (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _ _ _ _ number) = number</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰ç”¨ï¼Œä½†éå¸¸æ— è¶£ï¼Œæ‰€ä»¥æœ‰äº†Record è¯­æ³•ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- Record Syntax</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; kim = Person&#39; &quot;kim&quot; &quot;Possible&quot; 20 160 &quot;Call me later!&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; firstName&#39; kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; lastName&#39; kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; age&#39; kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; height&#39; kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;kim&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;Possible&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">20</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">160.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t firstName&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">firstName&#39; :: Person&#39; -&gt; String</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Person&#39; {firstName&#39; = &quot;kim&quot;, lastName&#39; = &quot;Possible&quot;, age&#39; = 20, height&#39; = 160.0, phoneNumber&#39; = &quot;Call me later!&quot;}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Person&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Person&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    firstName&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    lastName&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    age&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    height&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    phoneNumber&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åŠ äº†<code>{}</code>ï¼Œå†™å‡ºäº†é¡¹åå­—ï¼Œè·Ÿä¸Šç±»å‹æ ‡è®°ï¼Œç”¨<code>,</code>åˆ†éš”ã€‚é€šè¿‡Recordè¯­æ³•å°±ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™äº›å‡½æ•°ï¼Œä¸èƒ½å†å®šä¹‰åŒåå‡½æ•°ã€‚</li><li>Recordè¯­æ³•è°ƒç”¨<code>show</code>å¾—åˆ°å­—ç¬¦ä¸²æ˜¯ä¸åŒçš„ï¼Œä¿¡æ¯ä¼šæ›´è¯¦ç»†ã€‚</li><li>å¦‚æœæ˜¯å®šä¹‰ç®€å•ç±»å‹ï¼Œå¯èƒ½ä¸éœ€è¦Recrodè¯­æ³•ï¼Œå¦‚æœè¦å®šä¹‰å¤æ‚ç±»å‹ï¼Œä¸€ä¸ªç±»å‹æœ‰å¤šä¸ªé¡¹ä¸”ä¸æ˜“åŒºåˆ†ï¼Œåˆ™åº”è¯¥ä½¿ç”¨Recordè¯­æ³•ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­ä¸€èˆ¬å¯¹è±¡çš„é¡¹éƒ½è¦ç»™åç§°ã€‚</li></ul><h3 id="ç±»å‹å‚æ•°" tabindex="-1"><a class="header-anchor" href="#ç±»å‹å‚æ•°"><span>ç±»å‹å‚æ•°</span></a></h3><p>åœ¨ç±»å‹ååŠ ä¸Šç±»å‹å‚æ•°å¯ä»¥å®ç°æ³›å‹çš„åŠŸèƒ½ï¼Œæ¯”å¦‚<code>Map k a</code>ï¼Œé”®å’Œå€¼çš„ç±»å‹æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ã€‚æ˜¯å¯¹åº”äºC++æ¨¡æ¿ã€javaæ³›å‹ä¹‹ç±»çš„è¯­æ³•ã€‚æ¯”å¦‚<code>Maybe</code>ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>æœ‰äº†ç±»å‹å‚æ•°<code>a</code>åï¼Œ<code>Maybe</code>å°±ä¸å†æ˜¯ç±»å‹ï¼Œ<code>Maybe a</code>æ•´ä½“æ‰æ˜¯ä¸€ä¸ªç±»å‹ï¼Œ<code>Maybe</code>åˆ™ç§°ä¸º<strong>ç±»å‹æ„é€ å™¨</strong>ï¼šä¼ å…¥ç±»å‹å‚æ•°å°±å¯ä»¥å¾—åˆ°ç±»å‹ï¼Œ<code>Nothing</code>å’Œ<code>Just</code>æ˜¯å®ƒçš„å€¼æ„é€ å™¨ã€‚</li><li>å‰é¢æ¥è§¦åˆ°çš„åˆ—è¡¨ç±»å‹ï¼Œ<code>[]</code>å…¶å®å°±æ˜¯åˆ—è¡¨çš„ç±»å‹æ„é€ å™¨ï¼Œåªæ˜¯æä¾›äº†è¯­æ³•ç³–ã€‚</li><li><code>Nothing :: Maybe a</code>æ˜¯ç±»å‹æ˜¯å¤šæ€çš„ï¼Œ<code>[] :: [a]</code>ç©ºåˆ—è¡¨ä¹Ÿæ˜¯å¤šæ€çš„ï¼Œå¯ä»¥è¢«ç”¨äºä»»ä½•ç±»å‹å‚æ•°çš„<code>Maybe</code>æˆ–åˆ—è¡¨è¿ç®—ä¸Šã€‚</li><li>ç±»å‹å‚æ•°ä¸€èˆ¬ç”¨åœ¨ä¸å…³å¿ƒä¸€ä¸ªé¡¹å…·ä½“çš„å€¼çš„åœ°æ–¹ï¼Œæ¯”å¦‚<code>Map k a</code>åªéœ€è¦<code>k</code>å±äº<code>Ord</code>ç±»å‹ç±»å°±è¡Œï¼Œä¸å…³å¿ƒé”®å’Œå€¼çš„å…·ä½“ç±»å‹å’Œå…·ä½“å€¼ï¼Œå¦‚æœä¸æ˜¯åƒå®¹å™¨è¿™æ ·çš„é€šç”¨æ•°æ®ç»“æ„ï¼Œä¸€èˆ¬ä¸ä¼šä½¿ç”¨ç±»å‹å‚æ•°ã€‚åŒæ¨¡æ¿å’Œæ³›å‹ä¸€æ ·ï¼Œè¦èƒ½å¤Ÿæœ‰å¤šä¸ªç±»å‹èƒ½å¤Ÿæå–å‡ºå…¬å…±çš„é€»è¾‘æ‰æ¯”è¾ƒé€‚åˆä½¿ç”¨ç±»å½¢å‚æ•°ï¼Œå¦‚æœå®šä¹‰çš„æ–¹æ³•éƒ½æ˜¯é’ˆå¯¹æŸä¸€ç§æ•°æ®ç±»å‹çš„ï¼Œé‚£ä¹ˆæ— æ³•å®šä¹‰ç±»å‹å‚æ•°ï¼Œå®šä¹‰ç±»å‹å‚æ•°ä¹Ÿæ²¡æœ‰æ„ä¹‰ã€‚</li><li>å‡½æ•°å®šä¹‰æ—¶ç±»å‹å‚æ•°å¯ä»¥åŠ çº¦æŸï¼Œä½†Haskellä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒä¸¥æ ¼çš„<strong>çº¦å®š</strong>ï¼Œåœ¨<code>data</code>å£°æ˜çš„ç±»å‹å‚æ•°ä¸­ä¸è¦æ·»åŠ ç±»å‹çº¦æŸã€‚ <ul><li>æ³¨æ„æ˜¯ç¼–ç¨‹çº¦å®šè€Œä¸æ˜¯è¯­æ³•è§„å®šï¼ˆè¦å¯ç”¨è¿™ä¸ªè¯­æ³•éœ€è¦å¯ç”¨åœ¨æ–‡ä»¶å‰æ·»åŠ <code>{-# LANGUAGE DatatypeContexts #-}</code>ï¼Œå¹¶ä¸”ç›®å‰å·²ç»åºŸå¼ƒä½†æœªç§»é™¤ï¼Œæ–°ä»£ç ä¸­ä¸åº”è¯¥å†ä½¿ç”¨ï¼Œå¹¶æä¾›äº†<a href="https://wiki.haskell.org/Existential_type" target="_blank" rel="noopener noreferrer">ExistentialQuantification</a>ä½œä¸ºæ›¿ä»£ï¼‰ï¼Œå¦‚æœåœ¨ç±»å‹ä¸­æ·»åŠ äº†ç±»å‹å‚æ•°ï¼Œæ‰€æœ‰ä½¿ç”¨åˆ°è¯¥ç±»å‹çš„åœ°æ–¹éƒ½å¿…é¡»æ·»åŠ çº¦æŸã€‚ä¸ºäº†é¿å…å‡½æ•°å£°æ˜ä¸­å‡ºç°è¿‡å¤šæ— æ‰€è°“çš„ç±»å‹çº¦æŸï¼Œçº¦å®šä¸ºä¸ä½¿ç”¨ã€‚é‚£ä¹ˆç±»å‹åˆéœ€è¦çº¦æŸè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯åªåœ¨éœ€è¦å…³å¿ƒè¯¥çº¦æŸçš„å‡½æ•°ä¸­æ·»åŠ çº¦æŸï¼ˆæœ€å…¸å‹çš„å°±æ˜¯å€¼æ„é€ å™¨æˆ–è€…ç±»ä¼¼ä½œç”¨çš„å‡½æ•°ï¼‰ï¼Œæ¯”å¦‚<code>Data.Map.fromList :: Ord k =&gt; [(k, a)] -&gt; Map k a</code>ï¼Œæ„é€ æ—¶æ·»åŠ äº†çº¦æŸï¼Œé‚£ä¹ˆå¾—åˆ°çš„<code>Map</code>å°±ä¸€å®šæ˜¯æ»¡è¶³çº¦æŸçš„ã€‚åƒ<code>Data.Map.toList :: Map k a -&gt; [(k, a)]</code>è¿™ç§æ–¹æ³•å°±å®Œå…¨ä¸éœ€è¦å…³å¿ƒçº¦æŸã€‚</li><li>åˆæ¯”å¦‚æ„é€ å¯ä»¥ä¸åŠ çº¦æŸï¼Œä½†æŸäº›æ–¹æ³•åªæœ‰åœ¨æŸç§çº¦æŸä¸‹æ‰èƒ½å·¥ä½œï¼Œé‚£ä¹ˆå°±åªéœ€è¦é‚£ä¸€éƒ¨åˆ†æ–¹æ³•æ·»åŠ çº¦æŸï¼Œè°ƒç”¨è¿™äº›æ–¹æ³•æ—¶ç¼–è¯‘å™¨è‡ªç„¶ä¼šæ£€æŸ¥ç±»å‹å‚æ•°æ˜¯å¦æ»¡è¶³äº†çº¦æŸï¼Œä¸æ»¡è¶³åˆ™ä¼šç›´æ¥æŠ¥é”™ã€‚</li><li>ç”šè‡³å¯ä»¥ä¸ºä¸åŒçº¦æŸçš„ç±»å‹å‚æ•°ç¼–å†™å¤šç»„ä¸åŒçº¦æŸä¸åŒåç§°çš„æ–¹æ³•ï¼Œä½¿ç”¨æ—¶æ ¹æ®æ„é€ æ—¶ä¼ å…¥çš„ç±»å‹å‚æ•°é€‰æ‹©ä½¿ç”¨å“ªä¸€ç»„ï¼Œè€Œé€šç”¨çš„ä¸å…³å¿ƒçº¦æŸçš„æ–¹æ³•åˆå¯ä»¥ç”¨äºæ‰€æœ‰ç±»å‹ï¼Œéå¸¸çµæ´»ï¼Œç¼–è¯‘å™¨çš„ç±»å‹æ£€æŸ¥å¯ä»¥ä¿è¯äº†é€šè¿‡äº†ç¼–è¯‘å°±ä¸ä¼šå‘ç”Ÿç±»å‹ä¸åŒ¹é…ä¹‹ç±»çš„é”™è¯¯ã€‚</li></ul></li><li><strong>æ³¨æ„</strong>ï¼šåŒºåˆ†ç±»å‹æ„é€ å™¨å’Œå€¼æ„é€ å™¨ï¼Œç±»å‹å£°æ˜ä¸­ï¼Œå·¦è¾¹æ˜¯ç±»å‹æ„é€ å™¨ï¼Œå³è¾¹æ˜¯å€¼æ„é€ å™¨ï¼Œå‰è€…å¾—åˆ°ç±»å‹ï¼Œåè€…å¾—åˆ°è¯¥ç±»å‹å®ä¾‹ã€‚</li></ul><h3 id="æ´¾ç”Ÿæ ‡å‡†ç±»å‹ç±»" tabindex="-1"><a class="header-anchor" href="#æ´¾ç”Ÿæ ‡å‡†ç±»å‹ç±»"><span>æ´¾ç”Ÿæ ‡å‡†ç±»å‹ç±»</span></a></h3><p>å½“ä»<code>Eq Ord Enum Bounded Show Read</code>è¿™å‡ ä¸ªå¸¸è§ç±»å‹ç±»æ´¾ç”Ÿæ—¶ï¼Œåªéœ€è¦åŠ ä¸Š<code>deriving</code>å…³é”®å­—ï¼ŒHaskellå°±ä¼šè‡ªåŠ¨ä¸ºè¿™äº›ç±»å‹åŠ ä¸Šè¿™äº›è¡Œä¸ºã€‚</p><ul><li>å£°æ˜äº†<code>deriving(Eq)</code>æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>== /=</code>æ¥åˆ¤æ–­å®ä¾‹æ˜¯å¦ç›¸ç­‰ã€‚åˆ¤æ–­ä¾æ®æ˜¯å…ˆåˆ¤æ–­å…¶å€¼æ„é€ å™¨æ˜¯å¦ä¸€è‡´ï¼Œå†ç”¨<code>==</code>æ£€æŸ¥å…¶ä¸­çš„æ‰€æœ‰æ•°æ®æ˜¯å¦ä¸€è‡´ï¼ˆæ•°æ®çš„ç±»å‹å¿…é¡»éƒ½æ˜¯<code>Eq</code>çš„å®ä¾‹ï¼‰ã€‚</li><li>å±äº<code>Ord</code>çš„ç±»å‹æ¯”è¾ƒæ—¶ä¼šå…ˆåˆ¤æ–­å€¼æ„é€ å™¨æ˜¯å¦ä¸€è‡´ï¼ˆæŒ‰ç…§é¡ºåºåé¢æ¯”å‰é¢çš„å¤§ï¼‰ï¼Œå†åˆ¤æ–­ä»–ä»¬çš„å‚æ•°ï¼Œå¹¶ä¸”å‚æ•°ç±»å‹éœ€è¦éƒ½æ˜¯<code>Ord</code>çš„å®ä¾‹ã€‚å‡½æ•°ä¸æ˜¯<code>Ord</code>çš„å®ä¾‹ï¼Œæ‰€ä»¥<code>Just (*2) &lt; Just (*3)</code>è¿™ç§æ¯”è¾ƒä¼šæŠ¥é”™ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- Ord typeclass</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Nothing &lt; Just (-100)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Just 2 &lt; Just 3</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Just 100 `compare` Just 50</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">GT</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Read Show</code>åŒæ ·ï¼Œåªè¦æˆå‘˜éƒ½å®ç°äº†<code>Read Show</code>å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ<code>read</code>æ—¶éœ€è¦æ·»åŠ ç±»å‹æ³¨é‡Šæ³¨æ˜æƒ³è¦å¾—åˆ°çš„ç±»å‹ï¼Œå¦åˆ™Haskellä¸çŸ¥é“è¯¥å¦‚ä½•è½¬æ¢ã€‚å¦‚æœå°†<code>read</code>ç»“æœç›´æ¥å‚ä¸è®¡ç®—ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ä¸æ³¨æ˜ç±»å‹ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- derived type behaviors</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; kim = Person {name = &quot;Kim&quot;, age = 18}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; mygirl = Person &quot;Kim&quot; 18</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; kim == mygirl</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; show kim</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;Person {name = \&quot;Kim\&quot;, age = 18}&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; mygirl</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Person {name = &quot;Kim&quot;, age = 18}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; read &quot;Person {name = \&quot;Kim\&quot;, age = 18}&quot; :: Person</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Person {name = &quot;Kim&quot;, age = 18}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; kim &gt; read &quot;Person {name = \&quot;catholly\&quot;, age = 15}&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    age</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœæ‰€æœ‰å€¼æ„é€ å™¨éƒ½æ²¡æœ‰å‚æ•°ï¼Œæ¯ä¸ªå€¼æ„é€ å™¨éƒ½æœ‰å‰ç½®å’Œåç»§ï¼Œå¯ä»¥è®©å…¶æˆä¸º<code>Enum</code>çš„æˆå‘˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨Rangeã€‚å¦‚æœæ¯ä¸ªä¸œè¥¿éƒ½æœ‰å¯èƒ½çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œå¯ä»¥æˆä¸º<code>Bouned</code>ç±»å‹ç±»çš„æˆå‘˜ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- Enum</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Monday &lt; Sunday</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; [minBound .. maxBound] :: [Day]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; map succ [Monday .. Saturday]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; map pred [Tuesday .. Sunday]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[Monday,Tuesday,Wednesday,Thursday,Friday,Saturday]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; succ Sunday</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">succ{Day}: tried to take `succ&#39; of last tag in enumeration</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; pred Monday</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">pred{Day}: tried to take `pred&#39; of first tag in enumeration</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; [Tuesday .. Sunday] == map succ [Monday .. Saturday]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Monday</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Tuesday</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Wednesday</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Thursday</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Friday</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Saturday</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sunday</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Enum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bounded</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ³¨æ„ä¸èƒ½å¯¹æœ€åä¸€ä¸ªæšä¸¾é¡¹æ±‚åç»§ï¼Œä¸èƒ½å¯¹ç¬¬ä¸€ä¸ªæšä¸¾é¡¹æ±‚å‰ç½®ã€‚</li></ul><h3 id="ç±»å‹åˆ«å" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åˆ«å"><span>ç±»å‹åˆ«å</span></a></h3><p>ç±»å‹åˆ«åä¸åˆ›å»ºæ–°ç±»å‹ï¼Œä»…æä¾›ä¸€ä¸ªç±»å‹åˆ«åï¼Œä½¿ç”¨<code>type</code>å…³é”®å­—ï¼Œå¯ä»¥ç”¨åœ¨æ‰€æœ‰åœ°æ–¹ï¼Œç±»å‹å£°æ˜ã€ç±»å‹æ³¨é‡Šã€ç±»å‹åˆ«åå£°æ˜ä¸­ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä½¿ç”¨ç±»å‹åˆ«åå¯ä»¥è®©ç±»å‹å£°æ˜æ›´æ˜“è¯»ï¼Œç±»å‹åˆ«åä¹Ÿå¯ä»¥æœ‰ç±»å‹å‚æ•°ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> AssocList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> k</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = [(</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ­¤æ—¶åˆ«å<code>AssocList</code>æ˜¯ä¸€ä¸ªç±»å‹æ„é€ å™¨ï¼ŒåŠ ä¸Šä¸¤ä¸ªç±»å‹å‚æ•°ä¹‹åæ‰æ˜¯ç±»å‹ã€‚</p><p>ç±»å‹æ„é€ å™¨ä¹Ÿå¯ä»¥ä¸å…¨è°ƒç”¨ï¼Œå¾—åˆ°æ–°çš„ç±»å‹æ„é€ å™¨ï¼Œä½†æ˜¯ä¸‹é¢çš„ä»£ç åè€…åœ¨æœ¬åœ°å¹¶æ²¡æœ‰é€šè¿‡ç¼–è¯‘ï¼ˆ<code>? The type synonym â€˜AssocListâ€™ should have 2 arguments, but has been given 1</code>ï¼‰ï¼Œç–‘é—®å°šå­˜ï¼ç±»å‹æ„é€ å™¨å’Œå€¼æ„é€ å™¨æˆ–æ™®é€šå‡½æ•°ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œåªæ˜¯æœ‰ç±»ä¼¼ä¹‹å¤„ï¼Œä¸è¦æ··ä¸ºä¸€è°ˆã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IntMap</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">AssocList</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> v</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IntMap&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">AssocList</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„ç±»å‹æ˜¯<a href="https://hackage.haskell.org/package/base-4.14.3.0/docs/Data-Either.html" target="_blank" rel="noopener noreferrer"><code>Either</code></a>ï¼Œå®šä¹‰å¤§æ¦‚å°±åƒï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Either</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Left</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Right</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åŠŸèƒ½å’Œ<code>Maybe</code>ç±»ä¼¼ï¼Œä¸è¿‡<code>Maybe</code>åªæä¾›ä¸€ç§å€¼çš„å°è£…ï¼Œå¦ä¸€ä¸ªé€‰é¡¹æ˜¯è¡¨ç¤ºä¸å­˜åœ¨å«ä¹‰çš„<code>Nothing</code>ã€‚ä½†<code>Either</code>å¯ä»¥è¡¨ç¤ºå°†å¯èƒ½æ˜¯ä¸¤ç§ç±»å‹çš„å€¼å°è£…èµ·æ¥ã€‚å¯ä»¥æä¾›å·¦å³ä¸¤ç§å€¼<code>Left Right</code>çš„æ¨¡å¼åŒ¹é…ã€‚å¸¸ç”¨äºéœ€è¦å…³å¿ƒå¤±è´¥åŸå› çš„åœºåˆï¼Œç”¨<code>Maybe</code>åªæœ‰<code>Nothing</code>æ— æ³•ä¼ é€’å¤±è´¥åŸå› ç­‰ä¿¡æ¯ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>Either</code>ï¼Œçº¦å®š<code>Left</code>è¡¨ç¤ºé”™è¯¯ï¼Œ<code>Right</code>è¡¨ç¤ºæˆåŠŸå³å¯ã€‚</p><h3 id="é€’å½’å®šä¹‰æ•°æ®ç»“æ„" tabindex="-1"><a class="header-anchor" href="#é€’å½’å®šä¹‰æ•°æ®ç»“æ„"><span>é€’å½’å®šä¹‰æ•°æ®ç»“æ„</span></a></h3><p>å°±åƒé€’å½’å®šä¹‰å‡½æ•°ä¸€æ ·ï¼Œåœ¨ç±»çš„å€¼æ„é€ å™¨ä¸­é€’å½’è°ƒç”¨è‡ªå·±ï¼Œå°±å¯ä»¥é€’å½’åœ°å®šä¹‰æ•°æ®ç±»å‹ï¼š</p><ul><li>æ¯”å¦‚ç±»ä¼¼äºå†…ç½®çš„åˆ—è¡¨è‡ªå®šä¹‰ä¸€ä¸ªåˆ—è¡¨æ•°æ®ç±»å‹ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- simulate a list, define data recursively</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Empty</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Empty</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; 5 `Cons` Empty</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Cons 5 Empty</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; 3 `Cons` (4 `Cons` (5 `Cons` Empty))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Cons 3 (Cons 4 (Cons 5 Empty))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> MyList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Cons</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MyList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Empty</code>å¯¹åº”äº<code>[]</code>ï¼Œ<code>:</code>å¯¹åº”äº<code>Cons</code>ï¼Œ<code>1:2:[]</code>å¯¹åº”äº<code>Cons 1 (Cons 2 Empty)</code>ï¼Œè€Œ<code>[1, 2]</code>ä»…ä»…æ˜¯Haskellå¯¹<code>1:2:[]</code>æä¾›çš„è¯­æ³•ç³–ã€‚è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆ<code>:</code>å¯ä»¥ç”¨äºåˆ—è¡¨çš„æ¨¡å¼åŒ¹é…ï¼Œè€Œä¸”åªèƒ½ä»å·¦è¾¹å¼€å§‹åŒ¹é…ï¼Œå› ä¸ºæ¨¡å¼åŒ¹é…å°±æ˜¯ç”¨å€¼æ„é€ å™¨æ¥åšçš„ï¼Œé€’å½’å®šä¹‰æ‰€ä»¥åªèƒ½ä»å·¦è¾¹çš„æœ€å¤–å±‚å¼€å§‹åŒ¹é…ã€‚</li><li>Haskellè¿˜æä¾›è‡ªå®šä¹‰è¿ç®—ç¬¦ï¼ˆä¹Ÿå³æ˜¯ä¸­ç¼€å‡½æ•°ï¼‰çš„æ–¹æ³•ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- use self define operator</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; let a = 1 :-: 2 :-: 3 :-: Empty&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">1 :-: (2 :-: (3 :-: Empty&#39;))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t (1 :-: Empty&#39;)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(1 :-: Empty&#39;) :: Num a =&gt; MyList&#39; a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; let b = 10 :-: 100 :-: Empty&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; a .++ b</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">1 :-: (2 :-: (3 :-: (10 :-: (100 :-: Empty&#39;))))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">infixr</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :-:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> MyList&#39;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> :-:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MyList&#39;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">infixr</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> .++</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(.++)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MyList&#39;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MyList&#39;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MyList&#39;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> .++ xs = xs</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(x :-: xs) .++ ys = x :-: (xs .++ ys)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨<code>infixr 5 :-:</code>å®šä¹‰äº†ä¸­ç¼€è¿ç®—ç¬¦<code>:-:</code>ï¼Œä¼˜å…ˆçº§æ˜¯5ï¼Œå³ç»“åˆï¼ˆæ‰€ä»¥<code>1 :-: 2 :-: Empty</code>ä»å³å¾€å·¦è®¡ç®—ï¼Œå¯ä»¥ä¸ç”¨åŠ æ‹¬å·ï¼‰ã€‚</li><li>è¿™æ˜¯æ–°çš„è¯­æ³•ç»“æ„ã€‚å·¦ç»“åˆæ˜¯<code>infixl</code>ï¼Œå³ç»“åˆæ˜¯<code>infixr</code>ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ç»“åˆæ€§<code>infix</code>ã€‚</li><li>å®šä¹‰<code>.++</code>ç±»ä¼¼äºåˆ—è¡¨çš„<code>++</code>ï¼Œç”¨åˆ°äº†æ¨¡å¼åŒ¹é…å’Œé€’å½’å®šä¹‰ã€‚å¯ä»¥çœ‹åˆ°å…¶å®å¹¶æ²¡æœ‰ä»»ä½•é­”æ³•ï¼Œéƒ½æ˜¯æœ‰è¿¹å¯å¾ªçš„ã€‚</li><li>æ›´å¤šè‡ªå®šä¹‰è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ç»“åˆæ€§ã€å‰ç¼€çš„å‡½æ•°ä½¿ç”¨<code>` `</code>è½¬ä¸ºä¸­ç¼€è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§é—®é¢˜ä»éœ€æ¢ç©¶ã€‚</li></ul><p>ä¾‹å­ï¼ŒäºŒå‰æœç´¢æ ‘ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- example: binary search tree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; treeInsert 3 EmptyTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Node 3 EmptyTree EmptyTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; let t = listToTree [0, 3, 5, 6, 7, 1, 2, 4, 4, 4]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; t</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Node 4 (Node 2 (Node 1 (Node 0 EmptyTree EmptyTree) EmptyTree) (Node 3 EmptyTree EmptyTree)) (Node 7 (Node 6 (Node 5 EmptyTree EmptyTree) EmptyTree) EmptyTree)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; treeElem 5 t</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; treeElem 10 t</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">singleton</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">singleton x = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EmptyTree</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">treeInsert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">treeInsert x </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = singleton x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">treeInsert x (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a left right)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | x == a = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x left right </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- de-duplicate, another option is to insert to right </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | x &lt; a = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a (treeInsert x left) right</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | x &gt; a = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a left (treeInsert x right)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = singleton x </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- can be removed</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">listToTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">listToTree = foldr treeInsert </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EmptyTree</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">treeElem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">treeElem x </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">treeElem x (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a left right)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | x == a = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | x &lt; a = treeElem x left</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | x &gt; a = treeElem x right</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- can be removed</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®ˆå«çš„æ¡ä»¶å…¶å®å·²ç»å®Œå¤‡äº†ï¼Œ<code>otherwise</code>å¯ä»¥å»æ‰ï¼Œåªä¸è¿‡ä¼šè­¦å‘Šæ‰€ä»¥åŠ ä¸Šäº†ã€‚</li><li>é€’å½’çš„æ€æƒ³åœ¨ä»»ä½•è¯­è¨€é‡Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚</li></ul><h3 id="è‡ªå®šä¹‰ç±»å‹ç±»" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰ç±»å‹ç±»"><span>è‡ªå®šä¹‰ç±»å‹ç±»</span></a></h3><p>è‡ªå®šä¹‰ç±»å‹ç±»ï¼š</p><ul><li>å›é¡¾ä¸€ä¸‹ç±»å‹ç±»ï¼š <ul><li>ç±»å‹ç±»ä»¥å‡½æ•°çš„å½¢å¼å®šä¹‰äº†ä¸€äº›è¡Œä¸ºï¼Œä¸€ä¸ªç±»å‹å¦‚æœè¢«å®šä¹‰ä¸ºè¯¥ç±»å‹ç±»çš„å®ä¾‹ï¼Œä¾¿å¯ä»¥ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚</li><li>ç±»å‹ç±»ä¸å‘½ä»¤å¼ç¼–ç¨‹ä¸­çš„ç±»æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œæ›´åŠ ç±»ä¼¼äºæ¥å£ç±»ã€çº¯è™šç±»ã€æŠ½è±¡ç±»ç­‰æ¦‚å¿µï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ç±»å‹ç±»æ¥å£°æ˜ä¸€ä¸ªå®ä¾‹ï¼Œè€Œéœ€è¦ä»å…¶æ´¾ç”Ÿå‡ºå…·ä½“çš„ç±»å‹å®ä¾‹ã€‚</li></ul></li><li>çœ‹ä¸€çœ‹<code>Eq</code>çš„å®šä¹‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    (==)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    (/=)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    x == y = not (x /= y)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    x /= y = not (x == y)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>a</code>æ˜¯ä¸€ä¸ªç±»å‹å˜é‡ï¼Œä»£è¡¨æˆ‘ä»¬å®šä¹‰çš„ä»»ä½•<code>Eq</code>å®ä¾‹ç±»å‹ã€‚å¹¶ä¸”å£°æ˜äº†ç±»å‹ç±»æä¾›çš„å‡½æ•°ï¼Œå¹¶ä¸ä¸€å®šéœ€è¦æœ‰å‡½æ•°çš„å®šä¹‰ï¼Œä¸è¿‡å¿…é¡»å†™å‡ºå‡½æ•°çš„ç±»å‹å£°æ˜ã€‚</li><li><code>Eq</code>æä¾›çš„å‡½æ•°æ˜¯<code>== /=</code>ï¼Œå¹¶ä¸”æ˜¯ä»¥ç›¸äº’é€’å½’çš„å½¢å¼å®šä¹‰çš„ã€‚æŸ¥çœ‹<code>==</code>çš„ç±»å‹ï¼Œä¼šå‘ç°æ˜¯<code>(==) :: Eq a =&gt; a -&gt; a -&gt; Bool</code>ï¼Œ<code>a</code>æ‰€å±ç±»å‹ç±»<code>Eq</code>è¢«æ·»åŠ åˆ°äº†çº¦æŸä¸­ã€‚</li><li>å¦‚æœå®šä¹‰ä¸€ä¸ªç±»å‹ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> TrafficLight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Red</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Yellow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Green</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>æ­¤æ—¶è°ƒç”¨<code>Red == Red</code>ä¼šæŠ¥é”™<code>No instance for (Eq TrafficLight) arising from a use of â€˜==â€™</code>ã€‚</li><li>é™¤äº†<code>deriving(Eq)</code>æ˜¾å¼ä»<code>Eq</code>æ´¾ç”Ÿï¼Œè¿˜å¯ä»¥é€šè¿‡<code>instance</code>ä½¿å…¶æˆä¸º<code>Eq</code>çš„å®ä¾‹ï¼Œæ­¤æ—¶å°±è¦è‡ªè¡Œæä¾›<code>==</code>çš„å®ç°ã€‚å¦‚æœä¸æä¾›<code>==</code>å®ç°ï¼Œé‚£ä¹ˆä¼šæŠ¥è­¦å‘Šï¼Œå¹¶è°ƒç”¨<code>Eq</code>çš„é»˜è®¤å®ç°ç›¸äº’é€’å½’ç›´åˆ°æ ˆæº¢å‡ºï¼Œä¸€åˆ‡éƒ½æ˜¯åˆä¹é€»è¾‘çš„ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- define our own typeclasses</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Red == Red</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Red /= Green</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> TrafficLight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Red</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Yellow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Green</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Eq</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> TrafficLight</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Red</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Red</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Green</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Green</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Yellow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Yellow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    _ == _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ­¤æ—¶å†è°ƒç”¨<code>== /=</code>ä¾¿å¯ä»¥æˆåŠŸï¼Œå¹¶ä¸”ç”±äº<code>Eq</code>ä¸­é€’å½’å®šä¹‰äº†<code>== /=</code>ï¼Œåªéœ€è¦åœ¨å…·ä½“çš„ç±»å‹å®ä¾‹ä¸­å®šä¹‰å…¶ä¸­ä¸€è€…è¦†ç›–ç±»å‹ç±»ä¸­å®šä¹‰ï¼Œä¾¿å¯ä»¥ä½¿ç”¨ä¸¤è€…ã€‚</li></ul><p>æ€»ç»“ï¼š</p><ul><li>ä½¿ç”¨<code>class</code>å…³é”®å­—å®šä¹‰ç±»å‹ç±»ï¼Œå…¶ä¸­å£°æ˜ç±»å‹ç±»æä¾›çš„å‡½æ•°ï¼Œå¯ä»¥æä¾›ç¼ºçœå®šä¹‰ä¹Ÿå¯ä»¥ä¸æä¾›ï¼Œå…¶ä¸­çš„ç±»å‹å‚æ•°è¡¨ç¤ºç±»å‹ç±»çš„å®ä¾‹ã€‚</li><li>ä½¿ç”¨<code>instance</code>å…³é”®å­—å®šä¹‰æŸä¸ªç±»å‹ç±»çš„å®ä¾‹ï¼Œæ­¤æ—¶å°†ç±»å‹å‚æ•°æ›¿æ¢ä¸ºå…·ä½“çš„å®ä¾‹ï¼Œæä¾›éœ€è¦çš„å‡½æ•°å®šä¹‰ç”¨æ¥è¦†ç›–ç±»å‹ç±»ä¸­çš„å®šä¹‰ã€‚</li><li><code>deriving</code>å…³é”®å­—å¯¹äºæ ‡å‡†ç±»å‹ç±»ä¼šæä¾›é»˜è®¤çš„å®ç°ï¼Œæ¯”å¦‚<code>Eq Show</code>ç­‰ï¼Œå¦‚æœéœ€è¦æ”¹å˜è¿™ç§é»˜è®¤è¡Œä¸ºï¼Œåˆ™éœ€è¦é’ˆå¯¹è¯¥ç±»å‹ç±»å®šä¹‰ç±»å‹å®ä¾‹ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; show Red</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;Red light&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Show</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> TrafficLight</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    show </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Red</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Red light&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    show </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Yellow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Yellow light&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    show </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Green</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Green light&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¹Ÿå¯ä»¥æŠŠç±»å‹ç±»å®šä¹‰ä¸ºå…¶ä»–ç±»å‹ç±»çš„å­ç±»ï¼Œæ¯”å¦‚<code>Num</code>åŒæ—¶ä¹Ÿæ˜¯<code>Eq</code>ï¼Œå®šä¹‰ç±»å‹ç±»æ—¶åŠ ä¸Šç±»å‹çº¦æŸå³å¯ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>instance</code>å£°æ˜ä¸­ï¼Œå®é™…çš„ç±»å‹ç±»å®ä¾‹å¿…é¡»æ˜¯å…·ä½“çš„ç±»å‹ï¼Œå¦‚æœæ˜¯æœ‰ç±»å‹å‚æ•°çš„<code>data</code>ï¼Œå¿…é¡»éœ€è¦åŠ ä¸Šå…¶ç±»å‹å‚æ•°ï¼ˆå…·ä½“çš„ç±»å‹æˆ–è€…é€šç”¨çš„å‚æ•°åï¼‰ï¼Œè€Œä¸èƒ½ä»…ä»…åªä½¿ç”¨å…¶ç±»å‹æ„é€ å™¨ï¼ˆç±»å‹æ„é€ å™¨å¹¶ä¸è¡¨ç¤ºä¸€ä¸ªæˆ–ä¸€ç±»ç±»å‹ï¼‰ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> y = x == y</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    _ == _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œåœ¨<code>class</code>å®šä¹‰ä¸­çš„ç±»å‹çº¦æŸéƒ½æ˜¯å®£å‘Šä¸€ä¸ªç±»å‹ç±»æˆä¸ºå¦ä¸€ä¸ªç±»å‹ç±»çš„å­ç±»ã€‚è€Œåœ¨<code>instance</code>å®šä¹‰ä¸­çš„ç±»å‹çº¦æŸåˆ™è¡¨è¾¾å¯¹äºç±»å‹çš„é™åˆ¶ã€‚æ¯”å¦‚ï¼Œè¦æ±‚<code>Maybe</code>çš„å†…å®¹ç‰©ï¼ˆ<code>Just a</code>ä¸­çš„<code>a</code>ï¼‰ä¹Ÿæ˜¯å±äº<code>Eq</code>ã€‚</li><li>æŸ¥çœ‹ä¸€ä¸ªç±»å‹ç±»æœ‰å“ªäº›å®ä¾‹ï¼Œå¯ä»¥åœ¨ghciä¸­ä½¿ç”¨å‘½ä»¤<code>:i/:info YourTypeClass</code>ã€‚</li></ul><p>å®ä¾‹ï¼š</p><ul><li>å®šä¹‰<code>YesNo</code>ç±»å‹ç±»ï¼Œæä¾›é<code>Bool</code>ç±»å‹çš„<code>True False</code>åˆ¤æ–­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- YesNo typeclass</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; yesnoIf [] &quot;Yes&quot; &quot;No&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;No&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; yesnoIf [2, 3, 4] &quot;Not Empty&quot; &quot;Empty&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;Not Empty&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; yesnoIf True True False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; yesno Nothing</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t Nothing</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Nothing :: Maybe a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; yesno (Just 1)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> YesNo</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    yesno</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> YesNo</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    yesno </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    yesno _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> YesNo</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Bool</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    yesno a = a</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> YesNo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    yesno </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    yesno _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> YesNo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    yesno </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    yesno _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yesnoIf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">YesNo</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">p</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">yesnoIf yesnoVal yesResult noResult = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> yesno yesnoVal </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> yesResult </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> noResult</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å†ä»<code>YesNo</code>æ´¾ç”Ÿæ–°ç±»å‹ç±»<code>EmptyOrNot</code>ï¼Œä»…é’ˆå¯¹åˆ—è¡¨æˆ–è€…<code>Maybe</code>ç±»å‹ï¼Œæ¼”ç¤ºä¸€ä¸‹<code>class isntance</code>å£°æ˜ä¸­çš„ç±»å‹çº¦æŸã€ä½¿ç”¨ç±»å‹ç±»é»˜è®¤å®ç°ç­‰æƒ…å†µã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- Empty or not type class</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; empty (Just [])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; empty (Just [1, 2, 3])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; empty (Just (Just (Just [1, 2, 3])))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; empty []</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> YesNo</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">EmptyOrNot</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    empty = not . yesno</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> EmptyOrNot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- use implementation of YesNo, equals to (not . yesno)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">EmptyOrNot</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">EmptyOrNot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    empty </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    empty (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m) = empty m</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å€¼å¾—æ³¨æ„çš„ç»†èŠ‚æ˜¯ï¼Œæ¯ä¸ªå®ä¾‹ç±»å‹éƒ½éœ€è¦å¯¹å¤šä¸ªç±»å‹ç±»ä¾æ¬¡å£°æ˜ï¼Œè€Œä¸èƒ½ä¸€æ¬¡æ€§åœ¨ä¸€æ¬¡<code>instance</code>å£°æ˜ä¸­åŒæ—¶å®ç°<code>empty</code>å’Œ<code>yesno</code>æ–¹æ³•ï¼Œå°½ç®¡ç±»å‹ç±»æ˜¯å…·æœ‰æ´¾ç”Ÿå…³ç³»çš„ã€‚</li></ul><h3 id="functor-å‡½å­" tabindex="-1"><a class="header-anchor" href="#functor-å‡½å­"><span>Functor/å‡½å­</span></a></h3><p><code>Functor</code>æ˜¯ä¸€ä¸ªç±»å‹ç±»ï¼Œä¹Ÿç§°ä½œ<strong>å‡½å­</strong>ï¼Œå®šä¹‰ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    fmap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Functor</code>æ¯”è¾ƒç‰¹æ®Šçš„åœ°æ–¹åœ¨äºç±»å‹å‚æ•°<code>f</code>ï¼Œå‰é¢é‡åˆ°çš„ç±»å‹å‚æ•°ä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸ªç±»å‹ï¼Œè€Œè¿™é‡Œçš„<code>f</code>å¹¶ä¸æ˜¯å…·ä½“ç±»å‹ï¼Œè€Œæ˜¯<strong>æ¥å—ä¸€ä¸ªç±»å‹å‚æ•°çš„ç±»å‹æ„é€ å™¨</strong>ã€‚</li><li><code>fmap</code>å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä»ä¸€ä¸ªç±»å‹æ˜ å°„åˆ°å¦ä¸€ä¸ªç±»å‹ï¼Œè¿˜æ¥å—ä¸€ä¸ªè£…æœ‰åŸå§‹ç±»å‹çš„<code>Functor</code> <code>f a</code>ï¼Œè¿”å›æ˜ å°„åå¦ä¸€ä¸ªç±»å‹çš„<code>Functor</code> <code>f b</code>ã€‚æˆ–è€…ä¸å…¨è°ƒç”¨ï¼Œä¼ å…¥ä¸€ä¸ªç±»å‹<code>a</code>åˆ°<code>b</code>çš„æ˜ å°„ï¼ˆå‡½æ•°ï¼‰ï¼Œå¾—åˆ°å¯¹åº”<code>Functor</code>å‡½å­<code>f a</code>åˆ°<code>f b</code>çš„æ˜ å°„ï¼ˆå‡½æ•°ï¼‰ã€‚</li><li>å¯¹äºåˆ—è¡¨ç±»å‹æ¥è¯´ï¼Œ<code>map</code>å…¶å®å°±æ˜¯åˆ—è¡¨ç±»å‹çš„<code>fmap</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å¦‚ä½•å°†åˆ—è¡¨å®šä¹‰æˆå‡½å­ï¼Œæ³¨æ„ç±»å‹å‚æ•°ä¼ å…¥çš„ç±»å‹æ„é€ å™¨<code>[]</code>è€Œä¸æ˜¯å…·ä½“ç±»å‹<code>[a]</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap = map</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Maybe</code>ä½œä¸ºå‡½å­çš„å®šä¹‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x) = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (f x)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äº<code>Nothing</code>ï¼Œè¿˜æ˜¯<code>Nothing</code>ï¼Œå¯¹äº<code>Just x</code>ï¼Œåˆ™æ˜¯å–å‡ºå…ƒç´ æ˜ å°„ä¹‹åå†æ”¾å›<code>Just</code>ã€‚å°±åƒåˆ—è¡¨ä¸€æ ·ï¼Œåªæ˜¯åˆ—è¡¨å¯ä»¥ä¿å­˜å¤šä¸ªå…ƒç´ ï¼Œ<code>Just</code>åªä¿å­˜ä¸€ä¸ªã€‚</li><li>ç®€å•æ¥è¯´ï¼Œå°†å‡½å­çœ‹åšå®¹å™¨ï¼ˆç›’å­ï¼‰ï¼Œ<code>fmap</code>å°±æ˜¯å°†ç›’å­ä¸­æ•°æ®å–å‡ºæ¥åšè¿ç®—ä¹‹åå¾—åˆ°ç»“æœå†è£…è¿›åŒæ ·çš„ç›’å­ï¼Œç»“æœç±»å‹å¹¶ä¸éœ€è¦å’Œæºç±»å‹ä¸€è‡´ã€‚å®¹å™¨ä¸­å­˜å‚¨çš„æ•°æ®ç±»å‹éœ€è¦æ˜¯å•ä¸€çš„æ•°æ®ç±»å‹ï¼ˆå®ç°å‡½å­çš„ç±»å‹çš„ç±»å‹æ„é€ å™¨åªæœ‰ä¸€ä¸ªç±»å‹å‚æ•°ï¼‰ã€‚<code>fmap</code>éœ€è¦åœ¨å…·ä½“ç±»å‹ä¸­è¿›è¡Œå®ç°ã€‚</li><li>å½“ç„¶å¦‚æœæ˜¯å¤šä¸ªæ•°æ®ç±»å‹é‚£ä¹ˆå¯ä»¥å›ºå®šä¹‹ååªå‰©ä¸€ä¸ªï¼Œæ¯”å¦‚å¯¹äº<code>Map k v</code>å¯ä»¥å°†<code>Map k</code>å˜ä¸ºå‡½å­ã€‚</li><li>å¯¹äº<code>data Either a b = Left a | Right b</code>ä¸€èˆ¬ç”¨<code>Left</code>è¡¨ç¤ºé”™è¯¯ï¼Œ<code>Right</code>è¡¨æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥å°†<code>a</code>å›ºå®šä¸å˜ï¼ˆé”™è¯¯ä¿¡æ¯æ²¡æœ‰æ”¹å˜ç±»å‹å’Œ<code>fmap</code>çš„å¿…è¦ï¼‰ï¼Œå°†<code>Either a</code>å˜ä¸ºå‡½å­ã€‚</li><li>å‡½å­çš„å®šä¹‰åº”è¯¥éµå®ˆä¸€äº›è§„åˆ™ï¼Œè¿™æ ·ä»–ä»¬çš„ä¸€äº›æ€§è´¨æ‰èƒ½å¤Ÿå¾—åˆ°ä¿è¯ã€‚æ¯”å¦‚ä½¿ç”¨<code>(\a -&gt; a)</code>å‡½æ•°æ¥è°ƒç”¨<code>fmap</code>é‚£ä¹ˆåº”è¯¥æœŸæœ›å¾—åˆ°ä¸å‚æ•°ç›¸åŒçš„ç»“æœã€‚</li></ul><h3 id="kind" tabindex="-1"><a class="header-anchor" href="#kind"><span>Kind</span></a></h3><p>ç±»å‹æ„é€ å™¨ï¼š</p><ul><li>ç±»å‹æ„é€ å™¨å¯ä»¥æ¥å—ç±»å‹ä½œä¸ºç±»å‹å‚æ•°ï¼Œæ¥æ„é€ å‡ºä¸€ä¸ªå…·ä½“çš„ç±»å‹ï¼Œè¿™æ ·çš„è¡Œä¸ºä¼šè®©æˆ‘ä»¬æƒ³åˆ°å‡½æ•°ï¼Œæ¥å—å‚æ•°å¹¶è¿”å›å¹¶ä¸€ä¸ªå€¼ã€‚</li><li>ghciä¸­ä½¿ç”¨<code>:k :kind</code>å‘½ä»¤å¯ä»¥æŸ¥çœ‹ä¸€ä¸ªç±»å‹çš„Kindã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Data.Map</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- Kind</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Int</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Int :: *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k []</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[] :: * -&gt; *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Maybe</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Maybe :: * -&gt; *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :kind Maybe</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Maybe :: * -&gt; *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Maybe Int</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Maybe Int :: *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Map</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Map :: * -&gt; * -&gt; *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Map Int</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Map Int :: * -&gt; *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Map Int String</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Map Int String :: *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Num</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Num :: * -&gt; Constraint</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Either</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Either :: * -&gt; * -&gt; *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ¯”å¦‚<code>Maybe</code>çš„Kindæ˜¯<code>* -&gt; *</code>è¡¨ç¤ºæ¥å—ä¸€ä¸ªç±»å‹å‚æ•°å¹¶è¿”å›ä¸€ä¸ªå…·ä½“ç±»å‹ã€‚</li><li>è€Œ<code>-&gt; Contraint</code>åˆ™è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªçº¦æŸæˆ–è€…ç±»å‹ç±»ã€‚</li><li>å¯¹ä¸€ä¸ªç±»å‹ä½¿ç”¨<code>:k</code>å°±ç±»ä¼¼äºå¯¹ä¸€ä¸ªå€¼ä½¿ç”¨<code>:t</code>ã€‚</li><li>ç±»å‹æ„é€ å™¨ä¹Ÿæ˜¯æŸ¯é‡ŒåŒ–çš„ï¼Œå¯ä»¥éƒ¨åˆ†åº”ç”¨å‚æ•°ï¼Œå¾—åˆ°æ–°æ„é€ å™¨ï¼Œæ¯”å¦‚<code>Map Int</code>ã€‚</li><li>ç±»å‹æœ¬èº«ä¹Ÿæ˜¯æœ‰ç±»å‹ç³»ç»Ÿçš„ï¼Œæ¯”å¦‚ä¸€ä¸ªç±»å‹æ„é€ å™¨çš„ç±»å‹å‚æ•°ä¹Ÿå¯ä»¥è¢«é™å®šä¸ºæ˜¯æ¥å—ä¸€ä¸ªç±»å‹å‚æ•°çš„ç±»å‹æ„é€ å™¨ï¼ˆå°±åƒå‡½æ•°æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°é‚£æ ·ï¼‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :k Frank</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Frank :: * -&gt; (* -&gt; *) -&gt; *</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Frank</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Frank</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">frankField</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‡½æ•°ä¸ç±»å‹æ„é€ å™¨è™½ç„¶æœ‰ç›¸ä¼¼ï¼Œä½†æ˜¯å®ƒä»¬æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ä¸œè¥¿ï¼Œä¸è¦æ··æ·†ã€‚</li><li>ä¸€èˆ¬æ¥è¯´å†™å®ç”¨çš„Haskellç¨‹åºæ—¶ä¸ä¼šéœ€è¦ç”¨åˆ°Kindï¼Œä¹Ÿä¸å¤ªéœ€è¦å»æ¨æ•²ï¼Œä½†éœ€è¦çŸ¥é“æœ‰è¿™äº›æ¦‚å¿µã€‚</li><li>æœ€åæ¥ä¸€ä¸ªæ¯”è¾ƒç»•çš„é—®é¢˜ï¼šç±»å‹ç±»å¯ä»¥æœ‰ç±»å‹å‚æ•°å—ï¼Ÿç»è¿‡è¯•éªŒå¤§æ¦‚æ˜¯ä¸å¯ä»¥ã€‚</li></ul><h2 id="è¾“å…¥ä¸è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#è¾“å…¥ä¸è¾“å‡º"><span>è¾“å…¥ä¸è¾“å‡º</span></a></h2><p>å‡½æ•°çš„å‰¯ä½œç”¨ï¼š</p><ul><li>Haskellæ˜¯çº¯å‡½æ•°å¼è¯­è¨€ï¼Œå‘½ä»¤å¼è¯­è¨€ä¸­ç»™ç”µè„‘ä¸€ä¸²æŒ‡ä»¤ï¼Œåœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­éƒ½æ˜¯ä»¥å®šä¹‰ä¸œè¥¿çš„æ–¹å¼è¿›è¡Œçš„ã€‚Haskellä¸­çš„å‡½æ•°ä¸èƒ½æ”¹å˜çŠ¶æ€ï¼Œæ¯”å¦‚æ”¹å˜å˜é‡å†…å®¹ï¼Œå½“ä¸€ä¸ªå‡½æ•°ä¼šæ”¹å˜çŠ¶æ€ï¼Œç§°ä¹‹ä¸ºæœ‰å‰¯ä½œç”¨ã€‚æ²¡æœ‰å‰¯ä½œç”¨çš„å‡½æ•°åœ¨ä»»ä½•æ—¶å€™ä»»ä½•æƒ…å†µä¸‹ä»¥ç›¸åŒå‚æ•°è¿›è¡Œä¸¤æ¬¡è°ƒç”¨ï¼Œç»“æœéƒ½å¿…å®šæ˜¯ç›¸åŒçš„ã€‚</li><li>æ— å‰¯ä½œç”¨çš„å‡½æ•°å³æ˜¯ä¼˜ç‚¹ä¹Ÿæ˜¯é™åˆ¶ï¼Œä¹Ÿå¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯å¦‚æœè¦è¿›è¡Œè¾“å…¥è¾“å‡ºï¼Œå°±å¿…é¡»è¦æ”¹å˜è¾“å…¥è¾“å‡ºè®¾å¤‡çš„çŠ¶æ€ã€‚æ‰€ä»¥ä¹Ÿéœ€è¦å­˜åœ¨æœ‰å‰¯ä½œç”¨çš„å‡½æ•°ã€‚</li><li>Haskellåœ¨è®¾è®¡ä¸Šå¯¹æœ‰å‰¯ä½œç”¨çš„å‡½æ•°åšäº†åŒºåˆ†ï¼Œå°†ç¨‹åºåˆ†ä¸ºçº¯ç²¹å’Œéçº¯ç²¹ä¸¤éƒ¨åˆ†ï¼Œè¾“å…¥è¾“å‡ºç”±éçº¯ç²¹çš„éƒ¨åˆ†æ¥å¤„ç†ï¼Œçº¯ç²¹çš„éƒ¨åˆ†ä¾ç„¶å…·æœ‰å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜ç‚¹ï¼Œæ¯”å¦‚æƒ°æ€§æ±‚å€¼ã€å®¹é”™ã€æ¨¡å—æ€§ã€‚</li></ul><h3 id="ioåŠ¨ä½œ" tabindex="-1"><a class="header-anchor" href="#ioåŠ¨ä½œ"><span>IOåŠ¨ä½œ</span></a></h3><p>å‰é¢è®¨è®ºçš„å†…å®¹éƒ½æ˜¯æ— å‰¯ä½œç”¨çš„ï¼Œéƒ½æ˜¯åº”è¯¥å¦‚ä½•ç¼–å†™å‡½æ•°ï¼Œè®¡ç®—ç»“æœï¼Œæ²¡æœ‰è®¨è®ºè¿‡å¦‚ä½•è¾“å‡ºç»“æœä¸ç»„ç»‡ç¨‹åºï¼Œä»è¾“å‡ºå¼€å§‹ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = putStrLn </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello, world&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¿å­˜ä¸º<code>helloworld.hs</code>ï¼Œç¼–è¯‘<code>ghc helloworld.hs</code>ï¼Œå¾—åˆ°<code>helloworld.hi helloworld.i helloworld(.exe)</code>ã€‚å¯æ‰§è¡Œæ–‡ä»¶è¾¾åˆ°10MBï¼Œè¿™å¾—é“¾äº†å¤šå°‘ä¸œè¥¿è¿›å»ã€‚</p><p>çœ‹ä¸€ä¸‹<code>putStrLn</code>çš„ç±»å‹å£°æ˜ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Prelude&gt; :t putStrLn</span></span>
<span class="line"><span>putStrLn :: String -&gt; IO ()</span></span>
<span class="line"><span>Prelude&gt; :t putStrLn &quot;hello&quot; </span></span>
<span class="line"><span>putStrLn &quot;hello&quot; :: IO ()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>putStrLn</code>æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ä¸€ä¸ªIOåŠ¨ä½œï¼Œè¿™ä¸ªIOåŠ¨ä½œçš„ç±»å‹å‚æ•°æ˜¯<code>()</code>ï¼ˆå³ç©ºçš„å…ƒç»„ï¼Œæˆ–è€…æ˜¯unitç±»å‹ï¼‰ã€‚</p><p>æ‰€è°“IOåŠ¨ä½œï¼š</p><ul><li>ä¸€ä¸ªIOåŠ¨ä½œï¼ˆI/O Actionï¼‰æ˜¯ä¸€ä¸ªä¼šé€ æˆå‰¯ä½œç”¨çš„åŠ¨ä½œï¼Œå¸¸å¸¸æ˜¯è¯»å–è¾“å…¥æˆ–è€…è¾“å‡ºåˆ°å±å¹•ï¼ŒåŒæ—¶ä¼šè¿”å›ä¸€äº›å€¼ã€‚åœ¨æ ‡å‡†è¾“å‡ºæ‰“å°å­—ç¬¦ä¸²æ²¡æœ‰å…·ä½“çš„å€¼è¿”å›ï¼Œç”¨ä¸€ä¸ª<code>()</code>ä»£è¡¨ã€‚</li><li>ä¸€ä¸ªIOåŠ¨ä½œä¼šåœ¨æˆ‘ä»¬æŠŠå®ƒç»‘å®šåˆ° <code>main</code> è¿™ä¸ªåå­—å¹¶ä¸”æ‰§è¡Œç¨‹åºçš„æ—¶å€™è§¦å‘ã€‚</li><li>æ•´ä¸ªç¨‹åºé™åˆ¶åˆ°åªèƒ½æœ‰ä¸€ä¸ªIOåŠ¨ä½œçœ‹èµ·æ¥æ˜¯å¾ˆå¤§çš„é™åˆ¶ï¼Œæ‰€æœ‰æœ‰äº†<code>do</code>è¡¨ç¤ºæ³•å°†æ‰€æœ‰IOåŠ¨ä½œç»‘æˆä¸€ä¸ªã€‚</li></ul><p><code>do</code>è¡¨ç¤ºæ³•ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStrLn </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello, input your name:&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    name &lt;- getLine </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStrLn (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hey ! &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ name ++ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; Yo ! what&#39;s up !&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>do</code>åæ¥äº†ä¸€ä¸²æŒ‡ä»¤ï¼Œå°±åƒå‘½ä»¤å¼ç¨‹åºä¸€æ ·ï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯ä¸€ä¸ªIOåŠ¨ä½œï¼Œå°†æ‰€æœ‰IOåŠ¨ä½œç»‘åˆ°ä¸€èµ·å˜æˆäº†ä¸€ä¸ªå¤§çš„IOåŠ¨ä½œï¼Œç±»å‹åŒæ ·æ˜¯<code>IO something</code>ç”±æœ€åä¸€ä¸ªIOåŠ¨ä½œå†³å®šã€‚</li><li><code>main</code>çš„ç±»å‹æ°¸è¿œæ˜¯<code>main :: IO somehting</code>ï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬é€šå¸¸ä¸ä¼šå°†<code>main</code>çš„ç±»å‹åœ¨ç¨‹åºä¸­å†™å‡ºæ¥ã€‚</li><li>åœ¨<code>do</code>å—ä¸­ä½¿ç”¨<code>let</code>è¡¨è¾¾å¼å¯ä»¥æ²¡æœ‰<code>in</code>éƒ¨åˆ†ï¼Œå«ä¹‰å°±æ˜¯å˜é‡æˆ–è€…å‡½æ•°çš„ç»‘å®šã€‚</li></ul><p>ä½¿ç”¨IOåŠ¨ä½œï¼š</p><ul><li>è¾“å…¥ï¼š<code>getLine :: IO String</code>ã€‚</li><li>IOå°±åƒä¸€ä¸ªç›’å­ï¼Œæ‰“å¼€ç›’å­æ‹¿åˆ°å…¶ä¸­çš„å­—ç¬¦ä¸²çš„æ–¹æ³•å°±æ˜¯<code>&lt;-</code>ã€‚</li><li><code>getLine</code>æ˜¯ä¸çº¯ç²¹çš„æœ‰å‰¯ä½œç”¨çš„ï¼Œæ‰§è¡Œä¸¤æ¬¡ä¸èƒ½ä¿è¯æ‹¿åˆ°åŒæ ·çš„ç»“æœã€‚</li><li>ä¸€æ®µç¨‹åºå¦‚æœä¾èµ–ç€IOæ•°æ®ï¼Œé‚£ä¹ˆè¿™æ®µç¨‹åºä¹Ÿä¼šè¢«è§†ä¸ºIOä»£ç ã€‚è¿™å¹¶ä¸ä»£è¡¨ä¸èƒ½åœ¨çº¯ç²¹çš„ä»£ç ä¸­ä½¿ç”¨IOåŠ¨ä½œè¿”å›çš„æ•°æ®ï¼Œåªéœ€è¦å°†å…¶ç»‘å®šåˆ°ä¸€ä¸ªåå­—ä¾¿å¯ä»¥çŸ­æš‚ä½¿ç”¨å®ƒã€‚</li><li>åŒç†å¦‚æœè¦å¤„ç†ä¸€äº›éçº¯ç²¹çš„æ•°æ®ï¼Œåº”è¯¥åˆ°éçº¯ç²¹çš„ç¯å¢ƒä¸­åšï¼Œæœ€å¥½æŠŠIOçš„éƒ¨åˆ†ç¼©å‡åˆ°æœ€å°çš„æ¯”ä¾‹ã€‚</li><li>åƒ<code>putStrLn :: String -&gt; IO ()</code>ä¹Ÿå¯ä»¥å–å‡ºå…¶ä¸­çš„å€¼ï¼Œ<code>foo &lt;- putStrLn &quot;hello&quot;</code>åªä¸è¿‡å–å‡ºæ¥çš„ä¹Ÿæ˜¯<code>()</code>ï¼Œæ²¡å¿…è¦ã€‚</li><li>æ€»ä¹‹ï¼Œè¦å–å‡ºä¸€ä¸ªIOåŠ¨ä½œçš„å€¼ï¼Œå°±éœ€è¦åœ¨å¦ä¸€ä¸ªIOåŠ¨ä½œä¸­å°†ä»–ç”¨<code>&lt;-</code>ç»‘å®šç»™ä¸€ä¸ªåå­—ã€‚æ¢å¥è¯è¯´ï¼ŒIOåŠ¨ä½œä¸­æ‰èƒ½æ‰§è¡Œ<code>&lt;-</code>ï¼Œè¿˜ä¸èƒ½æ˜¯ä½œä¸ºæœ€åä¸€ä¸ªè¡¨è¾¾å¼ã€‚</li><li>IOåŠ¨ä½œåªæœ‰ç»‘å®šç»™<code>main</code>æˆ–æ˜¯åœ¨å¦ä¸€ä¸ªç”¨<code>do</code>ä¸²èµ·æ¥çš„IOåŠ¨ä½œæ—¶æ‰ä¼šæ‰§è¡Œã€‚å¯ä»¥ç”¨<code>do</code>ä¸²æ¥IOåŠ¨ä½œä¹‹åå†ç”¨<code>do</code>æ¥ä¸²æ¥è¿™äº›ä¸²æ¥èµ·æ¥çš„IOåŠ¨ä½œã€‚æœ€å¤–å±‚çš„IOåŠ¨ä½œç»‘å®šåˆ°<code>main</code>æ—¶æ‰ä¼šè§¦å‘æ‰§è¡Œã€‚å°±ç±»ä¼¼äºç¨‹åºå…¥å£<code>main</code>å‡½æ•°ã€‚</li><li>GHCIä¸­ä¹Ÿå¯ä»¥æ‰§è¡ŒIOåŠ¨ä½œã€‚</li></ul><p><code>return</code>ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    line &lt;- getLine</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> null line</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> return </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            putStrLn $ reverseWords line</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reverseWords</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">reverseWords = unwords . map reverse . words</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™ä¸ªç¨‹åºæŒ‰è¡Œæ¥å—è¾“å…¥ï¼Œå°†è¾“å…¥ä¸­çš„æ¯ä¸ªå•è¯åè½¬ä¹‹ååˆå¹¶ä¸ºæ–°è¡Œè¾“å‡ºï¼Œç›´åˆ°ç©ºè¡Œåˆ™åœæ­¢ã€‚</li><li><code>do</code>å—å¯ä»¥ä½¿ç”¨<code>return :: Monad m =&gt; a -&gt; m a</code>ï¼Œ<code>IO</code>åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª<code>Monad</code>ã€‚<code>return</code>è¿™é‡Œä¸å‘½ä»¤å¼è¯­è¨€ä¸­çš„å•çº¯å‡½æ•°è¿”å›çš„é€»è¾‘å®Œå…¨ä¸åŒï¼ŒHaskellä¸­<code>return</code>çš„å«ä¹‰æ˜¯åˆ©ç”¨ä¸€ä¸ªçº¯ç²¹çš„å€¼åˆ¶é€ å‡ºä¸€ä¸ªIOå¯¹è±¡ï¼Œå› ä¸º<code>main</code>çš„è¿”å›å€¼ç±»å‹æ˜¯<code>IO ()</code>ã€‚</li><li>ä¸€èˆ¬çš„å‘½ä»¤å¼è¯­è¨€ä¸­ï¼Œ<code>return</code>éƒ½ä»£è¡¨ä¸­æ–­å‡½æ•°æ‰§è¡Œï¼Œä»æ­¤å¤„è¿”å›ã€‚è€ŒHaskellä¸­<code>return</code>å¹¶ä¸ä¼šå¯¼è‡´å‡½æ•°è¿”å›ï¼Œ<code>return</code>åŒæ ·åªæ˜¯åšä¸€ä¸ªå‡½æ•°è°ƒç”¨é€šè¿‡ä¸€ä¸ªå€¼å¾—åˆ°ä¸€ä¸ªIOå¯¹è±¡è€Œå·²ã€‚æ•´ä¸ª<code>do</code>å°±æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒçš„å€¼æ˜¯å…¶ä¸­æœ€åä¸€ä¸ª<code>IO</code>åŠ¨ä½œçš„å€¼ï¼Œä¸å­˜åœ¨è¯´åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­è¿”å›è¿™æ ·çš„æ“ä½œã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;HAHAHA&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    line &lt;- getLine</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;BLAH BLAH BLAH&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStrLn line</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åƒè¿™æ ·çš„é€»è¾‘ï¼Œ<code>return</code>å°†å€¼è£…åˆ°IOå¯¹è±¡ä¸­ï¼Œå…¶å®å°±ç›¸å½“äºä»€ä¹ˆéƒ½æ²¡åšï¼Œæœ€åè¿”å›è¿˜æ˜¯<code>putStrLn line</code>çš„ç»“æœã€‚ç”šè‡³å¯ä»¥ç”¨<code>a &lt;- return &quot;hell&quot;</code>è¿™æ ·æ¥åœ¨ä»IOå¯¹è±¡ä¸­å–å‡ºæ•°æ®ã€‚</li><li>éœ€è¦<code>return</code>çš„åŸå› ï¼šéœ€è¦ä¸€ä¸ªä»€ä¹ˆéƒ½ä¸åšçš„IOåŠ¨ä½œï¼Œæˆ–è€…ä¸å¸Œæœ›<code>do</code>å—è¿™ä¸ªIOåŠ¨ä½œçš„ç»“æœå€¼æ˜¯å…¶ä¸­æœ€åä¸€ä¸ªIOåŠ¨ä½œçš„å€¼æ—¶ï¼Œå°±ç”¨<code>return</code>è£…åœ¨IOä¸­åæ”¾åˆ°<code>do</code>å—çš„æœ€åé¢ã€‚</li><li>æ— è®ºå¦‚ä½•<code>return</code>è¦èµ·ä½œç”¨éƒ½åº”è¯¥æ”¾åœ¨æœ€åä¸€ä¸ªè¡¨è¾¾å€¼ä¸­æˆ–è€…ç›´æ¥ä½œä¸ºæœ€åä¸€ä¸ªè¡¨è¾¾å¼ã€‚</li></ul><h3 id="è¾“å…¥ä¸è¾“å‡ºå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#è¾“å…¥ä¸è¾“å‡ºå‡½æ•°"><span>è¾“å…¥ä¸è¾“å‡ºå‡½æ•°</span></a></h3><p>å¸¸ç”¨è¾“å‡ºå‡½æ•°ï¼š</p><ul><li><code>putStr :: String -&gt; IO ()</code> ä¸æ¢è¡Œè¾“å‡ºã€‚</li><li><code>putStrLn :: String -&gt; IO ()</code> æ¢è¡Œè¾“å‡ºã€‚</li><li><code>putChar :: Char -&gt; IO ()</code> è¾“å‡ºå­—ç¬¦ã€‚</li><li><code>print :: Show a =&gt; a -&gt; IO ()</code> è¾“å‡º<code>Show</code>å®ä¾‹ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯<code>putStrLn . show</code>ã€‚</li></ul><p>è¾“å…¥å‡½æ•°ï¼š</p><ul><li><code>getChar :: IO Char</code> è¯»å–å­—ç¬¦ã€‚</li><li><code>getLine :: IO String</code> è¯»å–è¡Œã€‚</li><li><code>getContents :: IO String</code> è¯»å–å†…å®¹ç›´åˆ°EOFï¼ˆEnd of fileï¼‰ã€‚</li></ul><p>å›ºå®šç»“æ„å’Œæ¨¡å¼ï¼š</p><ul><li><code>when :: Applicative f =&gt; Bool -&gt; f () -&gt; f ()</code>åœ¨æ¨¡å—<code>Control.Monad</code>ä¸­ï¼Œå…¶ä½œç”¨å°±æ˜¯å°†<code>if condition then (do some I/O action) else return ()</code>è¿™æ ·çš„æ¨¡å¼å°è£…ä¸º<code>when condition (do some I/O action)</code>ï¼Œå¦‚æœä½ å†™å‡ºäº†å‰é¢çš„ç»“æ„ï¼Œhlintä¼šæç¤ºå¯ä»¥æ”¹å†™ä¸ºåè€…ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Control.Monad</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    c &lt;- getChar</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    when (c /= </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39; &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        putChar c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        main</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>sequence :: (Traversable t, Monad m) =&gt; t (m a) -&gt; m (t a)</code>å¯ä»¥æ¥å—ä¸€ä¸²IOåŠ¨ä½œï¼Œå›ä¼ ä¸€ä¸ªä¼šä¾æ¬¡æ‰§è¡Œä»–ä»¬çš„IOåŠ¨ä½œï¼Œè¿ç®—çš„ç»“æœæ˜¯åŒ…åœ¨ä¸€ä¸ªIOåŠ¨ä½œä¸­çš„ä¸€è¿ä¸²IOåŠ¨ä½œç»“æœï¼Œç”¨åœ¨<code>IO</code>ä¸­æ¯”è¾ƒå…¸å‹æ˜¯ä½¿ç”¨æ˜¯<code>t</code>æ˜¯åˆ—è¡¨ï¼Œ<code>m</code>æ˜¯<code>IO</code>ã€‚å¸¸è§ç”¨æ³•ç±»ä¼¼äº<code>sequence (map print [1, 2, 3])</code>è¿™æ ·ã€‚ä¾‹ï¼šæ¥å—ä¸‰è¡Œè¾“å…¥å¹¶è¾“å‡ºï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">testSequence</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">testSequence = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    rs &lt;- sequence [getLine, getLine, getLine]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    print rs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äºä¸€ä¸ªåˆ—è¡¨<code>map</code>ä¼ ä¸€ä¸ªè¿”å›IOåŠ¨ä½œçš„å‡½æ•°ï¼Œç„¶åå†<code>sequence</code>è¿™ä¸ªåŠ¨ä½œå¤ªå¸¸ç”¨äº†ï¼Œä»¥è‡³äºå‡½æ•°åº“ä¸­æœ‰<code>mapM mapM_</code>æ¥ç®€åŒ–äº†è¿™ä¸ªæ“ä½œï¼Œå‰è€…ä¿ç•™ç»“æœï¼Œåè€…ä¸¢å¼ƒç»“æœã€‚å½“æˆ‘ä»¬å¯¹ç»“æœä¸å…³å¿ƒæ—¶ï¼Œåè€…ä¼šç”¨å¾—å¤šä¸€äº›ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mapM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Traversable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mapM_</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">testMapM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">testMapM = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mapM print [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">testMapM_</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">testMapM_ = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mapM_ print [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Control.Monad</code>ä¸­çš„<code>forM :: (Traversable t, Monad m) =&gt; t a -&gt; (a -&gt; m b) -&gt; m (t b)</code>å‡½æ•°å’Œ<code>mapM</code>ä½œç”¨ä¸€è‡´ï¼Œåªæ˜¯å‚æ•°é¡ºåºä¸ä¸€æ ·ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Traversable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forM_</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">testForM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">testForM = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    colors &lt;- forM [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] (\a -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        putStrLn $ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Which color do you associate with the number &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ show a ++ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;?&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        getLine)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStrLn </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;The colors that you associate with 1, 2, 3 and 4 are: &quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mapM putStrLn colors</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Control.Monad.forever :: Applicative f =&gt; f a -&gt; f b</code>æ¥å—ä¸€ä¸ªIOåŠ¨ä½œå¹¶è¿”å›æ°¸è¿œåšè¿™ä»¶äº‹ï¼ˆç›´åˆ°EOFï¼‰çš„IOåŠ¨ä½œï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">testForever</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">testForever = forever $ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    l &lt;- getLine</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStrLn $ map </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Data.Char.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">toUpper l</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€»ç»“ï¼š</p><ul><li>è¾“å…¥è¾“å‡ºå‡½æ•°ä»æ˜¯å‡½æ•°ï¼Œè¦å°†å…¶çœ‹åšè¿›è¡Œè¾“å…¥è¾“å‡ºæ“ä½œå¹¶è¿”å›IO actionçš„å‡½æ•°ï¼Œè€Œä¸æ˜¯è¾“å‡ºå†…å®¹åˆ°å±å¹•ã€‚</li><li><code>do</code>ä»…ä»…æ˜¯è¯­æ³•ç³–ï¼Œå°è£…å¤šä¸ªIOåŠ¨ä½œä¸ºä¸€ä¸ªã€‚</li><li><code>return</code>ä»…åšåŒ…è£…ï¼Œä¸å‘½ä»¤å¼ç¨‹åºä¸­çš„å‡½æ•°è¿”å›åŒºåˆ†å¼€æ¥ã€‚</li></ul><h3 id="æ–‡ä»¶ä¸å­—ç¬¦æµ" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ä¸å­—ç¬¦æµ"><span>æ–‡ä»¶ä¸å­—ç¬¦æµ</span></a></h3><p><strong>æƒ°æ€§I/O</strong>ï¼š</p><ul><li>è¾“å…¥å‡½æ•°<code>getContents</code>åŒæ ·æ˜¯æ‡’æƒ°I/Oï¼ˆLazy I/Oï¼‰çš„ï¼Œç›´åˆ°éœ€è¦ç”¨åˆ°å†…å®¹æ—¶æ‰å»è¯»å–ï¼Œè€Œä¸æ˜¯åƒå‘½ä»¤å¼ä¸€æ ·ç«‹é©¬è¯»å–è¾“å…¥ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Control.Monad</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Data.Char</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">testContents</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">testContents = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    contents &lt;- getContents</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStr $ map toUpper contents</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = testContents</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ–‡ä»¶å’Œç®¡é“å»æ“ä½œå®ƒï¼Œæ–°å»º<code>test.txt</code>ï¼š</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Nephren Ruq Insania</span></span>
<span class="line"><span>Catholly Nota Seniorious</span></span>
<span class="line"><span>Lilia Asplay</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç¼–è¯‘æ‰§è¡Œï¼š<code>cat test.txt | ./IOFunction</code></li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./IOFunctions</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">NEPHREN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> RUQ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> INSANIA</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CATHOLLY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NOTA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SENIORIOUS</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">LILIA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ASPLAY</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è€Œå¦‚æœä»æ ‡å‡†è¾“å…¥æŒ‰è¡Œè¾“å…¥ï¼Œé‚£ä¹ˆä¼šå‘ç°å†…å®¹ä¼šæŒ‰è¡Œï¼ˆè¡Œç¼“å†²ï¼‰é€æ¸è¾“å…¥åˆ°<code>contents</code>ï¼Œç›´åˆ°è¾“å…¥EOFç»“æŸï¼Œè¿™å°±æ˜¯æ‡’æƒ°I/Oï¼Œè€Œä¸æ˜¯è¡¨ç¤º<code>contents</code>æ˜¯ä¸€ä¸ªåœ¨å†…å­˜ä¸­å­˜å‚¨äº†å…·ä½“å­—ç¬¦ä¸²çš„ä¸­é—´å˜é‡ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./IOFunctions</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">asdf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ASDF</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">asdf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ASDF</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Catholly</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Nota</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Seniorious</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CATHOLLY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NOTA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SENIORIOUS</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç”±äºæ‡’æƒ°IOçš„å­˜åœ¨ï¼Œæ²¡æœ‰è¾“å…¥åœ¨çœŸæ­£è¢«ç”¨åˆ°ä¹‹å‰è¢«è¯»å…¥ã€‚</li></ul><p><strong><code>interact</code></strong>ï¼š</p><ul><li>ä»è¾“å…¥å–å­—ç¬¦ä¸²ï¼Œæ‰§è¡Œä¸€äº›è½¬æ¢åè¾“å‡ºè¿™ç§æ¨¡å¼å¤ªå¸¸è§äº†ï¼Œäºæ˜¯æœ‰ä¸€ä¸ªå‡½æ•°ä¸“é—¨åšè¿™ä¸ªäº‹æƒ…ï¼š<code>interact :: (String -&gt; String) -&gt; IO ()</code>ï¼Œä¼ å…¥ä¸€ä¸ªè½¬æ¢å‡½æ•°ï¼Œå¯¹æ‰€æœ‰è¾“å…¥æ„æˆçš„å­—ç¬¦ä¸²æ‰§è¡Œè½¬æ¢ï¼Œç›´åˆ°EOFã€‚</li><li>æ¯”å¦‚ä¸Šé¢çš„å‡½æ•°ï¼Œå†åŠ ä¸Šä¸€ä¸ªåªè¾“å‡ºé•¿åº¦å°äº10çš„è¡Œï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = interact $ map toUpper . unlines . filter ((&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) . length) . lines</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯ç”¨ç®¡é“è¯»å–æ•´ä¸ªæ–‡ä»¶åšä¸€äº›å¤„ç†è¾“å‡ºï¼Œæˆ–è€…æŒ‰è¡Œå¤„ç†è¾“å…¥ç›´æ¥è¾“å‡ºçš„åœºæ™¯ã€‚</li><li>åœ¨Windowsä¸Šæµ‹è¯•æ—¶å‘ç°è¿™æ ·å¯¹æ ‡å‡†è¾“å…¥å·¥ä½œä½†å¯¹ç®¡é“ä¸å·¥ä½œï¼ˆè€Œ<code>getContents</code>æ˜¯å·¥ä½œçš„ï¼‰ï¼ŒæŒ‰é“ç†ç®¡é“ä¸åº”è¯¥å’Œæ ‡å‡†è¾“å…¥æœ‰åŒºåˆ«ï¼Œå°šä¸çŸ¥é“å…·ä½“åŸå› ï¼</li></ul><p>æ–‡ä»¶æ“ä½œï¼š</p><ul><li>è¯»å†™æ–‡ä»¶ä¸æ ‡å‡†è¾“å…¥è¾“å‡ºå¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œæ ‡å‡†è¾“å…¥è¾“å‡ºå°±æ˜¯è¯»å–åä¸º<code>stdin stdout</code>çš„ç‰¹æ®Šæ–‡ä»¶IOã€‚</li><li>æ‰“å¼€æ–‡ä»¶ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.IO</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    handle &lt;- openFile </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;test.txt&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> ReadMode</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    contents &lt;- hGetContents handle</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStr contents</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    hClose handle</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç›¸å…³å‡½æ•°å’Œç±»å‹ï¼Œæ‰“å¼€åä½¿ç”¨å¥æŸ„æ“ä½œï¼Œè¯»å–ç»“æŸåå…³é—­ï¼Œè¯»å†™æ¨¡å¼æœ‰è¯»ã€å†™ã€è¿½åŠ å†™ã€è¯»å†™ã€‚å’Œå…¶ä»–è¯­è¨€å¤§åŒå°å¼‚ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Handle</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hGetContents</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hClose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IOMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ReadMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">WriteMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">AppendMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ReadWriteMode</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯å°†<code>stdin stdout</code>ä½œä¸ºå¥æŸ„æ–‡ä»¶æ–‡ä»¶IOçš„å‡½æ•°ä¸Šï¼Œ<code>hGetContents stdin</code>ä¸<code>getContents</code>å«ä¹‰ç›¸åŒã€‚</li><li>æ–‡ä»¶æ‰“å¼€åéœ€è¦å…³é—­ï¼Œå¯ä»¥ä½¿ç”¨<code>withFile</code>å‡½æ•°æ¥ç®¡ç†æ–‡ä»¶çš„å…³é—­ï¼Œç¦»å¼€åè‡ªåŠ¨å…³é—­ï¼Œè€Œä¸ç”¨æ˜¾å¼è°ƒç”¨<code>hClose</code>ã€‚æ¥å—æ–‡ä»¶ã€è¯»å†™æ¨¡å¼å’Œä¸€ä¸ªå¥æŸ„åˆ°è¦æ‰§è¡Œçš„IOæ“ä½œçš„å‡½æ•°ï¼ˆé€šå¸¸éƒ½ä¼šä¼ å…¥ä¸€ä¸ªlambdaï¼‰ï¼Œ<code>withFile</code>æ‰“å¼€æ–‡ä»¶åå°†å¥æŸ„ä¼ ç»™å‡½æ•°æ‰§è¡Œå…¶ä¸­çš„æ“ä½œï¼Œå¹¶åœ¨æ‰§è¡Œç»“æŸåå…³é—­ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">withFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> r</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">testWithFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">testWithFile = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    withFile </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;test.txt&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> ReadMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (\handle -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        contents &lt;- hGetContents handle</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        putStr contents)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®ç°ä¸€ä¸ª<code>withFile</code>ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">withFile&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">withFile&#39; path mode f = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    handle &lt;- openFile path mode</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    result &lt;- f handle</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    hClose handle</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return result</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¸¸è§è¾“å…¥è¾“å‡ºå‡½æ•°çš„æ–‡ä»¶ç‰ˆæœ¬ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hGetLine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hGetChar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Char</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hPutChar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hPutStr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hPutStrLn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hPrint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é™¤äº†è¿™äº›å¸¸è§IOæ“ä½œï¼Œè¯»å–æ–‡ä»¶å¹¶å¤„ç†å­—ç¬¦ä¸²å†…å®¹çš„æ“ä½œå®åœ¨å¤ªå¸¸è§äº†ï¼Œäºæ˜¯æœ‰ä¸‰ä¸ªå‡½æ•°ç”¨æ¥ç®€åŒ–å·¥ä½œï¼Œç”¨äºè¯»æ–‡ä»¶å†…å®¹ã€å†™å†…å®¹åˆ°æ–‡ä»¶ã€æ·»åŠ å†…å®¹åˆ°æ–‡ä»¶ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">readFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">writeFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">appendFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>getContents hGetContents</code>éƒ½æ˜¯æ‡’æƒ°IOï¼Œä¸ä¼šä¸€æ¬¡å°†æ–‡ä»¶è¯»åˆ°å†…å­˜ä¸­ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæœ‰ç¼“å†²çš„æµã€‚æ–‡æœ¬æ–‡ä»¶é»˜è®¤æ˜¯è¡Œç¼“å†²ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡è¯»è¿›æ¥çš„å†…å®¹æ˜¯ä¸€è¡Œï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶é»˜è®¤æ˜¯å—ç¼“å†²ï¼ˆBlock-Bufferingï¼‰ï¼Œä¸€ä¸ªå—ä¸€ä¸ªå—ï¼ˆChunkï¼‰çš„è¯»å–ã€‚å¯ä»¥ç”¨<code>hSetBuffering</code>æ§åˆ¶ç¼“å†²çš„è¡Œä¸ºã€‚<code>hSetBuffering hFlush</code>ä¼šè¿”å›ä¸€ä¸ªä¼šè®¾ç½®ç¼“å†²å’Œåˆ·æ–°ç¼“å†²çš„IOåŠ¨ä½œã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hSetBuffering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">BufferMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hGetBuffering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> BufferMode</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hFlush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> BufferMode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">NoBuffering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LineBuffering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">BlockBuffering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…¶ä»–å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">System.Directory.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">renameFile :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">System.Directory.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">removeFile :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">System.Directory.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">getCurrentDirectory :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> FilePath</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">System.IO.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">openTempFile :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">FilePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Handle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- open a temporary file</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨<code>openTempFile</code>æ‰“å¼€ä¸´æ—¶æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä¼ å…¥æ–‡ä»¶å<code>&quot;temp&quot;</code>è¿™æ ·ä¼šç”Ÿæˆä¸€ä¸ª<code>temp</code>åŠ ä¸Šéšæœºå­—ç¬¦ä¸²çš„æ–‡ä»¶åï¼Œå¯ä»¥é˜²æ­¢è¦†å†™å·²æœ‰çš„æ–‡ä»¶ã€‚</li></ul><h3 id="å‘½ä»¤è¡Œå‚æ•°" tabindex="-1"><a class="header-anchor" href="#å‘½ä»¤è¡Œå‚æ•°"><span>å‘½ä»¤è¡Œå‚æ•°</span></a></h3><p>ç¼–å†™è¿è¡Œåœ¨ç»ˆç«¯ä¸­çš„å‡½æ•°æ—¶ï¼Œå‘½ä»¤è¡Œå‚æ•°æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œåˆ©ç”¨Haskellçš„æ ‡å‡†åº“å¯ä»¥æœ‰æ•ˆåœ°å¤„ç†å‘½ä»¤è¡Œå‚æ•°ã€‚</p><p><code>System.Environment</code>ä¸­æä¾›äº†è·å–ç¨‹åºåç§°å’Œå‘½ä»¤è¡Œå‚æ•°çš„å‡½æ•°ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getArgs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getProgName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ¯”å¦‚ç¼–è¯‘å¾—åˆ°çš„ç›®æ ‡æ–‡ä»¶æ˜¯<code>test</code>ï¼Œé‚£ä¹ˆæ‰§è¡Œ<code>test hello world</code>é‚£ä¹ˆ<code>getArgs</code>å¾—åˆ°<code>IO [&quot;hello&quot;, &quot;world&quot;]</code>è€Œ<code>getProgName</code>å¾—åˆ°<code>IO &quot;test&quot;</code>ã€‚</li><li>ä¸€ä¸ªä¾‹å­ï¼Œå¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œé€šè¿‡å‘½ä»¤è¡Œå‚æ•°è¾“å…¥ï¼Œå¯ä»¥æŸ¥çœ‹å¢åŠ å’Œåˆ é™¤å¾…åŠäº‹é¡¹ï¼Œé”™è¯¯å¤„ç†å¾…å®Œå–„ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{-# </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">OPTIONS_GHC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -Wno-incomplete-patterns #-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.Environment</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.Directory</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.IO</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Data.List</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- command arguments</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t getArgs</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t getProgName</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">getArgs :: IO [String]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">getProgName :: IO String</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- a to do list processing example</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dispatch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [([</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">dispatch = [(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;add&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, add)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           , (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;view&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, view)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           , (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;remove&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, remove)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">           ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- look up command and execute</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (command:args) &lt;- getArgs</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> action) = lookup command dispatch</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    action args</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- prog add file item, add item to end of to-do list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">add [fileName, todoItem] = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    appendFile fileName (todoItem ++ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    view [fileName]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- prog view file, view to-do list file</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">view [fileName] = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    contents &lt;- readFile fileName</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> todoTasks = lines contents</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        numberedTasks = zipWith (\n line -&gt; show n ++ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; - &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ line) [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..] todoTasks</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStr $ unlines numberedTasks</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- prog remove file number, to remove line of to do list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">remove [fileName, numberOfString] = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    handle &lt;- openFile fileName </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ReadMode</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (tempName, tempHandle) &lt;- openTempFile </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;.&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;temp&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    contents &lt;- hGetContents handle</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> number = read numberOfString</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        todoTasks = lines contents</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        newTodoItems = delete (todoTasks !! number) todoTasks</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    hPutStr tempHandle $ unlines newTodoItems</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    hClose handle</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    hClose tempHandle</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    removeFile fileName</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    renameFile tempName fileName</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    view [fileName]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="éšæœºæ•°" tabindex="-1"><a class="header-anchor" href="#éšæœºæ•°"><span>éšæœºæ•°</span></a></h3><p>é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯è¦äº§ç”Ÿï¼ˆä¼ªï¼‰éšæœºæ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨å°±åº”è¯¥æ‹¿åˆ°ä¸ä¸€æ ·çš„æ•°å­—ï¼Œä½†æ˜¯Haskellæ˜¯çº¯å‡½æ•°å¼è¯­è¨€ï¼Œçº¯ç²¹çš„å¼•ç”¨é€æ˜ï¼ˆreferential transparencyï¼‰çš„å‡½æ•°æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„ï¼Œç‰¹å®šè¾“å…¥å°±ä¼šå¾—åˆ°ç‰¹å®šè¾“å‡ºã€‚æ‰€ä»¥éšæœºæ•°å‘ç”Ÿçš„éƒ¨åˆ†ä¸€å®šæ˜¯æœ‰å‰¯ä½œç”¨çš„ã€‚</p><p>å…¶ä»–ç¼–ç¨‹è¯­è¨€æ˜¯æ€ä¹ˆäº§ç”Ÿéšæœºæ•°çš„å‘¢ï¼Ÿå¯èƒ½ä¼šæ‹¿åˆ°ç”µè„‘çš„ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚æ—¶é—´ã€é¼ æ ‡ä¿¡æ¯ã€ç”šè‡³CPUä¸­çš„å¾®å°æ‰°åŠ¨ç­‰ï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯ç®—å‡ºä¸€ä¸ªçœ‹èµ·æ¥éšæœºçš„å€¼ï¼Œæˆ–è€…æ›´ç®€å•çš„ç±»ä¼¼äºçº¿æ€§åŒä½™è¿™ç§å…·æœ‰ç‰¹å®šå‘¨æœŸçš„ä¼ªéšæœºæ•°ã€‚åœ¨Haskellä¸­ï¼Œæˆ‘ä»¬éœ€è¦çš„éšæœºå‡½æ•°åº”è¯¥æ˜¯æ¥å—å…·æœ‰éšæœºæ€§çš„å€¼ï¼Œæ ¹æ®ä¿¡æ¯ç»è¿‡è®¡ç®—åå¾—åˆ°ä¸€ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°æœ¬èº«æ²¡æœ‰å‰¯ä½œç”¨ï¼Œåªæ˜¯ä¼ å…¥å‚æ•°å‘ç”Ÿäº†å˜åŒ–ã€‚</p><p><code>System.Random</code>æ¨¡å—ï¼ˆä¸åœ¨åŸºç¡€åº“<code>base</code>ä¸­ï¼Œéœ€è¦å®‰è£…<code>random</code>åŒ…ï¼‰ä¸­æä¾›äº†è¿™æ ·çš„å‡½æ•°ï¼š<code>System.Random.random :: (Random a, RandomGen g) =&gt; g -&gt; (a, g)</code>ã€‚</p><ul><li>å…¶ä¸­<code>Random</code>æ˜¯å¯ä»¥ç”¨æ¥è£…éšæœºæ•°çš„ç±»å‹ç±»ï¼Œ<code>RandomGen</code>æ˜¯éšæœºæ•°å‘ç”Ÿå™¨çš„ç±»å‹ç±»ã€‚</li><li><code>random</code>ä¼šæ¥å—ä¸€ä¸ªéšæœºæ•°å‘ç”Ÿæºï¼Œè¿”å›ç”Ÿæˆçš„éšæœºæ•°å’Œæ–°çš„éšæœºæ•°å‘ç”Ÿå™¨ï¼ˆrandom generatorï¼‰ã€‚</li></ul><p>åˆ¶ä½œéšæœºæ•°å‘ç”Ÿå™¨ï¼š</p><ul><li><code>mkStdGen :: Int -&gt; StdGen</code>å¯ä»¥ç”¨æ¥åˆ¶ä½œä¸€ä¸ªæ•´æ•°éšæœºæ•°å‘ç”Ÿå™¨ã€‚</li><li>æ³¨æ„<code>Random</code>æ˜¯ä¸€ä¸ªç±»å‹ç±»ï¼Œåœ¨<code>System.Random</code>ä¸­å®ç°äº†å¤šä¸ªç±»å‹å®ä¾‹ï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦é€šè¿‡ç±»å‹æŒ‡å®šå…·ä½“ç”¨å“ªä¸€ä¸ªã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; :i </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Constraint</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  randomR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> randomR :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">UniformRange</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                     (a, a) -&gt; g -&gt; (a, g)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> random :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Uniform</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  randomRs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  randoms</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        -- Defined in â€˜System.Randomâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Word</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜System.Randomâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Integer</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜System.Randomâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜System.Randomâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Float</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜System.Randomâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Double</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜System.Randomâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Char</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜System.Randomâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Random</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Bool</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜System.Randomâ€™</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœä¸€ç›´è°ƒç”¨<code>random $ mkStdGen 100</code>çš„è¯ä¼šå¾—åˆ°åŒæ ·çš„ç»“æœï¼Œå› ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ï¼Œè¦ç”Ÿæˆå¤šä¸ªéšæœºæ•°çš„è¯ï¼Œéœ€è¦ä½¿ç”¨è¿”å›çš„éšæœºæ•°å‘ç”Ÿå™¨ã€‚ä½†åˆå› ä¸ºæ²¡æœ‰å¾ªç¯ï¼Œæ‰€ä»¥è¦è¿™æ ·ç”Ÿæˆå¾ˆå¤šéšæœºæ•°å°±å¾ˆéº»çƒ¦äº†ã€‚</li><li>å¤šä¸ªéšæœºæ•°å¯ä»¥ä½¿ç”¨<code>randoms :: (Random a, RandomGen g) =&gt; g -&gt; [a]</code>ï¼Œè¿”å›ä¸€ä¸ªæ— é™åˆ—è¡¨ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; take </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ randoms (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.5003737531410817</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.3750119639966999</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.12733827138953357</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.882299251466059e-2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.21477954261574972</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.6105785015461408</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.65223575759297e-2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.9636215830016226</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.9939144570578136</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.9113023469143849</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; take </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ randoms (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; take </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ randoms (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9216477508314497915</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6917749724426303066</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2348976503111297336</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">716157807093485800</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3961983254901128710</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7183558718778820252</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">673718583171682711</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">671063348175752782</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">112258453204082922</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1636182906409015240</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; take </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ randoms (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\537310\28348\950093\909872\685754\243589\711431\321177\1019517\261448</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>randoms</code>çš„å®ç°å°±åƒæ˜¯è¿™æ ·çš„ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">randoms&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">randoms&#39; gen = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (value, newGen) = random gen </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> value:randoms&#39; newGen</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åšä¸€ä¸‹éªŒè¯å°±çŸ¥é“å…¶å®å°±æ˜¯è¿™æ ·å®ç°çš„ã€‚</li><li>å®ç°ä¸€ä¸ªè¿”å›æœ‰é™ä¸ªéšæœºæ•°å’Œä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨çš„å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">finiteRandoms</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; ([</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">finiteRandoms n gen</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | n &lt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, gen)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (value, newGen) = random gen</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        (restOfList, finalGen) = finiteRandoms (n-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) newGen</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (value:restOfList, finalGen)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é™¤äº†<code>random randoms</code>è¿˜å¯ä»¥ä½¿ç”¨<code>randomR randomRs</code>å¾—åˆ°èŒƒå›´å†…éšæœºæ•°ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; :t randomR</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">randomR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; :t randomRs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">randomRs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RandomGen</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; randomR (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">892</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 712633246999323047</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2532601429470541125</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; randomR (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5.503363778269735</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 712633246999323047</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2532601429470541125</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; randomR (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 712633246999323047</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2532601429470541125</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; take </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ randomRs (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50.537001560967084</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">38.12618443567329</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">13.606488867563824</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.843476258951399</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">22.26317471895922</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">61.447271653067936</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.61571340001704</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">96.39853671716064</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">99.39753124872354</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">91.2189323445241</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; take </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ randomRs (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;z&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;apyzsowwxjpdgslfiaqdhpawqyhuewqdnciakestkcsdttutjrnyjnqvfnmiiyneyggtfggvkoujcptcdeesvswyjxrcssudsgzw&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>mkStdGen</code>æ¯æ¬¡åªè¦ä¼ å…¥çš„æ•°ç›¸åŒï¼Œå¾—åˆ°çš„éšæœºæ•°åºåˆ—ä¸€å®šæ˜¯ç›¸åŒçš„ï¼Œä¼ å…¥çš„æ•°å°±åƒéšæœºæ•°ç§å­ã€‚å®é™…ç”Ÿäº§ç¯å¢ƒè¿™æ ·æ˜¯ä¸èƒ½æ¥å—çš„ï¼Œè¦ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªéšæœºçš„éšæœºæ•°ç§å­ï¼Œè¦ä¹ˆéœ€è¦æ›´åŠ éšæœºåŒ–çš„éšæœºæ•°å‘ç”Ÿå™¨ã€‚</p><p>æ‰€ä»¥<code>System.Random</code>æä¾›äº†<code>getStdGen :: Control.Monad.IO.Class.MonadIO m =&gt; m StdGen</code>ç”¨æ¥è·å–ä¸€ä¸ª<code>IO StdGen</code>ã€‚</p><ul><li>ç¨‹åºæ‰§è¡Œæ—¶ä¼šæœ‰ä¸€ä¸ªå…¨å±€çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œ<code>getStdGen</code>å°±æ˜¯æ‹¿åˆ°è¿™ä¸ªrandom generatorå¹¶ç»‘å®šåˆ°æŸä¸ªåå­—ä¸Šã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    gen &lt;- getStdGen</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    print (take </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ randomRs (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) gen :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸäº›ç¨‹åºåœ¨GHCIä¸‹ä¹Ÿè®¸ä¸éœ€è¦æ˜¾å¼æ‰§è¡Œä¹Ÿèƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œä½†åœ¨<code>.hs</code>ä¸­åˆ™éœ€è¦æŒ‡å®šç±»å‹ï¼Œæ¯”å¦‚<code>random (mkStdGen 100)</code>ï¼Œåœ¨GHCIä¸­ä¸æŒ‡å®šç±»å‹ä¼šå¾—åˆ°æ•´æ•°ï¼Œéœ€è¦æ³¨æ„ï¼Œåœ¨<code>.hs</code>ä¸­åˆ™éœ€è¦åƒè¿™æ ·å£°æ˜ç±»å‹<code>(let (value, _) = random (mkStdGen 100) in value :: Int)</code>ã€‚</li><li><code>::</code>ç±»å‹å£°æ˜çš„ä¼˜å…ˆçº§å’Œç»“åˆæ€§å€¼å¾—ç ”ç©¶ã€‚</li><li>ä¸¤æ¬¡é€šè¿‡<code>getStdGen</code>æ‹¿åˆ°çš„<code>StdGen</code>å…¶å®æ˜¯ä¸€æ ·çš„ã€‚è¦ç”Ÿæˆä¸ä¸€æ ·çš„åºåˆ—ï¼Œå¯ä»ä¸€ä¸ªé•¿çš„éšæœºåºåˆ—ä¸­æˆªå–ã€‚</li><li>éœ€è¦æ¯æ¬¡éƒ½å¾—åˆ°ä¸ä¸€æ ·çš„å¯ä»¥ä½¿ç”¨<code>newStdGen :: Control.Monad.IO.Class.MonadIO m =&gt; m StdGen</code>ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; getStdGen</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2577900980329305605</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 14820693616592480073</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; getStdGen</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2577900980329305605</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 14820693616592480073</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; getStdGen</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2577900980329305605</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 14820693616592480073</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; newStdGen</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10681034358804626100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 9442248464978456119</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; newStdGen</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16153741442900193658</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 9209421901824985913</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; getStdGen</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6520443225570571049</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 14820693616592480073</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Random</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; getStdGen</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">unStdGen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SMGen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6520443225570571049</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 14820693616592480073</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è°ƒç”¨<code>newStdGen</code>åï¼Œå…¨å±€çš„éšæœºæ•°å‘ç”Ÿå™¨ä¼šè¢«é‡æ–°æŒ‡å®šï¼Œ<code>getStdGen</code>ä¼šå’ŒåŸå…ˆä¸ä¸€æ ·ï¼Œä½†å†æ¬¡è°ƒç”¨åˆä¼šä¸€æ ·ã€‚</li></ul><h3 id="bytestring" tabindex="-1"><a class="header-anchor" href="#bytestring"><span>ByteString</span></a></h3><p>åœ¨Haskellä¸­å› ä¸ºåˆ—è¡¨éå¸¸é‡è¦ï¼Œå› ä¸ºæƒ°æ€§æ±‚å€¼ï¼Œæ‰€ä»¥å¯ä»¥ç”¨<code>map filter</code>ç­‰å‡½æ•°æ¥ä»£æ›¿å…¶ä»–è¯­è¨€ä¸­çš„å¾ªç¯ã€‚ç”±äºæ±‚å€¼åªå‘ç”Ÿåœ¨éœ€è¦çš„æ—¶å€™ï¼Œæ‰€ä»¥ç”šè‡³å¯ä»¥å®ç°æ— é™åˆ—è¡¨çš„æ— é™åˆ—è¡¨è¿™ç§ä¸œè¥¿ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºæƒ°æ€§æ±‚å€¼ï¼Œæ‰€ä»¥å¯ä»¥ç”¨åˆ—è¡¨æ¥è¡¨ç¤ºæµï¼ˆStreamï¼‰ï¼Œæ¯”å¦‚<code>getContents</code>ã€‚</p><p>ä½†å› ä¸º<code>[1,2,3,4]</code>åªæ˜¯<code>1:2:3:4:[]</code>çš„è¯­æ³•ç³–ï¼ˆsyntactic sugarï¼‰ï¼Œè€Œ<code>[Char]</code>ä¸­Charæ˜¯Unicodeå­—ç¬¦ï¼Œæ²¡æœ‰ä¸€ä¸ªå›ºå®šå¤§å°ï¼Œæ‰€ä»¥ç”¨<code>[Char]</code>å…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„åšæ³•ã€‚æ¯”å¦‚åœ¨è¯»å¤§æ–‡ä»¶æ—¶å¯èƒ½å°±ä¼šé€ æˆè´Ÿæ‹…ã€‚æ‰€ä»¥Haskellæä¾›äº†<code>ByteString</code>ã€‚</p><ul><li>æ¨¡å—ï¼š<code>Data.ByteString</code>ï¼Œç±»å‹<code>ByteString</code>ï¼Œè¿™ä¸ªç±»å‹æ˜¯ä¸¥æ ¼çš„ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æƒ°æ€§æ±‚å€¼ã€‚ä¸¥æ ¼çš„<code>ByteString</code>ä¸å¯ä»¥æ— é™é•¿ï¼Œå¦‚æœæ±‚ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œå°±å¿…é¡»æ±‚å‡ºæ•´ä¸ª<code>ByteString</code>ã€‚å®ƒæ²¡æœ‰Thunkï¼ˆä¹Ÿå³æ˜¯è¯´Haskellä¸­å¸¸è¯´çš„æœ¯è¯­<strong>ä¿è¯</strong>ï¼‰ï¼Œç¼ºç‚¹æ˜¯å¯èƒ½å¿«é€Ÿæ¶ˆè€—å†…å­˜ï¼Œå› ä¸ºè¿›è¡Œäº†ä¸€æ¬¡æ€§è¯»å–ã€‚</li><li>å¯¹åº”çš„æƒ°æ€§æ±‚å€¼çš„<code>ByteString</code>åœ¨<code>Data.ByteString.Lazy</code>ä¸­ã€‚æƒ°æ€§çš„<code>ByteString</code>å…·æœ‰æƒ°æ€§ï¼Œä½†ä¸ä¼šåƒ<code>List</code>é‚£ä¹ˆæç«¯ï¼Œå®ƒçš„æ•°æ®è¢«å­˜åœ¨ä¸€ä¸ªä¸ª64Kçš„chunkï¼ˆå—ï¼‰ä¸­ï¼Œæ¯æ¬¡æ±‚å€¼ä¼šæŒ‰ç…§chunkä½œä¸ºå•ä½æ¥æ±‚å€¼ï¼Œæ±‚åˆ°åŒ…å«éœ€è¦çš„å­—èŠ‚çš„chunkå³å¯ã€‚æœ‰ç‚¹åƒè£…äº†ä¸€å †å¤§å°ä¸º 64K çš„ä¸¥æ ¼<code>ByteString</code>çš„åˆ—è¡¨ã€‚</li><li>ä¸€ä¸ª<code>ByteString</code>çš„åŸºæœ¬ç»„æˆæ˜¯8æ¯”ç‰¹çš„å­—èŠ‚ã€‚</li><li>å¤§å¤šæ•°æƒ…å†µæˆ‘ä»¬ä½¿ç”¨æƒ°æ€§çš„<code>ByteString</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> qualified</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Data.ByteString.Lazy</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> B</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> qualified</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Data.ByteString</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> S</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¦æ„å»º<code>ByteString</code>éœ€è¦ä½¿ç”¨ï¼š<code>pack :: [Word8] -&gt; ByteString</code>ï¼Œå‚æ•°ä¸­çš„<code>Word8</code>ç±»å‹åœ¨<code>GHC.Word</code>ä¸­ï¼Œå¯ä»¥ç›´æ¥ç”¨<code>[1, 2, 100, 256, 300]</code>è¿™æ ·çš„åˆ—è¡¨æ¥åˆå§‹åŒ–ï¼ˆå› ä¸ºå­—é¢å€¼æ˜¯å¤šæ€çš„ï¼Œå¯ä»¥ç”¨äºæ•´å‹æµ®ç‚¹ç­‰å¤šç§æ•°æ®ç±»å‹ï¼‰ï¼Œè¶…è¿‡ä¸€ä¸ªå­—èŠ‚çš„å€¼ä¼šè¢«æˆªæ–­å¹¶æŠ¥è­¦å‘Šã€‚</li><li>å¯¹<code>ByteString</code>è°ƒç”¨<code>show</code>å¾—åˆ°çš„ç»“æœå’Œå­—ç¬¦ä¸²å·®ä¸å¤šã€‚</li><li><code>unpack :: ByteString -&gt; [Word8]</code>åšç›¸åçš„äº‹æƒ…ã€‚</li><li><code>fromChunks</code>å°†ä¸€ä¸ªåˆ—è¡¨çš„ä¸¥æ ¼çš„<code>ByteString</code>è½¬æ¢ä¸ºä¸€ä¸ªæ‡’æƒ°çš„ï¼Œ<code>toChunks</code>åšç›¸åçš„äº‹æƒ…ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromChunks :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">ByteString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">ByteString</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">toChunks :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">ByteString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">ByteString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; B.fromChunks [S.pack [40,41,42], S.pack [43,44,45], S.pack [46,47,48]]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;()*+,-./0&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; B.toChunks (B.pack [40..48])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[&quot;()*+,-./0&quot;]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>ByteString</code>å¯¹åº”äºåˆ—è¡¨çš„<code>:</code>è¿ç®—ç¬¦çš„æ˜¯<code>B.cons :: Word8 -&gt; ByteString -&gt; ByteString</code> <code>B.cons&#39; :: Word8 -&gt; ByteString -&gt; ByteString</code>å‰è€…æ˜¯æ‡’æƒ°çš„ï¼Œåè€…æ˜¯ä¸¥æ ¼çš„ã€‚ä½†ç”¨èµ·æ¥æ²¡æœ‰çœ‹åˆ°å·®åˆ«ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> S</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cons </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pack [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">81</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">90</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;PQRSTUVWXYZ&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> S</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cons&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pack [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">81</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">90</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;PQRSTUVWXYZ&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; foldr </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cons </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">empty [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">60</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; foldr </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cons&#39; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">B.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">empty [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">60</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;23456789:;&lt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;23456789:;&lt;&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>ByteString</code>ä¹Ÿæœ‰åˆ—è¡¨æ“ä½œç±»ä¼¼çš„å‡½æ•°ï¼š<code>head tail init last null length map reverse foldl concat take takeWhile</code>ç­‰ã€‚</li><li>ä¹Ÿæœ‰<code>System.IO</code>ä¸­ä¸€æ ·çš„å‡½æ•°ï¼Œåªæ˜¯<code>String</code>æ¢æˆäº†<code>ByteString</code>ã€‚æ¯”å¦‚ï¼š<code>B.readFile :: FilePath -&gt; IO ByteString</code>ã€‚</li></ul><p><code>ByteString</code>å¯ä»¥ä¸ºæ•°æ®è¯»å–æä¾›æ›´å¥½çš„æ€§èƒ½ï¼Œä¸€èˆ¬æ­£å¸¸ç”¨<code>String</code>ï¼Œåœ¨æ€§èƒ½ä¸å¥½æ˜¯æ›¿æ¢ä¸º<code>ByteString</code>ã€‚</p><h3 id="å¼‚å¸¸-exceptions" tabindex="-1"><a class="header-anchor" href="#å¼‚å¸¸-exceptions"><span>å¼‚å¸¸(Exceptions)</span></a></h3><p>Haskellä¸­å¸¸ç”¨<code>Maybe Either</code>è¿™ç§åŒ…è£…ç±»å‹æ¥å¤„ç†å¤±è´¥çš„æƒ…å†µã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼ŒHaskellæ˜¯æ”¯æŒå¼‚å¸¸çš„ï¼Œé™¤äº†IOè¿™ç§ä¾èµ–äºç¯å¢ƒçš„è¡Œä¸ºï¼Œç®—æœ¯è¿ç®—æ¯”å¦‚é™¤0ç­‰æ“ä½œä¹Ÿå¯èƒ½å¼•å‘å¼‚å¸¸ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> S</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> / </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Infinity</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> S</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `div` </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*** </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Exception</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: divide by zero</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> S</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; head </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">*** </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Exception</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Prelude.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">head: empty list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ— å‰¯ä½œç”¨çš„çº¯ç²¹ä»£ç ï¼ˆPure Codeï¼‰æˆ–è€…IOæ“ä½œéƒ½å¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ˜¯å¼‚å¸¸åªèƒ½åœ¨IOç¯å¢ƒä¸­æ‰èƒ½è¢«catchã€‚å› ä¸ºçº¯å‡½æ•°é»˜è®¤æ‡’æƒ°æ±‚å€¼ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä¼šæ±‚å€¼ï¼Œä¹Ÿå°±ä¸çŸ¥é“åº”è¯¥åœ¨ä»€ä¹ˆåœ°æ–¹åŠ æ•è·ä»£ç ã€‚è€Œdoå—ä¸­çš„IOæ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œå¯ä»¥æ•è·ã€‚</li><li>è¿™ç§è®¾è®¡å°±è¦æ±‚æˆ‘ä»¬å°½é‡ä¸è¦åœ¨çº¯å‡½æ•°ä¸­ä½¿ç”¨å¼‚å¸¸ï¼ˆå°½ç®¡æŸäº›å‡½æ•°è¿˜æ˜¯ä¼šæŠ›å‡ºï¼‰ï¼Œè€Œæ˜¯ä½¿ç”¨<code>Maybe Either</code>ï¼Œç„¶åä»…åœ¨IOæ“ä½œä¸­ä½¿ç”¨å¼‚å¸¸ã€‚</li></ul><p>æ•è·å¼‚å¸¸ï¼š</p><ul><li>ä½¿ç”¨<code>catch :: (MonadCatch m, Exception e) =&gt; m a -&gt; (e -&gt; m a) -&gt; m a</code></li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.Environment</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.IO</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> System.IO.Error</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Control.Monad.Catch.Pure</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MonadCatch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t catch</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">catch :: (MonadCatch m, Exception e) =&gt; m a -&gt; (e -&gt; m a) -&gt; m a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toTry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">toTry = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (fileName:_) &lt;- getArgs</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    contents &lt;- readFile fileName</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStrLn (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;This file has &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ (show . length . lines) contents ++ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; lines !&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">handler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">handler e</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | isDoesNotExistError e = putStrLn (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;File not exist : &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ show e)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | isEOFError e = putStrLn </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;EOF Error!&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    -- other errors</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = ioError e </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ioError is like raise/throw in other languages</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = toTry `catch` handler</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ¥å—ä¸€ä¸ªè¦æ•è·çš„IOåŠ¨ä½œï¼Œå’Œå¤„ç†å¼‚å¸¸çš„å‡½æ•°ã€‚</li><li>ä½¿ç”¨ä¸å­˜åœ¨çš„æ–‡ä»¶è°ƒç”¨æ—¶å°±ä¼šæŠ›å‡ºå¼‚å¸¸å¹¶è¢«æ•è·åˆ°ã€‚</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> runhaskell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Exception.hs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hello</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">File</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exist</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hello:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> openFile:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> does</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exist</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (No </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> directory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æœ‰å¤šä¸ªæ£€æµ‹IOErrorç±»å‹çš„å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isDoesNotExistError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isAlreadyExistsError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isFullError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isEOFError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isIllegalOperation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isPermissionError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isUserError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IOError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠ›å‡ºå¼‚å¸¸ï¼š</p><ul><li>ä¹Ÿå¯ä»¥æ•è·åˆ°å¼‚å¸¸åä¸å¤„ç†ç»§ç»­æŠ›å‡ºï¼š<code>ioError :: IOError -&gt; IO a</code>å‡½æ•°ã€‚æ¥å—ä¸€ä¸ª<code>IOError</code>å¹¶è¿”å›ä¸€ä¸ªä¼šæŠ›å‡ºè¯¥å¼‚å¸¸çš„<code>IO</code>æ“ä½œã€‚</li><li>å¯ä»¥ä½¿ç”¨<code>userError :: String -&gt; IOError</code>å¾—åˆ°ä¸€ä¸ªå¯¹<code>isUserError</code>ä¸º<code>True</code>çš„<code>IOError</code>ã€‚</li><li>ä¸Šé¢çš„é€»è¾‘åœ¨å¤„ç†<code>IOError</code>æ˜¯è¿˜å¯ä»¥ç”¨<code>ioeGetFileName :: IOError -&gt; Maybe FilePath</code>ä»<code>IOError</code>ä¸­æŠ½å‡ºè·¯å¾„ã€‚</li><li>ä¸æƒ³æ•è·æ‰€æœ‰å¼‚å¸¸çš„è¯ï¼Œå¯ä»¥åªæ•è·æŸä¸€ä¸ªIOåŠ¨ä½œçš„å¼‚å¸¸å¹¶å¤„ç†ï¼Œ<code>catch</code>å‡½æ•°æœ¬èº«ä¹Ÿæ˜¯è¿”å›<code>IO a</code>ã€‚</li></ul><p>è¿™é‡Œå¹¶æœªæåˆ°å¦‚ä½•åœ¨çº¯ä»£ç ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œæ­£å¦‚å‰é¢æ‰€è¯´çš„ï¼Œä¸è¦è¿™ä¹ˆåšã€‚å¼‚å¸¸ä¹Ÿå¤§å¤šæ˜¯åœ¨IOåŠ¨ä½œä¸­å¤„ç†ï¼Œå¼‚å¸¸æœ¬èº«ä¹Ÿéƒ½æ˜¯IOçš„å¼‚å¸¸ï¼Œå°±ç®—æ˜¯IOæ“ä½œï¼Œå¦‚æœèƒ½ç”¨<code>IO (Either a b)</code>ç›¸æ¯”ä½¿ç”¨å¼‚å¸¸å¯èƒ½ä¹Ÿä¼šæ›´èˆ’æœä¸€äº›ã€‚</p><p>æ€»ä½“æ¥è¯´ï¼ŒHaskellå…·å¤‡åŸºæœ¬çš„å¼‚å¸¸å¤„ç†ï¼Œä½†ç”¨èµ·æ¥å¹¶ä¸æ˜¯é‚£ä¹ˆèˆ’æœï¼Œä¹Ÿä¸å¤ªæ¨èä½¿ç”¨å¼‚å¸¸ï¼Œæ— å¯é¿å…çš„æ—¶å€™è¿˜æ˜¯è¦ç”¨çš„ã€‚</p><h2 id="é—®é¢˜è§£å†³å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜è§£å†³å®ä¾‹"><span>é—®é¢˜è§£å†³å®ä¾‹</span></a></h2><p>çœ‹ä¸¤ä¸ªç»å…¸çš„é—®é¢˜ç”¨Haskellè¦å¦‚ä½•è§£å†³ã€‚</p><h3 id="é€†æ³¢å…°è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#é€†æ³¢å…°è¡¨è¾¾å¼"><span>é€†æ³¢å…°è¡¨è¾¾å¼</span></a></h3><p>ç»å…¸çš„è®¡ç®—é€†æ³¢å…°è¡¨è¾¾å¼ï¼ˆRPNï¼ŒReverse Polish Notationï¼Œæˆ–è€…å«åç¼€è¡¨è¾¾å¼Postfix notationï¼‰çš„ä¾‹å­ã€‚</p><ul><li>è®¡ç®—æ–¹å¼ï¼Œæ¯”å¦‚<code>10 1 2 + *</code>ï¼Œä»å·¦å¾€å³ï¼Œé‡åˆ°æ•°å€¼å°±å‹æ ˆï¼Œé‡åˆ°ç¬¦å·ä»æ ˆä¸­å–ä¸¤ä¸ªæ•°è®¡ç®—åå‹æ ˆï¼Œç›´åˆ°æ— è¿ç®—ç¬¦æˆ–è€…å€¼ï¼Œåç¼€è¡¨è¾¾å¼åˆæ³•æ—¶æœ€ç»ˆæ ˆä¸­ä»…å‰©ä¸€ä¸ªæ•°ï¼Œå–å‡ºå³æœ€ç»ˆç»“æœã€‚åç¼€è¡¨è¾¾å¼è•´å«äº†è®¡ç®—é¡ºåºï¼Œä¸éœ€è¦æ‹¬å·æ¥è§„å®šã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">calculatePostfix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">calculatePostfix = head . foldl foldingFunction </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> . words</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   foldingFunction (x:y:ys) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;*&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (x * y):ys</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            foldingFunction (x:y:ys) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;+&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (x + y):ys</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            foldingFunction (x:y:ys) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (x - y):ys</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            -- other functions</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            foldingFunction xs numberString = read numberString:xs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è°ƒç”¨ï¼Œå¯ä»¥ç”¨äºæ•´æ•°æµ®ç‚¹ç­‰ç±»å‹ï¼Œè¿˜å¯ä»¥å®¹æ˜“åœ°æ‰©å±•è‡³å…¶ä»–è¿ç®—ç¬¦ï¼Œæ¯”å¦‚<code>/ ^ log sum</code>ç­‰ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; calculatePostfix </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1.1 2.4 + 3.1 *&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10.85</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; calculatePostfix </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1 2 + 3 *&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…¶ä¸­å‡½æ•°å£°æ˜ç”¨äº†å‡½æ•°ç»„åˆï¼Œä¸ç”¨ç»„åˆçš„è¯å¯èƒ½ä¼šæ›´æ¸…æ™°ä¸€äº›ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">calculatePostfix expression = head (foldl foldingFunction </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (words expression))</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åŸºæœ¬æ²¡æœ‰é”™è¯¯å¤„ç†ï¼Œæ•°å€¼å°‘äº†å¯èƒ½ç›´æ¥å®•æ‰ï¼Œå¦‚æœè¦å¤„ç†é”™è¯¯å¯ä»¥å£°æ˜æˆè¿™æ ·å¹¶æ·»åŠ é”™è¯¯å¤„ç†çš„é€»è¾‘ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">calculatePostfix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="è·¯å¾„è§„åˆ’é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#è·¯å¾„è§„åˆ’é—®é¢˜"><span>è·¯å¾„è§„åˆ’é—®é¢˜</span></a></h3><p>ç›´æ¥çœ‹ä»£ç ï¼Œé—®é¢˜æè¿°ã€å»ºæ¨¡è¿‡ç¨‹ã€æ±‚è§£æ€è·¯éƒ½åœ¨è¿™é‡Œäº†ï¼Œé—®é¢˜å¾ˆç®€å•ï¼Œå»ºæ¨¡çš„è¿‡ç¨‹æ¯”è¾ƒç²¾å½©ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- a route planing problem from LEARN YOU A HASKELL FOR GREAT GOOD</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">example:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    50      5       40      10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">A-------------------------------</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">C       |30     |20     |25     |0  destination</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">B-------------------------------</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    10      90      2       8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">best route: BCACBB</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">best length: 75</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">input: many groups of length of ABC</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">this example: 50  10  30  5  90  20  40  2  25  10  8  0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- a section of road, Section a b c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Section</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Section</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getB</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> RoadSystem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Section</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- example : [Section 50 10 30, Section 5 90 20, Section 40 2 25, Section 10 8 0]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- type of path</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Label</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">C</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = [(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Label</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- One step of road, input the optimal path to current node of A &amp; B and this section of road,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- get next optimal path to next node of A &amp; B.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">roadStep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Section</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">roadStep (pathA, pathB) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Section</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a b c) =</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> priceA = sum $ map snd pathA</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        priceB = sum $ map snd pathB</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        forwardPriceToA = priceA + a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        crossPriceToA = priceB + b + c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        forwardPriceToB = priceB + b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        crossPriceToB = priceA + a + c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        newPathToA = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> forwardPriceToA &lt;= crossPriceToA</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                        then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,a):pathA </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- path is a reverse list of actual path, from right to left</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                        else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">C</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,c):(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,b):pathB</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        newPathToB = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> forwardPriceToB &lt;= crossPriceToB</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                        then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,b):pathB</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                        else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">C</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,c):(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,a):pathA</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (newPathToA, newPathToB)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- expected return of example: [(B,10),(C,30),(A,5),(C,20),(B,2),(B,8)]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">optimalPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">RoadSystem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Path</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">optimalPath roadSystem =</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (bestPathA, bestPathB) = foldl roadStep (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) roadSystem </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- if stackoverflow, try strict version foldl&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    in</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sum (map snd bestPathA) &gt; sum (map snd bestPathB)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> reverse bestPathA</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> reverse bestPathB</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- test of example</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; optimalPath [Section 50 10 30, Section 5 90 20, Section 40 2 25, Section 10 8 0]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[(B,10),(C,30),(A,5),(C,20),(B,2),(B,8)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- group input data into sections</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">groupsOf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [[</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">groupsOf _ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">groupsOf n _</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        | n &lt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = undefined</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">groupsOf n xs = take n xs : groupsOf n (drop n xs)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- read input from stdin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    contents &lt;- getContents</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> threes = groupsOf </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (map read $ lines contents)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        roadSystem = map (\[a, b, c] -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Section</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a b c) threes</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        path = optimalPath roadSystem</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        pathString = concatMap (show . fst) path </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- concat $ map (show . fst) path</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        pathLength = sum $ map snd path</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStrLn $ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Best path is : &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ show pathString</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    putStrLn $ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Best length is : &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ show pathLength</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æµ‹è¯•æ–‡ä»¶<code>road.txt</code>ï¼š</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>50</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>30</span></span>
<span class="line"><span>5</span></span>
<span class="line"><span>90</span></span>
<span class="line"><span>20</span></span>
<span class="line"><span>40</span></span>
<span class="line"><span>2</span></span>
<span class="line"><span>25</span></span>
<span class="line"><span>10</span></span>
<span class="line"><span>8</span></span>
<span class="line"><span>0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿è¡Œï¼ˆwindowsä¸­å¯ä»¥ç”¨<code>type road.txt</code>ï¼‰ï¼š</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ cat road.txt | stack exec runhaskell RoutePlaning.hs</span></span>
<span class="line"><span>Best path is : &quot;BCACBB&quot;</span></span>
<span class="line"><span>Best length is : 75</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»è¿™ä¸ªé—®é¢˜å¯ä»¥çœ‹å‡ºï¼Œç”¨Haskellå¯¹é—®é¢˜å»ºæ¨¡è¦ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œä¸€ä¸ªå‡½æ•°åšä¸€ä¸ªç¡®å®šçš„äº‹æƒ…ï¼Œå‡½æ•°æœ€å¥½çŸ­å°è€Œç¡®åˆ‡ï¼Œä¸€ä¸ªä¸ªå‡½æ•°çš„ä½œç”¨å°±æ˜¯å¯¹æ•°æ®çš„æ˜ å°„ç­›é€‰å’Œå¤„ç†ã€‚å¯¹æ•°æ®å’Œé—®é¢˜å»ºæ¨¡ï¼Œå¹¶å°†é—®é¢˜æ‹†åˆ†æˆä¸€ä¸ªä¸ªå°é—®é¢˜ä¹‹åä¾æ¬¡è§£å†³ï¼Œæœ€ååœ¨<code>main</code>å‡½æ•°ä¸­å¤„ç†IOã€‚</li></ul><h2 id="å‡½å­ã€åº”ç”¨å‡½å­ä¸å¹ºåŠç¾¤" tabindex="-1"><a class="header-anchor" href="#å‡½å­ã€åº”ç”¨å‡½å­ä¸å¹ºåŠç¾¤"><span>å‡½å­ã€åº”ç”¨å‡½å­ä¸å¹ºåŠç¾¤</span></a></h2><p>æ¥ä¸‹æ¥å°±æ˜¯è®¨è®ºå‡½å­ï¼ˆFunctorsï¼‰ï¼Œåº”ç”¨å‡½å­ï¼ˆApplicative Functorsï¼‰å’Œå¹ºåŠç¾¤ï¼ˆMonoidsï¼‰ã€‚</p><p>å‰é¢æåˆ°äº†å‡½å­<code>Functor</code>ï¼Œå°±æ˜¯ä¸€ç¾¤å¯ä»¥è¢«æ˜ å°„çš„å¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç›’å­ï¼Œ<code>fmap</code>å°±æ˜¯å¯¹ç›’å­ä¸­çš„å¯¹è±¡åšæ“ä½œï¼Œå½“å‰å·²ç»é‡åˆ°äº†å¾ˆå¤šå‡½å­çš„å®ä¾‹ï¼Œæ¯”å¦‚<code>[] IO Maybe Either</code>ç­‰ã€‚</p><p>è¿™é‡Œè¿˜ä¼šå­¦åˆ°æ›´å¤šæ¯”è¾ƒå¼ºä¸€äº›çš„ç‰ˆæœ¬ã€‚</p><p>æ³¨æ„ï¼šè¿™é‡Œç”¨ç›’å­æ¥æ¯”å–»å‡½å­ï¼Œåç»­çš„åº”ç”¨å‡½å­å’Œå•å­ä¹Ÿä¼šè¿™æ ·æ¯”å–»ï¼Œå¤šæ•°æƒ…å†µä¸‹è¿™æ ·æ¯”å–»æ˜¯æ°å½“çš„ï¼Œä½†ä¸è¦è¿‡åº¦å¼•ç”³ï¼ŒæŸäº›å‡½å­å¯èƒ½ä¸é€‚ç”¨è¿™ä¸ªæ¯”å–»ã€‚ä¸€ä¸ªæ¯”è¾ƒæ­£ç¡®çš„å½¢å®¹æ˜¯å‡½å­æ˜¯ä¸€ä¸ªè®¡ç®—è¯­å¢ƒï¼ˆcomputational contextï¼‰ï¼Œè¿™ä¸ªè¯­å¢ƒå¯èƒ½å¸¦æœ‰å€¼ï¼Œå¯èƒ½ä¼šå¤±è´¥ï¼ˆ<code>Maybe Either</code>ï¼‰ï¼Œå¯èƒ½æœ‰å¤šä¸ªå€¼ï¼ˆ<code>List</code>ï¼‰ç­‰ã€‚</p><h3 id="å‡½å­" tabindex="-1"><a class="header-anchor" href="#å‡½å­"><span>å‡½å­</span></a></h3><p>å›é¡¾ä¸€ä¸‹<code>Functor</code>ï¼Œæ˜¯ä¸€ä¸ªç±»å‹ç±»ï¼Œæ¥å—ä¸€ä¸ªç±»å‹æ„é€ å™¨ä½œä¸ºç±»å‹å‚æ•°ï¼Œå®šä¹‰äº†<code>fmap</code>å‡½æ•°ï¼Œå°†å‡½å­ä¸­çš„å€¼æŒ‰ç…§ä¼ å…¥å‡½æ•°æ˜ å°„ä¹‹åå†åŒ…è£…åœ¨ä¸€ä¸ªå‡½å­ä¸­ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Constraint</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  fmap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  (&lt;$)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {-# </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">MINIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> fmap #-}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  	-- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Either</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜Data.Eitherâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IO</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜GHC.Baseâ€™</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>IO</code>ï¼š -çœ‹ä¸€ä¸‹<code>IO</code>æ˜¯æ€ä¹ˆå®ç°<code>Functor</code>å®ä¾‹çš„ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f action = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        result &lt;- action</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        return (f result)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¯•ä¸€è¯•<code>fmap</code>ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> line &lt;- fmap (intersperse </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;-&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> . reverse . map toUpper) getLine</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          putStrLn line</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœæƒ³è¦å¯¹Functorä¸­çš„æ•°æ®åšå˜æ¢ï¼Œå¯ä»¥å…ˆå°†å˜æ¢å‡½æ•°å®šä¹‰å‡ºæ¥ï¼Œæˆ–è€…ä½¿ç”¨lambdaæˆ–è€…ä½¿ç”¨å‡½æ•°ç»„åˆã€‚</li></ul><p><code>(-&gt;) r</code>ï¼š</p><ul><li>æ³¨æ„åˆ°<code>(-&gt;)</code>çš„Kindæ˜¯<code>(-&gt;) :: * -&gt; * -&gt; *</code>ï¼Œä¹Ÿå°±æ˜¯è¯´å…¶å®<code>(-&gt;)</code>æ˜¯ä¸€ä¸ªç±»å‹æ„é€ å™¨ï¼Œè€Œéè¿ç®—ç¬¦ï¼ˆå‡½æ•°ç±»å‹ï¼‰ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>(-&gt;)</code>æ¥å—ä¸¤ä¸ªç±»å‹å‚æ•°å¹¶å¾—åˆ°ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œè€Œå‡½å­æ¥å—ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œæ‰€ä»¥<code>(-&gt;) r</code>è¢«å®ç°ä¸º<code>Functor</code>çš„å®ä¾‹ï¼Œè€Œ<code>-&gt;</code>æœ¬èº«å¹¶ä¸æ˜¯å‡½å­ã€‚å¦‚æœç±»å‹æ„é€ å™¨å¯ä»¥åƒå‡½æ•°ä¸€æ ·å†™æˆä¸­ç¼€å½¢å¼çš„è¯ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥å†™æˆ<code>(r -&gt;)</code>ï¼Œå®é™…ä¸Šå¹¶ä¸å¯ä»¥ã€‚çœ‹ä¸€ä¸‹å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f g = (\x -&gt; f (g x))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨<code>fmap :: Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b</code>ä¸­å¸¦å…¥<code>(-&gt;) r</code>å°±èƒ½å¾—åˆ°åœ¨è¿™é‡Œå®ä¾‹ä¸­<code>fmap</code>çš„ç±»å‹ï¼š<code>fmap :: (a -&gt; b) -&gt; (r -&gt; a) -&gt; (r -&gt; b)</code>ã€‚</li><li>è¡¨ç¤ºå°†<code>r -&gt; a</code>çš„å‡½æ•°æ˜ å°„åˆ°<code>r -&gt; b</code>çš„å‡½æ•°ã€‚çœ‹ä¸€ä¸‹å®ç°å…¶å®å°±æ˜¯åšäº†ä¸€ä¸ªå‡½æ•°ç»„åˆï¼ˆæœ‰è¶£ï¼ï¼‰ï¼Œç®€å†™ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap = (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¾ˆæ˜æ˜¾<code>fmap</code>å¯ä»¥å½“åšå‡½æ•°ç»„åˆæ¥ç”¨ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t fmap (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fmap (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) . (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) . (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; fmap (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">303</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) . (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">303</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) `fmap` (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">303</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>fmap</code>ç”¨äºå‡½æ•°æ—¶å…¶å®å°±å¯ä»¥ç”¨æ¥æ›¿ä»£<code>.</code>ï¼Œè¿™å¾ˆæœ‰è¶£ï¼Œä½†å¹¶ä¸å®ç”¨ã€‚</li><li>è¿™é‡Œç”¨å†ç”¨ç›’å­æ¥æ¯”å–»å°±ä¸æ˜¯é‚£ä¹ˆæ°å½“äº†ï¼Œå› ä¸ºå®ç°å‡½å­çš„å®ä¾‹ç±»å‹æ˜¯å‡½æ•°ï¼Œå‡½æ•°é‡Œé¢è£…äº†å€¼è¿™ç§è¯´æ³•å¯èƒ½å¹¶ä¸ç›´è§‚å’Œæ°å½“ã€‚</li></ul><p><code>(,) a</code>:</p><ul><li><code>(,)</code>æ˜¯ä¸€ä¸ªäºŒå…ƒç»„çš„ç±»å‹æ„é€ å™¨ï¼Œå®ƒçš„<code>Kind</code>æ˜¯<code>* -&gt; * -&gt; *</code>ã€‚åŒæ—¶ä¹Ÿæ˜¯å€¼æ„é€ å™¨ï¼Œç­‰ä»·äº<code>\x y -&gt; (x, y)</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :k </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :k </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Int</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :k </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> String</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å›ºå®šäº†ä¸€ä¸ªç±»å‹å‚æ•°åï¼Œ<code>(,) a</code>çš„Kindæ˜¯<code>* -&gt; *</code>ï¼Œè¢«å®ç°ä¸ºå‡½å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f (x, y) = (x, f y)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¤šå…ƒç»„çš„ç±»å‹æ„é€ å™¨<code>(,,) (,,,) ...</code>åŒç†ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f (a, b, c) = (a, b, f c)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f (a, b, c, d) = (a, b, c, f d)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>fmap</code>åªåº”ç”¨äºæœ€åä¸€ä¸ªå…ƒç´ ã€‚</li></ul><p><strong>å‡½å­å’Œ<code>fmap</code>çš„ç†è§£</strong>ï¼š</p><ul><li>å°†<code>fmap</code>æŸ¯é‡ŒåŒ–åœ°åªä¼ ä¸€ä¸ªå‚æ•°è°ƒç”¨çš„è¯ï¼Œå¯ä»¥è§£é‡Šä¸ºæ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ¥å—ä¸€ä¸ªå‡½å­ç„¶åè¿”å›ä¸€ä¸ªå‡½å­çš„å‡½æ•°ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t fmap (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fmap (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Functor</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t fmap (replicate </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fmap (replicate </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Functor</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¹Ÿå°±æ˜¯è¯´æœ‰ä¸¤ç§è§£é‡Š<code>fmap</code>çš„è¯´æ³•ï¼š <ul><li><code>fmap</code>æ¥å—ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå‡½å­ï¼Œå°†å‡½å­çœ‹åšå®¹å™¨ï¼ŒæŠŠå‡½æ•°å¯¹å®¹å™¨ä¸Šçš„æ¯ä¸€ä¸ªå…ƒç´ åšåº”ç”¨ï¼Œå¾—åˆ°åº”ç”¨åçš„æ–°å®¹å™¨ã€‚</li><li>å‡½å­æ˜¯ä¸€ç§è®¡ç®—ä¸Šä¸‹æ–‡ï¼Œ<code>fmap :: (a -&gt; b) -&gt; (f a -&gt; f b)</code>æ¥å—ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œå¹¶å°†è¿™ä¸ªå‡½æ•°Liftï¼ˆæå‡ï¼‰æˆå¯ä»¥åœ¨åº”ç”¨åœ¨æ–°çš„è®¡ç®—ä¸Šä¸‹æ–‡<code>f</code>ä¸­çš„å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯<strong>å¯¹å‡½æ•°åšæ˜ å°„</strong>ã€‚</li><li>å¯¹äºç¬¬äºŒç§ç†è§£ï¼Œå…¶ä¸­æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å‡½å­æœ¬èº«å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°è¢«æå‡ä¸ºå¯ä»¥åº”ç”¨åœ¨å‡½æ•°ä¸Šçš„å‡½æ•°ï¼Œåº”ç”¨ä¹‹åå¾—åˆ°çš„ç»“æœå°±æ˜¯ä¸¤ä¸ªå‡½æ•°çš„ç»„åˆï¼Œé‡Œå±‚æ˜¯è¾“å…¥çš„å‡½å­ï¼Œå¤–å±‚æ˜¯è¿™ä¸ªæ™®é€šå‡½æ•°ï¼Œä¹Ÿå³æ˜¯æå‡è¿™ä»¶äº‹å°±æ˜¯åšä¸€ä¸ªç»„åˆã€‚ç†è§£æ¸…æ¥šäº†ä¹Ÿä¸ç”¨é‚£ä¹ˆç»•ï¼Œç»“è®ºå°±æ˜¯è¿™æ—¶å€™<code>fmap</code>å°±æ˜¯å‡½æ•°çš„ç»„åˆã€‚</li><li>å› ä¸ºæŸ¯é‡ŒåŒ–ï¼Œä¸¤ç§è§£é‡Šç­‰ä»·å¹¶ä¸”éƒ½æ­£ç¡®ã€‚</li></ul></li></ul><p>å®ç°å‡½å­çš„è§„å®šï¼ˆfunctor lawï¼‰ï¼š</p><ul><li>ç¬¬ä¸€æ¡ï¼š<code>fmap id = id</code>ï¼Œæ¯•ç«Ÿ<code>id = (\x -&gt; x)</code>ã€‚å³æ˜¯ä¸€ä¸ªå‡½å­åº”è¯¥æœ‰<code>fmap id a = id a = a</code>ã€‚</li><li>ç¬¬äºŒæ¡ï¼š<code>fmap (f . g) = fmap f . fmap g</code>ï¼Œå‡½å­çš„<code>fmap</code>æ”¯æŒç»“åˆå¾‹ï¼Œä¾‹ï¼š <ul><li><code>famp (f . g) (Just x) = Just ((f . g) x) = Just (f (g x))</code></li><li><code>fmap f . fmap g (Just x) = fmap f (fmap g (Just x)) = fmap f (Just (g x)) = Just (f (g x))</code></li></ul></li><li>çœ‹ä¸€ä¸ªä¸æ»¡è¶³è§„å®šï¼Œå®ç°äº†<code>Functor</code>ç±»å‹ç±»çš„ç±»å‹å®ä¾‹ï¼Œä½†æ˜¯ä¸æ˜¯å‡½å­çš„ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- example, an instance of typeclass Functor, but it&#39;s not a functor</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> CMaybe</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CNothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CJust</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> CMaybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CNothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CNothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CJust</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> counter x) = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">CJust</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (counter + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (f x)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fmap id (CJust 1 2)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">CJust 2 2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fmap ((+1) . (*3)) (CJust 1 2)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">CJust 2 7</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fmap (+1) . fmap (*3) $ CJust 1 2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">CJust 3 7</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç¬¬ä¸€æ¡ç¬¬äºŒæ¡éƒ½æœªæ»¡è¶³ï¼Œæ‰€ä»¥å…¶å®<code>CMaybe</code>ä¸æ˜¯å‡½å­ï¼Œè¿™é‡Œéœ€è¦ä»æ¦‚å¿µä¸ŠåŒºåˆ†å‡½å­å’Œä»£ç ä¸­<code>Functor</code>çš„ç±»å‹å®ä¾‹ã€‚</li><li>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª<code>Functor</code>ç±»å‹ï¼Œé‚£ä¹ˆä¼šæœŸå¾…å‡½å­çš„è§„å®šï¼ˆfuntor lawsï¼‰è¢«éµå®ˆã€‚å¦‚æœè¿™äº›è§„å®šè¢«éµå®ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±çŸ¥é“å®ƒåš<code>fmap</code>æ—¶ä¸ä¼šåšå¤šä½™çš„äº‹æƒ…ï¼Œåªæ˜¯ç”¨ä¸€ä¸ªå‡½æ•°æ¥æ˜ å°„è€Œå·²ï¼ŒåŸºäºæ­¤çœ‹åˆ°ä»£ç å°±èƒ½æ¨å¯¼å‡ºå®ƒçš„è¡Œä¸ºï¼Œå†™å‡ºæ¥çš„ä»£ç è¶³å¤ŸæŠ½è±¡ä¹Ÿå®¹æ˜“æ‰©å±•ã€‚</li><li>æ‰€æœ‰æ ‡å‡†å‡½æ•°åº“ä¸­å‡½å­å®ä¾‹éƒ½éµå®ˆè¿™ä¸¤ç‚¹ï¼Œåœ¨è‡ªå·±å®ç°<code>Functor</code>å®ä¾‹æ—¶ä¹Ÿåº”è¯¥èŠ±æ—¶é—´æ¨å¯¼ä¸€ä¸‹æ˜¯å¦æ»¡è¶³ã€‚</li><li>æ»¡è¶³ç¬¬ä¸€ä¸ªè§„å®šçš„è¯ä¸€å®šæ»¡è¶³ç¬¬äºŒä¸ªè§„å®šï¼Œåªéœ€è¦æ£€æŸ¥å‡½å­æ˜¯å¦æ»¡è¶³ç¬¬ä¸€æ¡è§„å®šå³å¯ã€‚</li></ul><h3 id="åº”ç”¨å‡½å­" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨å‡½å­"><span>åº”ç”¨å‡½å­</span></a></h3><p>åº”ç”¨å‡½å­ï¼ˆApplicative Functorsï¼‰æ˜¯å‡½å­çš„å‡çº§ç‰ˆï¼ŒåŒ…å«åœ¨<code>Control.Applicative</code>æ¨¡å—ä¸­ï¼Œç”±<code>Applicative</code>ç±»å‹ç±»å®šä¹‰ã€‚</p><p>å‡½å­ä¸­çš„å‡½æ•°ï¼š</p><ul><li>æˆ‘ä»¬çŸ¥é“Haskellå‡½æ•°æ—¶é»˜è®¤æŸ¯é‡ŒåŒ–çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°<code>f :: a -&gt; b -&gt; c</code>çš„è°ƒç”¨<code>f x y</code>å°±æ˜¯<code>(f x) y</code>ï¼Œè€Œå•ç‹¬çš„<code>f x</code>ä¹Ÿæ˜¯åˆæ³•çš„è°ƒç”¨ï¼Œé‚£ä¹ˆæ¯”å¦‚ç”¨<code>fmap (*) (Just 3)</code>ä¼šå¾—åˆ°ä»€ä¹ˆå‘¢ï¼Ÿå¾ˆæ˜æ˜¾<code>Just (* 3)</code>ï¼Œä¸€ä¸ªè£…åœ¨<code>Just</code>ä¸­çš„å‡½æ•°ï¼Œç±»å‹ä¸º<code>Num a =&gt; Maybe (a -&gt; a)</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t fmap (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fmap (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (* </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (* </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¹Ÿå¯ä»¥æœ‰æ›´å¤šå‚æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t fmap (\x y z w -&gt; x + y + z + w) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fmap (\x y z w -&gt; x + y + z + w) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™äº›æ”¾åœ¨å‡½å­<code>Maybe</code>ä¸­çš„å‡½æ•°è¦æ€ä¹ˆè°ƒç”¨å‘¢ï¼Ÿå½“ç„¶å¯ä»¥ä½¿ç”¨æ¥å—å‡½æ•°çš„å‡½æ•°æ¥åš<code>fmap</code>ï¼Œå¹¶ä¸”è¿˜å¯ä»¥éƒ¨åˆ†å‚æ•°è°ƒç”¨ï¼Œå¾—åˆ°ä¾ç„¶è£…åœ¨<code>Maybe</code>ä¸­çš„å‚æ•°æ›´å°‘çš„å‡½æ•°ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; fmap (\f -&gt; f </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (* </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t fmap (\f -&gt; f </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (fmap (\x y z w -&gt; x + y + z + w) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fmap (\f -&gt; f </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (fmap (\x y z w -&gt; x + y + z + w) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½†å¦‚æœè¦ç”¨è¿™äº›è£…åœ¨å‡½å­ä¸­çš„å‡½æ•°æ¥åº”ç”¨åˆ°è£…åœ¨å¦ä¸€ä¸ªå‡½å­ä¸­çš„æ•°æ®å‘¢ï¼Ÿçœ‹èµ·æ¥æ˜¯æ²¡æœ‰åŠæ³•çš„ï¼Œåªèƒ½ç”¨æ¨¡å¼åŒ¹é…å°†æ•°æ®æˆ–è€…å‡½æ•°æŠ½å‡ºæ¥åï¼Œå†<code>fmap</code>ï¼Œæˆ–è€…éƒ½æŠ½å‡ºæ¥ä¹‹åç›´æ¥è°ƒç”¨ã€‚</li></ul><p>åº”ç”¨å‡½å­å°±æ˜¯åšè¿™ä¸ªäº‹æƒ…çš„ï¼Œçœ‹ä¸€ä¸‹<code>Control.Applicative</code>ä¸­çš„<code>Applicative</code>ç±»å‹ç±»ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Constraint</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  pure</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  (&lt;*&gt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  liftA2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  (*&gt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  (&lt;*)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {-# </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">MINIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pure, ((&lt;*&gt;) | liftA2) #-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯ä»¥çœ‹åˆ°<code>Applicative</code>æ˜¯<code>Functor</code>å­ç±»å‹ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦æ˜¯åº”ç”¨å‡½å­é‚£ä¹ˆå°±ä¸€å®šæ˜¯å‡½å­ã€‚</li><li>æ³¨æ„<code>(&lt;*&gt;) :: Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b</code>å‡½æ•°ï¼Œå’Œ<code>fmap :: Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b</code>å¾ˆåƒï¼Œä¸è¿‡å°†å‡½æ•°ä¹Ÿæ”¾åˆ°äº†å‡½å­<code>f</code>ä¸­ã€‚</li><li>çœ‹ä¸€ä¸‹<code>Maybe</code>çš„<code>Applicative</code>ç±»å‹ç±»å®ä¾‹å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pure = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f) &lt;*&gt; something = fmap f something</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Nothing</code>ä¸­æ²¡æœ‰å‡½æ•°ï¼Œæ‰€ä»¥å°†å…¶åº”ç”¨äºä»»ä½•å‚æ•°éƒ½æ˜¯<code>Nothing</code>ï¼Œè€Œ<code>Just f</code>åº”ç”¨äº<code>something</code>ï¼Œå°±æ˜¯å°†å‡½æ•°<code>f</code>æŠ½å‡ºæ¥ä¹‹ååšäº†<code>fmap</code>ã€‚</li><li>ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; pure (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> reverse &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;olleh&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>pure :: Applicative f =&gt; a -&gt; f a</code>å‡½æ•°åŒ…è£…ä¸€ä¸ªå‚æ•°åˆ°åº”ç”¨å‡½å­<code>f</code>ä¸­ã€‚ç»è¿‡ç±»å‹æ¨å¯¼ååœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­<code>pure</code>å’Œ<code>Just</code>æ•ˆæœä¸€æ ·ã€‚</li><li>ä¸Šé¢å‡½æ•°ä»…æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œçœ‹ä¸€ä¸‹å…¶ä»–æ“ä½œï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; pure (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (\x y z -&gt; x + y + z) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (\x y z -&gt; x + y + z) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (\x y z -&gt; x + y + z) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; liftA2 (\x y z -&gt; x + y + z) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç”±äºæŸ¯é‡ŒåŒ–ï¼Œæ‰€ä»¥è¿™é‡Œç¬¬ä¸€ä¸ªä¾‹å­ä¸­å¯¹åº”äº<code>(&lt;*&gt;) :: f (a -&gt; b) -&gt; f a -&gt; f b</code>ä¸­çš„ç±»å‹å‚æ•°<code>b</code>å…¶å®æ˜¯<code>(Int -&gt; Int)</code>ï¼Œå¾ˆå¥½ç†è§£ã€‚è¿˜å¯ä»¥æœ‰æ›´å¤šå‚æ•°ï¼Œæ¯ä¸ª<code>&lt;*&gt;</code>è°ƒç”¨éƒ½ä¼šæ¥å—ä¸€ä¸ªè£…åœ¨<code>Applicative</code>ä¸­çš„å‚æ•°ã€‚</li><li><code>Applicative</code>è¿˜å®šä¹‰äº†<code>liftA2</code>å‡½æ•°ç”¨æ¥æ¥å—ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œä½†æ„Ÿè§‰å®Œå…¨å¯ä»¥è¢«æ”¯æŒæŸ¯é‡ŒåŒ–çš„<code>&lt;*&gt;</code>æ›¿ä»£ã€‚</li><li>æ˜¾ç„¶<code>&lt;*&gt;</code>æ˜¯å·¦ç»“åˆçš„ï¼Œæ•ˆæœä¸Šæ¥è¯´å°±æ˜¯åœ¨åšéƒ¨åˆ†å‚æ•°è°ƒç”¨ï¼Œæ¯æ¬¡ä¸€ä¸ªå‚æ•°ã€‚</li></ul><p><strong><code>pure</code></strong> ï¼š</p><ul><li><code>pure</code>æ˜¯å°†ä¸€ä¸ªæ™®é€šå€¼æ”¾åˆ°ä¸€ä¸ªé»˜è®¤çš„ä¸Šä¸‹æ–‡ï¼ˆå‡½å­ï¼Œæ³¨æ„è¿™é‡Œè¯´ä¸Šä¸‹æ–‡å°±æ˜¯æŒ‡è®¡ç®—ä¸Šä¸‹æ–‡ï¼Œå°±æ˜¯æŒ‡ä¸€ä¸ªå‡½å­ï¼Œç¡®åˆ‡è¯´åº”ç”¨å‡½å­ï¼‰ä¸­ï¼Œæ˜¯ä¸€ä¸ª<strong>æœ€å°çš„åŒ…å«è¿™ä¸ªå€¼çš„ä¸Šä¸‹æ–‡ï¼ˆå‡½å­ï¼‰</strong>ã€‚</li><li>åˆ—è¡¨çš„<code>Applicative</code>ç±»å‹ç±»å®ä¾‹çš„å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pure x = [x]  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fs &lt;*&gt; xs = [f x | f &lt;- fs, x &lt;- xs]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äºåˆ—è¡¨è€Œè¨€ï¼Œæœ€å°çš„ä¸Šä¸‹æ–‡ï¼ˆå‡½å­ï¼‰å°±æ˜¯<code>[]</code>ï¼Œä½†<code>[]</code>ä¸åŒ…å«å€¼ï¼Œä¸èƒ½å½“åš<code>pure</code>ã€‚çœ‹<code>pure</code>ç±»å‹å£°æ˜<code>pure :: Applicative f =&gt; a -&gt; f a</code>ï¼Œå¯¹äºåˆ—è¡¨ï¼Œå°±æ˜¯æ¥å—ä¸€ä¸ªå€¼ï¼Œè¿”å›ä»…åŒ…å«è¯¥å€¼çš„åˆ—è¡¨ã€‚åŒç†ï¼Œ<code>Maybe</code>çš„æœ€å°ä¸Šä¸‹æ–‡æ˜¯<code>Nothing</code>ï¼Œä½†æ²¡æœ‰å€¼ï¼Œè¦èƒ½å¤ŸåŒ…å«è¿™ä¸ªå€¼ï¼Œæ‰€ä»¥<code>pure</code>çš„å®ç°æ˜¯<code>Just</code>ã€‚</li><li><code>pure</code>ä¹Ÿæ˜¯å¤šæ€çš„ï¼ŒæŒ‡å®šç±»å‹åä¼šæ ¹æ®ç±»å‹æ¨å¯¼ä½¿ç”¨ä¸åŒåº”ç”¨å‡½å­çš„å®ç°ã€‚ä¸è¿‡ä¸æŒ‡å®šç±»å‹çš„è¯å°±æ²¡æœ‰åº”ç”¨å‡½å­ï¼Œè¿™ä¸ªé€»è¾‘æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿè¿™ä¸ª<code>pure</code>æ˜¯è°ƒç”¨çš„å“ªä¸ª<code>data</code>çš„<code>pure</code>å®ç°å‘¢ï¼Ÿ</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; pure </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; pure </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; pure </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦å¤–æ³¨æ„åˆ—è¡¨çš„<code>&lt;*&gt;</code>å®ç°ï¼Œç”±äºåˆ—è¡¨ä¿å­˜å¤šä¸ªæ•°æ®ï¼Œæ‰€ä»¥<code>&lt;*&gt;</code>ç»“æœæ˜¯åˆ—è¡¨ä¸­å¤šä¸ªå‡½æ•°æ’åˆ—è¿ç”¨äºå‚æ•°ä¸­å¤šä¸ªå€¼çš„ç»“æœçš„åˆ—è¡¨ï¼Œç›¸å½“äºåšäº†äºŒå±‚å¾ªç¯ã€‚å¦‚æœå‚æ•°æ›´å¤šï¼Œé‚£ä¹ˆå¾ªç¯å±‚æ•°è¿˜ä¼šæ›´å¤šã€‚å‰é¢çš„åˆ—è¡¨ç›¸å½“äºå¤–å±‚å¾ªç¯ï¼Œåé¢ç›¸å½“äºå†…å±‚ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] &lt;*&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &lt;*&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [(\x y z -&gt; x + y + z)] &lt;*&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &lt;*&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &lt;*&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äºåˆ—è¡¨è€Œè¨€ï¼Œä½¿ç”¨<code>&lt;*&gt;</code>æ˜¯ä¸€ç§å¯ä»¥æ›¿ä»£åˆ—è¡¨ç”Ÿæˆå¼çš„æ–¹å¼ï¼ˆæœ¬æ¥ä¹Ÿå°±æ˜¯ç”¨åˆ—è¡¨ç”Ÿæˆå¼å®ç°çš„ï¼‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- just like list comprehension</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [x * y | x &lt;- [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], y &lt;- [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">28</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">36</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">35</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">45</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &lt;*&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">28</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">36</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">35</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">45</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; filter (&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">25</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &lt;*&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">28</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">36</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">35</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">45</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>&lt;$&gt;</code></strong>ï¼š</p><ul><li>è€ƒè™‘<code>pure f &lt;*&gt; x</code>å…¶å®å°±ç­‰äº<code>fmap f x</code>ï¼ˆè¿™æ˜¯Applicative lawsçš„å…¶ä¸­ä¸€æ¡ï¼‰ã€‚</li><li>å¦‚æœæˆ‘ä»¬è¦å°†å‡½æ•°<code>f</code>æ”¾åˆ°é»˜è®¤çš„ä¸Šä¸‹æ–‡ï¼ˆå‡½å­ï¼‰ä¸­å¹¶è°ƒç”¨å…¶ä»–æ”¾åœ¨åº”ç”¨å‡½å­ä¸­çš„å€¼ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š<code>pure f &lt;*&gt; x &lt;*&gt; y &lt;*&gt; ...</code>ï¼Œä½†ä¸€èˆ¬ä¸ä¼šè¿™æ ·å†™è€Œæ˜¯å†™æˆ<code>fmap f x &lt;*&gt; y &lt;*&gt; ...</code>ã€‚</li><li>çœ‹ä¸€ä¸‹<code>&lt;$&gt;</code>è¿ç®—ç¬¦ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Prelude</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; :i &lt;$&gt;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(&lt;$&gt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Functor</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        -- Defined in â€˜Data.Functorâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">infixl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;$&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®šä¹‰ï¼Œå…¶å®å°±æ˜¯ä¸­ç¼€ç‰ˆçš„<code>fmap</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f &lt;$&gt; x = fmap f x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>æ‰€ä»¥ä¸Šé¢çš„<code>fmap f x &lt;*&gt; y &lt;*&gt; ...</code>å°±ç­‰ä»·äº<code>f &lt;$&gt; x &lt;*&gt; y &lt;*&gt; ...</code>ï¼Œå«ä¹‰æ˜¯å°†æ™®é€šçš„å‡½æ•°è¿ç”¨äºåº”ç”¨å‡½å­<code>x y ...</code>ä¸Šã€‚</li><li>æ‰€ä»¥å¯¹äºæ™®é€šå‡½æ•°<code>f</code>ï¼Œæƒ³è¦åº”ç”¨äºåº”ç”¨å‡½å­ä¸­çš„å€¼ï¼Œå¯ä»¥å†™æˆ<code>f &lt;$&gt; x &lt;*&gt; y &lt;*&gt; z</code>ï¼Œå¦‚æœæ˜¯åº”ç”¨äºæ™®é€šå€¼åˆ™å†™æˆ<code>f x y z</code>ã€‚è¿™ç§è°ƒç”¨é£æ ¼å«åš<strong>Applicative style</strong>ã€‚</li><li>å›é¡¾ä¸€ä¸‹èƒ½è¿™æ ·åšçš„åº•å±‚é€»è¾‘æ˜¯<code>pure f &lt;*&gt; x = fmap f x = f &lt;$&gt; x</code>ã€‚</li><li>åŒºåˆ†<code>&lt;$&gt; &lt;*&gt;</code>ï¼šå¦‚æœå‡½æ•°åœ¨åº”ç”¨å‡½å­ä¸­ï¼Œå°±ç”¨<code>&lt;*&gt;</code>ï¼Œæ™®é€šå‡½æ•°å°±ç”¨<code>&lt;$&gt;</code>ã€‚</li><li>åªéœ€è¦åŠ ä¸€äº›<code>&lt;$&gt; &lt;*&gt;</code>å°±èƒ½å°†è¿ç”¨äºæ™®é€šå€¼çš„å‡½æ•°æ”¹å†™ä¸ºè¿ç”¨åœ¨åº”ç”¨å‡½å­ä¸Šçš„å‡½æ•°ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;world&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;helloworld&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;world&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;helloworld&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»‹ç»äº†<code>Maybe</code>å’Œ<code>[]</code>çš„ä¾‹å­ã€‚çœ‹ä¸€çœ‹å…¶ä»–çš„<code>Applicative</code>å®ä¾‹ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Const</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜Data.Functor.Constâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> ZipList</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Control.Applicativeâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">WrappedMonad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜Control.Applicativeâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Arrow</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">WrappedArrow</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜Control.Applicativeâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Either</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜Data.Eitherâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IO</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">         Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜GHC.Baseâ€™</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŠ›å¼€æ²¡è§è¿‡çš„ä¸œè¥¿ï¼Œå¸¸è§çš„è¿˜æœ‰<code>Either a</code> <code>IO</code> <code>((-&gt;) r)</code> å„ç§å…ƒç»„ã€‚å¯ä»¥çœ‹åˆ°ç°åœ¨äº†è§£åˆ°çš„ç±»å‹åªè¦æ˜¯å‡½å­ï¼Œé‚£éƒ½å®ç°ä¸ºäº†åº”ç”¨å‡½å­çš„å®ä¾‹ã€‚</li></ul><p><code>IO</code>:</p><ul><li>å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pure = return</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    a &lt;*&gt; b = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        f &lt;- a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        x &lt;- b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        return (f x)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>IO</code>ä¸­åŒæ ·æ”¾å‡½æ•°ï¼Œæ‰€ä»¥<code>&lt;*&gt;</code>å®ç°å°±æ˜¯å–å‡ºå‡½æ•°å’Œå‚æ•°ï¼Œåº”ç”¨åå†é€šè¿‡<code>return</code>æ”¾åˆ°<code>IO</code>ä¸­ã€‚è€Œ<code>pure</code>å®ç°åˆ™å°±æ˜¯<code>return</code>ï¼Œåšä¸€ä¸ªä¸åšä»»ä½•äº‹æƒ…çš„IOåŠ¨ä½œï¼Œå¯ä»¥äº§ç”ŸæŸäº›å€¼ä½œä¸ºç»“æœã€‚</li><li>è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">concatLine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">concatLine = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    a &lt;- getLine</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    b &lt;- getLine </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return $ a ++ b</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">concatLine&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">concatLine&#39; = (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; getLine &lt;*&gt; getLine</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äº<code>IO</code>æ¥è¯´ï¼Œæˆ‘ä»¬è¯´<code>do</code>å—ä¸­çš„IOåŠ¨ä½œæ˜¯ç±»ä¼¼äºé¡ºåºæ‰§è¡Œçš„ã€‚ä½¿ç”¨åº”ç”¨å‡½å­ï¼Œæ›¿æ¢æˆ<code>&lt;$&gt; &lt;*&gt;</code>ä¹‹åæ˜¯å­˜åœ¨ä¸€ä¸ªæ‰§è¡Œé¡ºåºçš„æ¦‚å¿µçš„ï¼Œå°±ç±»ä¼¼äº<code>sequence</code>ã€‚</li><li>å¦‚æœæ˜¯åœ¨åšç»‘å®šIOåŠ¨ä½œï¼ˆå–å…¶ä¸­çš„å€¼ï¼‰çš„äº‹æƒ…ï¼Œå¹¶ä¸”ç»‘å®šä¹‹åè¿˜è°ƒç”¨äº†ä¸€äº›å‡½æ•°ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Applicative Styleã€‚</li></ul><p><code>(-&gt;) r</code>:</p><ul><li>å‰é¢æåˆ°äº†<code>fmap</code>ç”¨äºå‡½æ•°ä½œä¸ºå‡½å­çš„æƒ…å†µï¼Œä¸é€‚ç”¨äºç›’å­çš„æ¯”å–»ï¼Œ<code>fmap</code>å°±æ˜¯åœ¨åšå‡½æ•°ç»„åˆã€‚</li><li>åŒæ ·åœ°ï¼Œ<code>(-&gt;) r</code>ä¹Ÿæ˜¯åº”ç”¨å‡½å­ã€‚</li><li>å°†<code>(-&gt;) r</code>å¸¦å…¥åˆ°<code>(&lt;*&gt;) :: Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b</code>ç±»å‹ç­¾åä¸­æ›¿ä»£<code>f</code>å¾—åˆ°ï¼Œæ³¨æ„<code>(-&gt;) r</code>è½¬ä¸ºä¸­ç¼€æ˜¯<code>(r -&gt;)</code>ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;*&gt; :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>çœ‹ä¸€ä¸‹å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pure x = (\_ -&gt; x)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    f &lt;*&gt; g = \x -&gt; f x (g x)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å°†ä¸€ä¸ªå€¼æ”¾åœ¨å‡½æ•°çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œé‚£ä¹ˆæœ€å°ä¸Šä¸‹æ–‡ï¼ˆåº”ç”¨å‡½å­ï¼‰å°±æ˜¯è¿”å›è¿™ä¸ªå€¼æœ¬èº«çš„å‡½æ•°ï¼Œæ‰€ä»¥<code>pure</code>æ¥å—ä¸€ä¸ªå‚æ•°<code>x</code>è¿”å›æ¥å—ä¸€ä¸ªä»»ä½•å‚æ•°éƒ½è¿”å›<code>x</code>çš„å‡½æ•°ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t (pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‡½æ•°è°ƒç”¨å·¦ç»“åˆï¼Œæ‹¬å·å¯ä»¥çœç•¥ï¼Œæ‰€ä»¥ç»™<code>pure</code>è°ƒç”¨å†ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œé€šè¿‡ç±»å‹æ¨æ–­å°±ä¼šè°ƒç”¨<code>(-&gt;) r</code>çš„<code>pure</code>å®ç°ã€‚</li><li>è§‚å¯Ÿ<code>&lt;*&gt;</code>å‡½æ•°ç­¾åå’Œå®ç°ï¼Œ<code>f</code>çš„ç±»å‹æ˜¯<code>r -&gt; a -&gt; b</code>ï¼Œ<code>g</code>ç±»å‹æ˜¯<code>r -&gt; a</code>ï¼Œ<code>&lt;*&gt;</code>å®ç°ä¸­æ¥å—<code>r</code>ç±»å‹å‚æ•°ï¼Œè¿”å›<code>f</code>å‡½æ•°è¾“å‡ºï¼ŒåŒæ—¶ç”±<code>g x</code>ä½œä¸º<code>f</code>ç¬¬äºŒä¸ªå‚æ•°ã€‚è‡³äºä¸ºä»€ä¹ˆè¿™æ ·å®ç°è¿˜ä¸å¾—è€ŒçŸ¥ã€‚</li><li>çœ‹ä¸€ä¸ªä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; f &lt;*&gt; g $ &quot;10&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">110.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; (\x -&gt; f x (g x)) &quot;10&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">110.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; f &quot;10&quot; (g &quot;10&quot;)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">110.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- &lt;*&gt; :: (r -&gt; a -&gt; b) -&gt; (r -&gt; a) -&gt; (r -&gt; b)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- example : r String, a Int, b Double</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Double</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f s x = read s + fromIntegral x</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g s = read s * </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t (+) &lt;*&gt; (*100)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(+) &lt;*&gt; (*100) :: Num a =&gt; a -&gt; a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; (+) &lt;*&gt; (*100) $ 10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">1010</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å’Œ<code>&lt;$&gt;</code>ä¸€èµ·ç”¨ï¼Œå¯¹äºå‡½æ•°æ¥è¯´<code>&lt;$&gt;</code>ä¹Ÿå°±æ˜¯<code>fmap</code>å°±æ˜¯å‡½æ•°ç»„åˆï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">508</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (\x -&gt; (x+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) + (x*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">508</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; ((</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) . (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) &lt;*&gt; (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">508</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (\x y -&gt; [x, y]) &lt;$&gt; (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (\x y z -&gt; [x,y,z]) &lt;$&gt; (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; (/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) $ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ‰€ä»¥è¯´å¯¹äºå‡½æ•°<code>k &lt;$&gt; f &lt;*&gt; g</code>çš„å«ä¹‰å¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå®ƒä¼šå°†å‚æ•°åˆ†åˆ«ä¼ ç»™<code>f g</code>ï¼Œå¹¶å°†ç»“æœå†ä¼ ç»™<code>k</code>ã€‚</li><li>ä¸Šé¢çš„ä»£ç æ˜¯èƒ½å¤Ÿç†è§£çš„ï¼Œä½†å¹¶ä¸ç®—é‚£ä¹ˆå¥½ç†è§£ï¼Œå¹³æ—¶ä½¿ç”¨æ—¶æˆ‘ä»¬é€šå¸¸ä¸ä¼šå°†å‡½æ•°å½“åšåº”ç”¨å‡½å­æ¥ç”¨ï¼Œä½†å®ƒç¡®å®æ˜¯ã€‚</li><li>æŠ€å·§ï¼šå¯¹äºå‡½æ•°ç±»å‹çš„åº”ç”¨å‡½å­ï¼Œç”¨<code>r -&gt;</code>ä»£å…¥ç±»å‹å˜é‡<code>f</code>å³å¯å¾—åˆ°æœ€ç»ˆç±»å‹ï¼Œç”¨æœ€ç»ˆç±»å‹æ¥ç†è§£ï¼Œä¸è¦ç”¨ç›’å­æ¥ç±»æ¯”ã€‚</li></ul><p><code>ZipList</code>ï¼š</p><ul><li>è€ƒè™‘<code>[(+3), (*2)] &lt;*&gt; [1, 2]</code>è¿™ç§è°ƒç”¨ï¼Œæ˜¾ç„¶ä¼šè°ƒç”¨åˆ—è¡¨çš„<code>&lt;*&gt;</code>ï¼Œå¾—åˆ°<code>[4, 5, 2, 4]</code>ã€‚</li><li>é‚£ä¹ˆå¦‚æœæƒ³å¾—åˆ°çš„ç»“æœæ˜¯<code>[(+3) 1, (*2) 2]</code>ï¼Œä¹Ÿå°±æ˜¯åˆ—è¡¨å¯¹åº”å…ƒç´ è°ƒç”¨ï¼Œæœ‰æ²¡æœ‰åŠæ³•å‘¢ï¼Ÿå¯èƒ½ä¹Ÿä¼šæœ‰è¿™ç§éœ€æ±‚ï¼Œæ‰€ä»¥æœ‰äº†ç±»å‹<code>ZipList</code>ã€‚</li><li><code>ZipList</code>åªæœ‰ä¸€ä¸ªå€¼æ„é€ å™¨<code>newtype ZipList a = ZipList {getZipList :: [a]}</code>ï¼ŒåŒ…å«ä¸€ä¸ªåˆ—è¡¨ç±»å‹çš„å­—æ®µã€‚å¹¶ä¸”å®šä¹‰ä¸ºäº†åº”ç”¨å‡½å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> ZipList</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pure x = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (repeat x)  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> fs &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> xs = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (zipWith (\f x -&gt; f x) fs xs)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å³æ˜¯å¯¹åˆ—è¡¨åšåŒ…è£…ï¼Œå¹¶å°†<code>&lt;*&gt;</code>çš„è¡Œä¸ºå®šä¹‰äº†ç¬¬ä¸€ä¸ªåˆ—è¡¨å‡½æ•°å¯¹ç¬¬äºŒä¸ªåˆ—è¡¨å¯¹åº”å…ƒç´ çš„è°ƒç”¨ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [(+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; getZipList (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [(+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; getZipList $ (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; getZipList $ </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;$&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;dog&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;cat&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;rat&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;d&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;c&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;r&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;o&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;g&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;t&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;t&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨æ—¶å°†åˆ—è¡¨ç”¨<code>ZipList</code>åŒ…è£…åï¼Œè¦å–å‡ºç»“æœåˆ™ä½¿ç”¨<code>getZipList</code>ã€‚</li><li>å¯¹äºåˆ—è¡¨ï¼Œå¦‚æœè¦å°†å¤šä¸ªåˆ—è¡¨Zipèµ·æ¥ï¼Œéœ€è¦ä½¿ç”¨<code>zipWith3 zipWith4 ...</code>ç­‰å‡½æ•°ï¼Œä½†ä½¿ç”¨Applicative Styleçš„<code>ZipList</code>åˆ™ä¸éœ€è¦ï¼Œåªè¦å°†ä»»æ„æ•°é‡çš„<code>ZipList</code>ç”¨<code>&lt;*&gt;</code>è¿æ¥èµ·æ¥å³å¯ï¼Œå› ä¸ºå‡½æ•°æ˜¯æŸ¯é‡ŒåŒ–çš„ï¼Œå•çº¯çš„æ•°æ®åˆ™ä¸èƒ½è¿™æ ·ã€‚</li></ul><p><code>liftA2</code>å‡½æ•°ï¼›</p><ul><li>å®šä¹‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">liftA2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">liftA2 f a b = f &lt;$&gt; a &lt;*&gt; b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åº”ç”¨å‡½å­æ¯”èµ·å‡½å­è¦å¼ºçš„ä¸€ç‚¹é™¤äº†èƒ½åº”ç”¨åœ¨åº”ç”¨å‡½å­ä¸­çš„å‡½æ•°ï¼Œè¿˜åœ¨äºå¯ä»¥å°†å‡½æ•°æˆ–è€…å‡½å­ä¸­çš„å‡½æ•°åº”ç”¨äºå¤šä¸ªå‡½å­ã€‚é€šè¿‡<code>liftA2</code>å‡½æ•°æˆ–è€…Applicative Styleã€‚</li><li>ä¾‹å­ï¼šå¦‚ä½•å°†<code>Just 2</code>é™„åŠ åˆ°<code>Just [3, 4]</code>ä¸Šä½¿å…¶å˜æˆ<code>Just [2, 3, 4]</code>ï¼Ÿ</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;*&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®ç°æ¥å—ä¸€ä¸ªè£…æœ‰å¤šä¸ªåº”ç”¨å‡½å­çš„åˆ—è¡¨åˆ°ä¸€ä¸ªåˆ—è¡¨çš„åº”ç”¨å‡½å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sequenceA&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sequenceA&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sequenceA&#39; (x:xs) = (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; x &lt;*&gt; sequenceA&#39; xs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sequenceA&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sequenceA&#39;&#39; = foldr (\x xs -&gt; (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;$&gt; x &lt;*&gt; xs) (pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sequenceA&#39;&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sequenceA&#39;&#39;&#39; = foldr (liftA2 (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) (pure </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‡ ä¹ä»»ä½•é€’å½’èµ°éæ•´ä¸ªåˆ—è¡¨ç„¶åç´¯åŠ çš„å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨<code>foldr/foldl</code>å®ç°ï¼Œå’Œ<code>Data.Traversable</code>ä¸­çš„<code>sequenceA</code>å«ä¹‰æ˜¯ç›¸åŒçš„ï¼Œç”¨<code>liftA2</code>è¿˜å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sequenceA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Traversable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; sequenceA [Just 1, Just 2, Just 3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just [1,2,3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; sequenceA&#39; [Just 1, Just 2, Just 3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just [1,2,3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; sequenceA&#39;&#39; [Just 1, Just 2, Just 3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just [1,2,3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; sequenceA [[1, 2], [3, 4]]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[[1,3],[1,4],[2,3],[2,4]]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; sequenceA [[1, 2], [3, 4], []]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>liftA2</code>åœ¨è¿™ç§åœºåˆå¾ˆå®ç”¨ï¼Œç†è§£ä¸ºå°†è¿ç®—ç¬¦<code>(:)</code>æå‡ï¼ˆLiftï¼‰ä¸ºèƒ½åº”ç”¨äºåº”ç”¨å‡½å­ä¸Šçš„å‡½æ•°ï¼Œå‡½æ•°å‘½åæ˜¯éå¸¸å‡†ç¡®çš„ï¼Œçš„ç¡®æ˜¯æœ‰å­˜åœ¨æ„ä¹‰çš„ã€‚</li><li>å½“<code>sequenceA</code>æ¥å—è£…æœ‰å‡½æ•°çš„åˆ—è¡¨æ—¶ï¼Œä¼šå›ä¼ ä¸€ä¸ªè¿”å›åˆ—è¡¨çš„å‡½æ•°ï¼Œæ­¤æ—¶å…¶å®å°±æ˜¯åº”ç”¨äº<code>(-&gt;) r</code>åº”ç”¨å‡½å­ä¸Šï¼Œç›´æ¥ç”¨<code>r -&gt;</code>æ›¿æ¢ä¸ºç±»å‹å˜é‡<code>f</code>æ¥å¾—åˆ°æœ€ç»ˆç±»å‹ã€‚å½“æœ‰ä¸€ç³»åˆ—å‡½æ•°éœ€è¦åº”ç”¨åœ¨ç›¸åŒçš„å‚æ•°ä¸Šæ—¶ä½¿ç”¨<code>sequenceA</code>ä¼šéå¸¸æ–¹ä¾¿ï¼Œæ¯”ä½¿ç”¨<code>map</code>ç”¨æ¥å—å‡½æ•°çš„å‡½æ•°åšæ˜ å°„æ›´åŠ æ–¹ä¾¿ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t sequenceA [(&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sequenceA [(&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; sequenceA [(&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)] </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; map (\f -&gt; f </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) [(&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å½“ä½¿ç”¨åœ¨<code>IO</code>å¯¹è±¡ä¸Šæ—¶ï¼Œ<code>sequenceA</code>å’Œ<code>sequence</code>æ˜¯ç­‰ä»·çš„ã€‚æ¥å—ä¸€ä¸²IOåŠ¨ä½œï¼Œè¿”å›ä¸€ä¸ªä¼šæ‰§è¡Œåˆ—è¡¨ä¸­æ‰€æœ‰IOåŠ¨ä½œå¹¶å°†ç»“æœæ”¾åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­çš„IOåŠ¨ä½œã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sequence</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Traversable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sequenceA</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Traversable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Applicative Functor Laws:</p><ul><li>åŒå‡½å­ä¸€æ ·ï¼Œåº”ç”¨å‡½å­ä¹Ÿæœ‰ä¸€å®šè¦éµå®ˆçš„å®šå¾‹ï¼Œå‰é¢æåˆ°çš„<code>pure f &lt;*&gt; x = fmap f x</code>æ˜¯å…¶ä¸­æœ€é‡è¦çš„ä¸€ä¸ªï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pure id &lt;*&gt; v = v</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pure (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &lt;*&gt; u &lt;*&gt; v &lt;*&gt; w = u &lt;*&gt; (v &lt;*&gt; w)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pure f &lt;*&gt; pure x = pure (f x)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">u &lt;*&gt; pure y = pure ($ y) &lt;*&gt; u</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€»ç»“ï¼š</p><ul><li>åº”ç”¨å‡½å­å¯ä»¥ç”¨æ¥ç»“åˆä¸åŒç§ç±»çš„è¿ç®—ã€‚</li><li><code>&lt;*&gt; &lt;$&gt; pure</code>ã€‚</li><li>æ³¨æ„åˆ—è¡¨ä¸Šçš„non-deterministicçš„è¡Œä¸ºã€‚</li></ul><h3 id="newtype" tabindex="-1"><a class="header-anchor" href="#newtype"><span>newtype</span></a></h3><p><code>data</code>ç”¨äºå®šä¹‰æ–°ç±»å‹ï¼Œ<code>type</code>ç”¨äºå®šä¹‰ç±»å‹åˆ«åï¼Œè¿˜æœ‰ä¸€ç§å®šä¹‰æ–°ç±»å‹çš„æ–¹å¼å°±æ˜¯<code>newtype</code>ã€‚</p><p>æ¯”å¦‚å®šä¹‰<code>ZipList</code>æ—¶å¯ä»¥è¿™æ ·å®šä¹‰ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> ZipList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>è¿™é‡Œçš„ç›®çš„æ˜¯å°†<code>[a]</code>åŒ…åœ¨<code>ZipList</code>ä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>newtype</code>ï¼Œå®é™…çš„åº“ä¸­ä¹Ÿæ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> ZipList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">ZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getZipList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>é‚£ä¹ˆ<code>newtype</code>ç›¸è¾ƒ<code>data</code>æœ‰ä½•å¼‚åŒå‘¢ï¼Ÿ</p><ul><li>ä½¿ç”¨<code>newtype</code>ä¼šå‘Šè¯‰Haskellä½ åªæ˜¯æƒ³å°†ä¸€ä¸ªç±»å‹åŒ…èµ·æ¥ï¼Œæœ‰äº†è¿™ä¸€ç‚¹ä½œä¸ºåŸºç¡€ï¼ŒHaskellå¯ä»¥å°†åŒ…è£…å’Œè§£åŒ…çš„æˆæœ¬ä¼˜åŒ–æ‰ã€‚<code>data</code>åˆ™ä¸èƒ½ã€‚</li><li><code>newtype</code>å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹æ—¶ï¼Œåªèƒ½å®šä¹‰ä¸€ä¸ªå€¼æ„é€ å™¨ï¼Œè€Œä¸”è¿™ä¸ªå€¼æ„é€ å™¨åªèƒ½æœ‰ä¸€ä¸ªå­—æ®µã€‚ä½¿ç”¨<code>data</code>åˆ™ä¸é™åˆ¶å€¼æ„é€ å™¨æ•°é‡å’Œå€¼æ„é€ å™¨çš„å­—æ®µæ•°é‡ã€‚</li><li>ç›´è§‚ç†è§£å°±æ˜¯å¦‚æœä½ è¦æƒ³ç”¨<code>newtype</code>åŒ…è£…ä¸€ä¸ªç±»å‹ï¼Œé‚£ä¹ˆåªèƒ½æ˜¯ä¸€ä¸ªç±»å‹çš„ä¸€ä¸ªæ•°æ®ã€‚</li><li><code>newtype</code>ä¹Ÿèƒ½ä½¿ç”¨<code>deriving</code>å…³é”®å­—ï¼Œå¯ä»¥ç›´æ¥æ´¾ç”Ÿ<code>Eq Ord Enum Bounded Show Read</code>ã€‚å¦‚æœæƒ³å¯¹æ–°çš„ç±»å‹ç±»åšæ´¾ç”Ÿï¼Œé‚£ä¹ˆåŒ…è£…çš„é‚£ä¸ªç±»å‹å¿…é¡»ä¹Ÿæ´¾ç”Ÿäº†é‚£ä¸ªç±»å‹ç±»ã€‚è¿™å¾ˆåˆç†ã€‚</li><li>é…åˆRecord Syntaxï¼Œå€¼æ„é€ å™¨å°±æ˜¯å°†å†…éƒ¨åŒ…è£…çš„ç±»å‹è½¬ä¸ºæ–°ç±»å‹çš„å‡½æ•°ï¼Œå­—æ®µåç§°å°±æ˜¯å°†æ–°ç±»å‹è½¬ä¸ºå†…éƒ¨åŒ…è£…ç±»å‹çš„å‡½æ•°ï¼Œè½»æ˜“å°±å¯ä»¥å–åˆ°å…¶ä¸­çš„å€¼ã€‚</li><li>åªèƒ½åŒ…è£…ä¸€ä¸ªç±»å‹çš„ä¸€ä¸ªæ•°æ®ä¸ä»£è¡¨åªèƒ½æœ‰ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œå†…éƒ¨åŒ…è£…çš„æ•°æ®æœ¬èº«å¯ä»¥æœ‰å¤šä¸ªç±»å‹å‚æ•°ï¼Œä¾‹ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Pair</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Pair</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getTuple</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å¯ä»¥å¯¹<code>newtype</code>å®šä¹‰çš„ç±»å‹åšæ¨¡å¼åŒ¹é…ï¼Œå…¶å®å°±å’Œ<code>data</code>ä¸€æ ·ï¼Œæœ¬è´¨å°±æ˜¯åµŒå¥—æ¨¡å¼åŒ¹é…ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">showPair</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Pair</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">showPair (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Pair</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a, b)) = show (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Pair</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a, b))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…ƒç»„åœ¨åš<code>fmap</code>æ—¶åªä¼šå¯¹æœ€åä¸€ä¸ªå…ƒç´ åšï¼Œå¯ä»¥åŒ…è£…ä¸€å±‚å¹¶å°†è¡Œä¸ºæ›´æ”¹ä¸ºå¯¹ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Pair&#39;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Pair&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getPair&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Functor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Pair&#39;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fmap f (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Pair&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (x, y)) = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Pair&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (f x, y)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; getPair&#39; $ fmap reverse (Pair&#39; (&quot;hello&quot;, 3))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(&quot;olleh&quot;,3)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>çœ‹åšä¸€ç§æœ‰ç€é™åˆ¶çš„<code>data</code>å®šä¹‰å°±è¡Œã€‚</li></ul><p><code>newtype</code>çš„æ‡’æƒ°ç‰¹æ€§ï¼š</p><ul><li><code>undefined :: a</code>å‡½æ•°åœ¨æ±‚å€¼æ—¶ä¼šè§¦å‘å¼‚å¸¸ã€‚Haskellé»˜è®¤æ˜¯æ‡’æƒ°æ±‚å€¼ï¼Œä¹Ÿå°±æ˜¯çœŸæ­£éœ€è¦å€¼çš„æ—¶å€™æ‰ä¼šå»æ±‚ï¼ˆæ¯”å¦‚è¯´è¦è¾“å‡ºçš„æ—¶å€™ï¼‰ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, undefined, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, undefined] !! </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; sum [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, undefined, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, undefined]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Prelude.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">undefined</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯ä»¥çœ‹åˆ°åˆ—è¡¨ä¸­å…ƒç´ çš„æ±‚å€¼æ—¶æ‡’æƒ°çš„ï¼Œä¸‹æ ‡ä¸º<code>5</code>çš„å…ƒç´ å–å‡ºæ—¶ï¼Œä¸‹æ ‡ä¸º<code>4</code>çš„å…ƒç´ å¹¶æ²¡æœ‰è¢«æ±‚å€¼ã€‚</li><li><code>newtype</code>è¿˜æœ‰ä¸€ä¸ªé‡è¦ç‰¹ç‚¹å°±æ˜¯å…¶å¯¹å­—æ®µæ±‚å€¼å…·æœ‰æ‡’æƒ°ç‰¹æ€§ï¼Œè€Œ<code>data</code>åˆ™æ²¡æœ‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> NewBool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">NewBool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getNewBool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helloBool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">NewBool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">helloBool (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">NewBool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _) = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; helloBool undefined</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Prelude.undefined</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> NewBool&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">NewBool&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getNewBool&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">helloBool&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">NewBool&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">helloBool&#39; (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">NewBool&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _) = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; helloBool&#39; undefined</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>èƒ½åšåˆ°è¿™ä¸€ç‚¹çš„åŸå› å’Œå‰é¢èƒ½å°†åŒ…è£…å’Œè§£åŒ…ä¼˜åŒ–æ‰çš„åŸå› ä¸€æ ·ï¼Œ<code>newtype</code>åªèƒ½æœ‰ä¸€ä¸ªå€¼æ„é€ å™¨å’Œä¸€ä¸ªå­—æ®µï¼Œåœ¨æ¨¡å¼åŒ¹é…æ—¶ä¸éœ€è¦è®¡ç®—æ•°æ®çš„å€¼å°±èƒ½çŸ¥é“å½¢å¼ä¸€å®šæ˜¯åŒ¹é…çš„ã€‚</li><li><code>newtype</code>å®šä¹‰ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ï¼Œä½†é™¤äº†ä»ç›’å­ä¸­å–ä¸œè¥¿ä¹‹å¤–ï¼Œæ›´åƒæ˜¯å°†ä¸€ä¸ªç±»å‹è½¬æ¢ä¸ºå¦ä¸€ä¸ªç±»å‹ã€‚</li></ul><p><code>type data newtype</code>å¯¹æ¯”ï¼š</p><ul><li><code>type</code>å®šä¹‰ç±»å‹åˆ«åï¼Œå¹¶ä¸å®šä¹‰æ–°ç±»å‹ï¼Œåªæ˜¯ç»™ä¸€ä¸ªç°æœ‰ç±»å‹èµ·ä¸€ä¸ªæ–°åå­—ã€‚å®šä¹‰åˆ«åçš„ä½œç”¨æ›´å¤šæ˜¯å¢åŠ å¯è¯»æ€§ï¼Œä½¿lç±»å‹ç­¾åæ›´æ¸…æ™°ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- type &amp; data &amp; newtype</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; :t PhoneBook</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">PhoneBook :: PersonName -&gt; PhoneNumber -&gt; PhoneBook</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> PersonName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> PhoneNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> PhoneBook</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">PhoneBook</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> PersonName</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> PhoneNumber</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>data</code>å°±æ˜¯æœ€æ™®é€šæœ€å¸¸è§çš„ç±»å‹å®šä¹‰ï¼Œå®šä¹‰ä¸€ä¸ªå…¨æ–°çš„ç±»å‹ã€‚</li><li>å½“æ–°ç±»å‹åªæœ‰ä¸€ä¸ªå€¼æ„é€ å™¨å’Œä¸€ä¸ªå­—æ®µæ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>newtype</code>ï¼Œå¯ä»¥è·å¾—<code>newtype</code>çš„ä¼˜åŒ–ï¼ŒåŒæ—¶å’Œ<code>data</code>å®šä¹‰çš„ç±»å‹å«ä¹‰å·®ä¸å¤šï¼Œåªæœ‰æ‡’æƒ°æ±‚å€¼çš„ç‰¹ç‚¹ä¼šæœ‰åŒºåˆ«ã€‚æ³¨æ„å’Œ<code>data</code>ä¸€æ ·ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨æ´¾ç”Ÿå†…éƒ¨åŒ…è£…çš„ç±»å‹çš„åŸºç±»ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ <code>deriving</code>æˆ–è€…å®ç°<code>instance</code>ã€‚</li></ul><h3 id="monoid" tabindex="-1"><a class="header-anchor" href="#monoid"><span>Monoid</span></a></h3><p>Monoidè¿™ä¸ªå•è¯çš„æ„æ€æ˜¯<strong>å¹ºåŠç¾¤</strong>ï¼Œ<strong>åŠç¾¤</strong>åˆ™æ˜¯Semigroupã€‚è‡³äºå®šä¹‰æ˜¯ä»€ä¹ˆï¼Œæš‚æ—¶æœªçŸ¥ï¼Œåç»­å†è§£é‡Šã€‚</p><p>å‰é¢æ‰€è¯´çš„ç±»å‹ç±»å®šä¹‰å¤šç§ç±»å‹æ‹¥æœ‰çš„å…±åŒå±æ€§ï¼Œæ¯”å¦‚<code>Eq</code>ï¼Œå¯ä»¥åˆ¤æ–­ç›¸ç­‰çš„ç±»å‹éƒ½åº”è¯¥å®ç°ä¸º<code>Eq</code>çš„å®ä¾‹ã€‚</p><p>è®©æˆ‘ä»¬å°†è¿™ç§æŠ½è±¡æ”¾åˆ°å‡½æ•°è€Œä¸ä»…é™äº<code>data newtype</code>å®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œè¿™é‡Œè€ƒè™‘å‡½æ•°<code>*</code>å’Œ<code>+</code>çš„å…±åŒç‰¹æ€§ï¼š</p><ul><li>éƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°å’Œè¿”å›å€¼ç±»å‹ç›¸åŒã€‚</li><li>å­˜åœ¨æŸäº›å€¼å½“åº”ç”¨äºäºŒå…ƒå‡½æ•°æ—¶ä¸ä¼šæ”¹å˜å…¶ä»–å€¼ï¼Œ1å¯¹äº<code>*</code>ï¼Œ0å¯¹äº<code>+</code>ã€‚</li><li>éƒ½æ»¡è¶³ç»“åˆå¾‹ï¼ˆassociativityï¼‰ï¼Œ<code>5*(3*4) = 5*3*4</code>ã€‚</li></ul><p>å°†è¿™äº›æ€§è´¨æŠ½è±¡å…·ä½“åœ°å†™å‡ºæ¥ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ª<code>Monoid</code>ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Constraint</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Semigroup</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  mempty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  mappend</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  mconcat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  mconcat = foldr mappend mempty</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {-# </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">MINIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> mempty #-}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  	-- Defined in â€˜GHC.Baseâ€™</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ˜¯ä¸€ä¸ªç±»å‹ç±»ï¼Œä»<code>Semigroup</code>æ´¾ç”Ÿã€‚</li><li>å…¶ä¸­<code>mempty</code>å°±æ˜¯é‚£ä¸ªç›¸å¯¹äºäºŒå…ƒå‡½æ•°ä½œä¸ºIdentityçš„å€¼ï¼Œæ˜¯ä¸€ä¸ªå¤šæ€çš„å¸¸æ•°ï¼Œ<code>mappend</code>åˆ™æ˜¯è¿™ä¸ªäºŒå…ƒå‡½æ•°ï¼Œ<code>mconcat</code>å¯¹ä¸€ä¸ªåˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ åš<code>mappend</code>ï¼ˆæ»¡è¶³ç»“åˆå¾‹ï¼‰ã€‚</li><li>å®ç°ä¸€ä¸ª<code>Monoid</code>å®ä¾‹æ—¶ï¼Œä¸€èˆ¬å®ç°<code>mempty mappend</code>å°±è¡Œï¼Œ<code>mconcat</code>å®šä¹‰éƒ½æ²¡æœ‰é—®é¢˜ï¼Œä¸è¿‡åœ¨æŸäº›æƒ…å†µä¸‹æ¯”å¦‚å¯ä»¥æä¾›æ›´é«˜æ•ˆçš„å®ç°ï¼Œä¾ç„¶å¯ä»¥å®ç°<code>mconcat</code>ã€‚</li></ul><p><code>Monoid</code>ç±»å‹ç±»çš„å®šå¾‹ï¼ˆMonoid Lawï¼‰ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mempty `mappend` x = x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x `mappend` mempty = x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(x `mappend` y) `mappend` z = x `mappend` (y `mappend` z)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å³æ˜¯ä¸å•ä½å…ƒï¼ˆIdentityï¼Œæš‚ä¸”è¿™ä¹ˆç¿»è¯‘ï¼‰çš„è¿ç®—ç»“æœè¿˜æ˜¯è‡ªå·±ï¼Œå’Œæ»¡è¶³ç»“åˆå¾‹ã€‚</li><li>Haskellä¸ä¼šæ£€æŸ¥è¿™äº›å®šå¾‹æ˜¯å¦è¢«éµå®ˆï¼Œå°†ç±»å‹å®ç°ä¸º<code>Monoid</code>æ—¶éœ€è¦è‡ªå·±å°å¿ƒåœ°æ£€æŸ¥ä»–ä»¬ã€‚</li><li>å€¼å¾—æ³¨æ„<code>a `mappend` b</code>å’Œ<code>b `mappend` a</code>å¹¶ä¸éœ€è¦ç›¸ç­‰ã€‚äº¤æ¢å¾‹å¹¶ä¸è¦æ±‚è¢«æ»¡è¶³ï¼Œ<code>+ *</code>æ»¡è¶³è¿™ä¸€ç‚¹è¿™æ˜¯ä»–ä»¬è‡ªå·±çš„æ€§è´¨ã€‚</li></ul><p>å†…ç½®çš„å®ç°äº†<code>Monoid</code>çš„ç±»å‹ï¼š</p><ul><li>åˆ—è¡¨ï¼šå¯¹äºåˆ—è¡¨è€Œè¨€ï¼Œ<code>mconcat</code>å°±æ˜¯<code>concat</code>ï¼Œè¿™ä¸ªäºŒå…ƒè¿ç®—å°±æ˜¯<code>++</code>æ“ä½œã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mappend = (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; mempty :: [a]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; [1, 2] `mappend` [3, 4]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[1,2,3,4]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; mconcat [[1, 2], [3, 4], [5, 6, 7]]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[1,2,3,4,5,6,7]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Product Sum</code>ï¼Œå¯¹äºæ•´æ•°æµ®ç‚¹æ•°<code>+ *</code>éƒ½æ»¡è¶³Monoid Lawï¼Œé‚£ä¹ˆå¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä¸åšé€‰æ‹©ï¼Œ<code>Data.Monoid</code>å¯¼å‡ºäº†ä¸¤ä¸ªç±»å‹<code>Product a/Sum a</code>ï¼Œéƒ½æ˜¯ç”¨<code>newtype</code>å®šä¹‰çš„ï¼Œå®ç°äº†å¸¸è§çš„<code>Num Show Read Eq Ord </code>ç­‰ç±»å‹ç±»ï¼Œå¯ä»¥ç”¨å…¶æ¥<strong>åŒ…è£…</strong><code>Num</code>å®ä¾‹ç±»å‹çš„æ•°æ®ã€‚<code>Product a/Sum a</code>çš„<code>Monoid</code>å®ç°ä¸­åˆ†åˆ«å®šä¹‰äº†<code>mappend</code>ä¸º<code>*/+</code>ã€‚ä½¿ç”¨æ—¶é€‰æ‹©è¦ç”¨å“ªä¸€ä¸ªæ¥åŒ…è£…ï¼Œè€Œæ›´ä¸€èˆ¬çš„<code>Num</code>åˆ™æ²¡æœ‰ä»<code>Monoid</code>æ´¾ç”Ÿã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Product</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Product</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getProduct</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    -- Defined in â€˜Data.Semigroup.Internalâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    ...</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Product</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Product</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Product</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x `mappend` </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Product</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> y = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Product</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (x * y)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Sum</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getSum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    -- Defined in â€˜Data.Semigroup.Internalâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    ...</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x `mappend` </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> y = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (x + y)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; getSum . mconcat . map Sum $ [1, 2, 3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">6</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; getProduct . mconcat . map Product $ [1, 10, 100]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">1000</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äº<code>Bool</code>ç±»å‹ï¼Œ<code>&amp;&amp; ||</code>è¿ç®—ç¬¦éƒ½æ»¡è¶³<code>Monoid</code>çš„è§„åˆ™ï¼Œæ‰€ä»¥å®šä¹‰äº†ä¸¤ä¸ªåŒ…è£…ç±»å‹<code>Any All</code>ï¼Œå®ç°å°±ç±»ä¼¼äºä¸‹é¢è¿™æ ·ï¼Œç”¨æ³•ç±»ä¼¼ï¼ŒåŒ…è£…å°±è¡Œï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getAny</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Any</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Any</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> False</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x `mappend` </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> y = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Any</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (x || y)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> All</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">All</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getAll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> All</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">All</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> True</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        All</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x `mappend` </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">All</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> y = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">All</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (x &amp;&amp; y)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; getAll . mconcat . map All $ [True, True, False]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; getAny . mconcat . map Any $ [False, False, True]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Ordering</code>ç±»å‹æ˜¯æ¯”è¾ƒçš„ç»“æœï¼Œä¹Ÿæ˜¯<code>Monoid</code>çš„å®ä¾‹ã€‚å®ç°éå¸¸ç¬¦åˆç›´è§‰ï¼Œè¿™ä¸ªå®ç°çš„å«ä¹‰å°±æ˜¯ï¼šå¯¹äºåˆ—è¡¨æ¥è¯´ï¼Œåœ¨è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå·¦è¾¹çš„å…ƒç´ ä¼˜å…ˆçº§æ›´é«˜ï¼Œå¦‚æœå·¦è¾¹å°äº/å¤§äºï¼Œé‚£ä¹ˆæœ€ç»ˆç»“æœå°±æ˜¯å°äº/å¤§äºï¼Œå·¦è¾¹å…ƒç´ ç›¸ç­‰é‚£ä¹ˆç»§ç»­æ¯”è¾ƒåç»­å…ƒç´ ã€‚Monoid Lawéƒ½æ˜¯æ»¡è¶³çš„ã€‚è¿™ä¸ª<code>Monoid</code>ä¼šç”¨äºä»€ä¹ˆåœºåˆå‘¢ï¼Ÿå¯ä»¥ç”¨äºæœ‰å¤šä¸ªæ¯”è¾ƒå› ç´ æ—¶ï¼Œç”¨<code>mappend</code>æˆ–è€…<code>mconcat</code>è¿æ¥èµ·æ¥æ„æˆæœ€ç»ˆçš„å…³ç³»ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Ordering</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">GT</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Ordering</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EQ</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    LT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `mappend` _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LT</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    EQ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `mappend` y = y</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    GT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `mappend` _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">GT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- usage</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lengthCompare</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ordering</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">lengthCompare x y = (length x `compare` length y) `mappend` (x `compare` y)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- just write as an example, not necessary</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lengthCompare&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ordering</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">lengthCompare&#39; x y = mconcat $ [compare `on` length, compare, compare `on` map toUpper] &lt;*&gt; [x] &lt;*&gt; [y]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; lengthCompare &quot;hello&quot; &quot;world&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">LT</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; lengthCompare &quot;hello1&quot; &quot;world&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">GT</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; lengthCompare&#39; &quot;hello&quot; &quot;world&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">LT</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; mconcat (zipWith compare &quot;abcd&quot; &quot;abce&quot;)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">LT</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Maybe a</code>ç±»å‹åŒ…è£…ä¸€ä¸ªæ•°æ®ï¼Œå¦‚æœè¿™ä¸ªæ•°æ®çš„ç±»å‹<code>a</code>æ˜¯<code>Monoid</code>ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥å°†<code>Maybe a</code>å®ç°ä¸º<code>Monoid</code>:</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `mappend` m = m  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    m `mappend` </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = m  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m1 `mappend` </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m2 = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (m1 `mappend` m2)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Nothing `mappend` Just &quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just &quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Just &quot;hello&quot; `mappend` Nothing</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just &quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Just &quot;hello&quot; `mappend` Just &quot;world&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just &quot;helloworld&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>First a / Last a</code>ï¼Œ<code>Maybe a</code>é™¤äº†åŒ…è£…å…¶ä¸­çš„<code>Monoid</code>è¿™ç§å®ç°æ–¹å¼è¿˜å¯ä»¥æœ‰å…¶ä»–å®ç°ã€‚å¦‚æœå…¶ä¸­çš„æ•°æ®ç±»å‹ä¸æ˜¯<code>Monoid</code>ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å°†<code>mappend</code>å®ç°ä¸ºä¸¢å¼ƒå…¶ä¸­æŸä¸ªæ•°æ®ï¼Œç•™ä¸‹å‰è€…æˆ–è€…åè€…ï¼Œç•™ä¸‹å‰è€…åˆ™æ˜¯<code>First a</code>ï¼Œåè€…åˆ™æ˜¯<code>Last a</code>ï¼Œå½“ç„¶å¦‚æœå…¶ä¸­æœ‰<code>Nothing</code>é‚£ä¼šä¼˜å…ˆç•™ä¸‹é<code>Nothing</code>çš„å€¼ã€‚<code>Maybe a</code>å·²ç»æœ‰äº†å®ç°ï¼Œä»–ä»¬éƒ½æ˜¯<code>Maybe a</code>çš„åŒ…è£…ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> First</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">First</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getFirst</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">First</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">First</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    First</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x) `mappend` _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">First</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x)  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    First</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `mappend` x = x</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- First a &amp; Last a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; mempty :: First a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">First {getFirst = Nothing}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; First Nothing `mappend` First (Just 1)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">First {getFirst = Just 1}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; First (Just 1) `mappend` First Nothing</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">First {getFirst = Just 1}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; First (Just 1) `mappend` First (Just 2)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">First {getFirst = Just 1}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; mempty :: Last a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Last {getLast = Nothing}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Last Nothing `mappend` Last (Just 1)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Last {getLast = Just 1}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>foldl foldr</code>å¯ä»¥ç”¨æ¥æŠ˜å <code>Foldable</code>ï¼Œ<code>[a]</code>ä¹Ÿæ˜¯ä¸€ç§<code>Foldable</code>ï¼Œå‰é¢å¤šç”¨äºæŠ˜å <code>[a]</code>ï¼Œå…¶å®è¿˜å¯ä»¥ç”¨äºå…¶ä»–å®ç°äº†<code>Foldable</code>çš„æ•°æ®ç±»å‹ã€‚æ³¨æ„å…¶ä¸­çš„<code>fold foldMap foldMap&#39;</code>æ–¹æ³•ï¼Œä»–ä»¬ä¼šä½¿ç”¨<code>Monoid</code>çš„<code>mappend</code>æ–¹æ³•è¿›è¡ŒæŠ˜å ï¼Œå¯ä»¥æ˜¯æ•°æ®æœ¬æ¥å°±æ˜¯<code>Monoid</code>ï¼Œä¹Ÿå¯ä»¥æ˜¯ä½¿ç”¨ä¼ å…¥å‡½æ•°å°†æ•°æ®è½¬æ¢ä¸º<code>Monoid</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Constraint</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  fold</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  foldMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  foldMap&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  foldr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  foldr&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  foldl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  foldl&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  foldr1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  foldl1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  toList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  maximum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  minimum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ord</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  product</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {-# </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">MINIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> foldMap | foldr #-}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  	-- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Const</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜Data.Functor.Constâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Sum</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Product</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Last</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> First</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Either</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Dual</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Ap</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Alt</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜Data.Foldableâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> ZipList</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜Control.Applicativeâ€™</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>äºŒå‰æ ‘çš„<code>Foldable</code>å®ç°ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Foldable</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Tree</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    foldMap f </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = mempty</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    foldMap f (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l r) = foldMap f l `mappend` f x `mappend` foldMap f r</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">testTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Integer</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">testTree = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 9</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">TreeNode</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> EmptyTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; foldl (+) 0 testTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">42</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; foldr (*) 1 testTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">64800</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; foldMap (\x -&gt; [x]) testTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[1,3,6,5,8,9,10]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; getAny $ foldMap (\x -&gt; Any $ x &gt; 10) testTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; getAll $ foldMap (\x -&gt; All $ x &gt; 5) testTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="monad" tabindex="-1"><a class="header-anchor" href="#monad"><span>Monad</span></a></h2><p><code>Functor</code>å‡½å­ä»£è¡¨å¯ä»¥è¢«æ˜ å°„ï¼ˆä½¿ç”¨<code>fmap</code>ï¼‰çš„å€¼ï¼Œå°†æ¦‚å¿µæå‡åˆ°<code>Applicative</code>åº”ç”¨å‡½å­ï¼Œä»£è¡¨ä¸€ç§å…·æœ‰ä¸Šä¸‹æ–‡çš„ç±»å‹ï¼Œå¯ä»¥ç”¨å‡½æ•°æ“ä½œåŒæ—¶ä¿æœ‰å…¶ä¸Šä¸‹æ–‡ï¼ˆè¿™é‡Œçš„ä¸Šä¸‹æ–‡å¯ä»¥é€šè¿‡<code>Applicative</code>å°†å€¼åŒ…äº†èµ·æ¥ï¼Œå€¼çš„è¿™ä¸€å±‚åŒ…è£¹å°±å«åšä¸Šä¸‹æ–‡è¿™ç§è¯´æ³•æ¥ç†è§£ï¼‰ã€‚</p><p>æ³¨æ„è¯´æ³•ä¸Šçš„ç»†å¾®å·®åˆ«ï¼Œ<code>Functor</code>ä¸€èˆ¬ç§°å…¶èƒ½è¢«map overï¼Œæå‡åˆ°<code>Applicative</code>æ—¶æ‰è¯´å…¶å…·æœ‰ä¸Šä¸‹æ–‡ï¼Œä¸€ä¸ªApplicative valueå¯ä»¥è¢«çœ‹åšä¸€ä¸ªé™„åŠ äº†ä¸Šä¸‹æ–‡çš„å€¼ï¼Œ<code>pure</code>åŒ…è£…å°±æ˜¯ç”¨æ¥ç»™å…¶é™„åŠ ä¸Šä¸‹æ–‡çš„ã€‚ç„¶åä½¿ç”¨<code>&lt;$&gt; &lt;*&gt;</code>å°±å¯ä»¥ç”¨æ™®é€šå‡½æ•°æˆ–è€…å…·æœ‰ä¸Šä¸‹æ–‡çš„å‡½æ•°æ“ä½œå…·æœ‰ä¸Šä¸‹æ–‡çš„å€¼ï¼ŒåŒæ—¶ä¿æœ‰ä¸Šä¸‹æ–‡åˆ°ç»“æœä¸­ã€‚</p><p>ç„¶åå¯¹äºç‰¹å®šçš„<code>Applicative</code>ï¼Œä¸Šä¸‹æ–‡å«ä¹‰ä¸åŒï¼Œ<code>Maybe a</code>ä»£è¡¨å¯èƒ½å¤±è´¥çš„è®¡ç®—ï¼Œ<code>[a]</code>ä»£è¡¨åŒæ—¶æœ‰å¤šç§ç»“æœçš„è®¡ç®—ï¼ˆnon-deterministicï¼‰ï¼Œè€Œ<code>IO a</code>ä»£è¡¨æœ‰å‰¯ä½œç”¨çš„è®¡ç®—ã€‚</p><p>ç°åœ¨ä¸€ä¸ªæ–°çš„é—®é¢˜æ˜¯å¦‚æœæœ‰ä¸€ä¸ªå…·æœ‰ä¸Šä¸‹æ–‡çš„å€¼<code>m a</code>ï¼Œå’Œä¸€ä¸ªæ¥å—æ™®é€šå€¼è¿”å›å…·æœ‰ä¸Šä¸‹æ–‡çš„å€¼çš„å‡½æ•°<code>a -&gt; m b</code>ï¼Œå¦‚ä½•å°†å‡½æ•°<code>a -&gt; m b</code>åº”ç”¨äºå€¼<code>m a</code>ä¸Šå¾—åˆ°å…·æœ‰ä¸Šä¸‹æ–‡çš„å€¼<code>m b</code>ã€‚ä¸ºæ­¤å®šä¹‰æ–°çš„ç±»å‹ç±»<code>Monad</code>ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Constraint</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  (&gt;&gt;=)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  (&gt;&gt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {-# </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">MINIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (&gt;&gt;=) #-}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  	-- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Either</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜Data.Eitherâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IO</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">(,)</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Defined in â€˜GHC.Baseâ€™</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­çš„<code>(&gt;&gt;=) :: Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b</code>å³æ˜¯æˆ‘ä»¬è¦çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ç§°å‘¼ä¸ºbindã€‚</p><p><code>Monad</code>ä¸­æ–‡åˆ™ç¿»è¯‘ä¸º<strong>å•å­</strong>ï¼Œä¹Ÿå°±æ˜¯å¼€å¤´æ‰€è¯´çš„å•å­æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤çš„é‚£ä¸ªå•å­ã€‚</p><h3 id="monadç±»å‹ç±»" tabindex="-1"><a class="header-anchor" href="#monadç±»å‹ç±»"><span>Monadç±»å‹ç±»</span></a></h3><p><code>Monad</code>æ˜¯<code>Applicative</code>çš„å­ç±»å‹ç±»ï¼Œæ‰€ä»¥ä¸€ä¸ª<code>Monad</code>å•å­ä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨å‡½å­ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªå‡½å­ã€‚å¯¹äºå…·ä½“çš„å•å­å®ä¾‹ç±»å‹è€Œè¨€ï¼Œå®ç°<code>Monad</code>å®ä¾‹æ—¶å¿…é¡»è¦è€ƒè™‘å…¶ä¸Šä¸‹æ–‡çš„å«ä¹‰ã€‚</p><p>æ—©æœŸçš„<code>Monad</code>ç±»å‹ç±»å®šä¹‰çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    (&gt;&gt;=)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    (&gt;&gt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    x &gt;&gt; y = x &gt;&gt;= \_ -&gt; y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    fail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fail msg = error msg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œå¹¶æ²¡æœ‰å°†<code>Applicative</code>åŠ åˆ°<code>m</code>çš„ç±»å‹çº¦æŸä¸­ï¼Œå®é™…ä¸Šæ˜¯æœ‰çš„ï¼Œè¿™é‡Œæ²¡æœ‰å†™å‡ºæ¥ã€‚åœ¨Haskellæ—©æœŸï¼Œäººä»¬æ²¡æœ‰æƒ³åˆ°åº”ç”¨å‡½å­é€‚åˆè¢«æ”¾è¿›è¯­è¨€ä¸­ï¼Œé‚£æ—¶æš‚æ—¶è¿˜æ²¡æœ‰çº¦æŸã€‚ä½†ç¡®å®æ¯ä¸ª<code>Monad</code>éƒ½æ˜¯åº”ç”¨å‡½å­ï¼Œå³ä¾¿æ²¡æœ‰è¿™ä¹ˆå£°æ˜ã€‚</li><li><code>return</code>å‡½æ•°å°±åƒ<code>Applicative</code>çš„<code>pure</code>ï¼Œåšä¸€æ ·çš„äº‹æƒ…ï¼Œç±»å‹æ˜¯<code>return :: Monad m =&gt; a -&gt; m a</code>ï¼Œæ¥å—æ™®é€šå€¼å¹¶å°†å…¶æ”¾åœ¨æœ€å°çš„ä¸Šä¸‹æ–‡ä¸­ã€‚åœ¨ä»‹ç»<code>IO</code>æ—¶å·²ç»é‡åˆ°è¿‡ï¼Œå†æ¬¡æé†’<code>return</code>å¹¶ä¸è¡¨ç¤ºå‡½æ•°è¿”å›ï¼Œä¸æ”¹å˜ä»»ä½•å‡½æ•°çš„æ‰§è¡Œæµç¨‹ï¼ˆå†µä¸”Haskellä¸­å‡½æ•°å¹¶éæ‰§è¡Œæµç¨‹è€Œæ˜¯æ•°æ®çš„å˜æ¢ï¼‰ï¼Œåªæ˜¯å°†å€¼åšåŒ…è£…ã€‚</li><li>ç°åœ¨<code>fail :: MonadFail m =&gt; String -&gt; m a</code>å‡½æ•°ä¸åœ¨<code>Monad</code>ä¸­ï¼Œè€Œæ˜¯<code>Monad</code>çš„å­ç±»å‹ç±»<code>MonadFail</code>ä¸­ã€‚è¢«ç”¨åœ¨å¤„ç†Haskellé”™è¯¯è¯­æ³•çš„æƒ…å†µï¼Œå½“å‰ä¸ç”¨åœ¨æ„ã€‚</li><li><code>&gt;&gt;</code>å·²ç»æœ‰äº†é»˜è®¤å®ç°ï¼Œä¸€èˆ¬æƒ…å†µæˆ‘ä»¬ä¸ä¼šéœ€è¦å»è€ƒè™‘è¦†å†™å®ƒã€‚</li></ul><p><code>Maybe</code>çš„å®ç°ï¼š</p><ul><li><code>Maybe a</code>åŒæ ·ä¹Ÿæ˜¯å•å­ã€‚</li><li>å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return x = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= f = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x &gt;&gt;= f  = f x  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fail _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; return </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\x -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\x -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ x * x)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="monadåº”ç”¨" tabindex="-1"><a class="header-anchor" href="#monadåº”ç”¨"><span>Monadåº”ç”¨</span></a></h3><p>ä¸€ä¸ªä½¿ç”¨<code>Maybe</code>è¡¨ç¤ºå¯èƒ½å¤±è´¥çš„ä¸Šä¸‹æ–‡çš„ä¾‹å­ï¼Œæ¥è‡ªHaskellè¶£å­¦æŒ‡å—ï¼š</p><ul><li>å¤§æ„æ˜¯ä¸€ä¸ªäººåœ¨èµ°é’¢ä¸ï¼Œæ‹¿ç€ä¸€æ ¹é•¿ç«¿ï¼Œè¿™æ ¹ç«¿ä¸¤ç«¯ä¼šä¸æ—¶éšæœºé£æ¥ä¸€äº›é¸Ÿåœåœ¨è¿™é‡Œæˆ–è€…éšæœºé£èµ°ï¼Œå½“ä¸¤è¾¹é¸Ÿçš„æ•°é‡å·®è¾¾åˆ°3æ—¶ï¼Œè¿™ä¸ªäººå°±ä¼šæ‰ä¸‹å»ã€‚</li><li>æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œå¾—åˆ°æœ€ç»ˆç»“æœï¼Œå¦‚æœæ‰ä¸‹å»äº†é‚£ä¹ˆå°±è¡¨ç¤ºå·²ç»å¤±è´¥äº†ï¼Œä¸ä¼šæœ‰é¸Ÿåœ¨é£è¿‡æ¥ï¼Œç”¨<code>Maybe</code>æ¥è¡¨ç¤ºå¾ˆåˆç†ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Birds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Pole</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Birds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Birds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">landLeft</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Birds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Pole</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Pole</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">landLeft n (left, right)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | abs (left + n - right) &lt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (left + n, right)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">landRight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Birds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Pole</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Pole</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">landRight n (left, right)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | abs (right + n - left) &lt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (left, right + n)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æœ€åæ•´ä¸ªæ¨¡æ‹Ÿè¿‡ç¨‹çš„è°ƒç”¨é“¾æ¡ä¸­ï¼Œä¸Šä¸€æ­¥è¾“å‡ºæ˜¯<code>Maybe Pole</code>ï¼Œè€Œä¸‹ä¸€æ­¥çš„è¦æ±‚è¾“å…¥æ˜¯<code>Pole</code>ï¼Œä½¿ç”¨<code>Maybe</code>çš„<code>Monad</code>ç‰¹æ€§ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>&gt;&gt;=</code>è¿æ¥èµ·æ¥ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Pole</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Pole</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &gt;&gt;= landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= landRight </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= landRight </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &gt;&gt;= landRight </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= landRight </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; return (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) &gt;&gt;= landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= landRight </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= landRight </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å°†åˆå€¼ç”¨<code>return</code>å‡½æ•°é™„åŠ äº†ä¸Šä¸‹æ–‡ä¹‹åä¹Ÿå¯ä»¥åŠ åˆ°è°ƒç”¨é“¾æ¡ä¸­ã€‚</li></ul><p>ä½¿ç”¨<code>&gt;&gt;=</code>ä¸ºæˆ‘ä»¬çœå»äº†æ£€æŸ¥ä¸Šä¸€æ­¥ç»“æœçš„ç¹çæ­¥éª¤ï¼Œ<code>Maybe</code>çš„å®ç°å«ä¹‰å°±æ˜¯é‡åˆ°<code>Nothing</code>å°±è¿”å›<code>Nothing</code>ï¼Œä¸€ç›´éƒ½æ˜¯æœ‰æ•ˆå€¼å°±æŒç»­åœ°ç”¨<code>Just</code>è¿›è¡Œä¼ é€’ã€‚</p><p>å†çœ‹ä¸€ä¸‹<code>&gt;&gt;</code>è¿ç®—ç¬¦ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x &gt;&gt; y = x &gt;&gt;= \_ -&gt; y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å’Œ<code>&gt;&gt;=</code>å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯å®ƒä¼šè°ƒç”¨<code>&gt;&gt;=</code>ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°çš„å‡½æ•°ä¸è€ƒè™‘å‚æ•°å¹¶ç›´æ¥è¿”å›<code>&gt;&gt;</code>çš„ç¬¬äºŒä¸ªå‚æ•°å€¼ã€‚</li><li>ä¹Ÿå°±æ˜¯è¯´<code>&gt;&gt;</code>åšå’Œ<code>&gt;&gt;=</code>ç±»ä¼¼çš„äº‹æƒ…ï¼Œä½†ä¸ä¼ é€’å‚æ•°ï¼Œè€Œæ˜¯ä¿ç•™æœ€åä¸€ä¸ªæœ‰æ•ˆçš„ç»“æœã€‚</li><li>å¯¹äº<code>Maybe</code>æ¥è¯´ï¼ŒåŒ…å«å¯èƒ½å¤±è´¥çš„ä¸Šä¸‹æ–‡è¯­ä¹‰ï¼Œå…·ä½“å«ä¹‰å°±æ˜¯å¦‚æœä¸­é€”æŸä¸€æ­¥å¤±è´¥ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯<code>Nothing</code>ï¼Œå¦‚æœæ¯ä¸€æ­¥éƒ½æˆåŠŸï¼Œé‚£ä¹ˆæœ€ç»ˆç»“æœå°±æ˜¯æœ€åä¸€æ­¥çš„ç»“æœã€‚ä¸­é—´çš„ç»“æœä¸ä¼šè¢«ä¼ é€’ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&gt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(&gt;&gt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="doè¡¨ç¤ºæ³•" tabindex="-1"><a class="header-anchor" href="#doè¡¨ç¤ºæ³•"><span>doè¡¨ç¤ºæ³•</span></a></h3><p>ä»‹ç»IOæ—¶è¯´è¿‡äº†<code>do</code>è¡¨ç¤ºæ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œä½†å¹¶æœªæ­ç¤ºå®ƒçš„ç»†èŠ‚ã€‚å…¶å®<code>do</code>ä¸²è”å¤šä¸ª<code>IO</code>å¯¹è±¡çš„æœ¬è´¨å°±æ˜¯ä½¿ç”¨äº†<code>&gt;&gt;=</code>ã€‚</p><p>åœ¨å‰é¢æ‰€è¿°çš„è°ƒç”¨é“¾ä¸­ï¼Œå¦‚æœè¦æ’å…¥ä¸€äº›å…¶ä»–çš„å€¼ï¼ˆè¿™äº›å€¼ä¹Ÿå…·æœ‰ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦ä½¿ç”¨<code>&gt;&gt;=</code>ä¼ é€’ï¼‰ï¼Œæ¯”å¦‚æŸä¸ªå‡½æ•°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯<code>&gt;&gt;=</code>å‰é¢çš„å‚æ•°ï¼Œä¸€ä¸ªæ˜¯å¦ä¸€ä¸ªå…·æœ‰ä¸Šä¸‹æ–‡çš„å€¼ã€‚é‚£ä¹ˆå¯ä»¥ä½¿ç”¨lambdaï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\x -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\y -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (show x ++ y)))</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;3!&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\x -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\y -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (show x ++ y)))</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†ç¬¬ä¸€ä¸ªä¾‹å­å†™ä½œå¤šè¡Œï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">foo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">foo = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\x -&gt;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\y -&gt;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (show x ++ y)))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†ç®€åŒ–è¿™ç§å†™æ³•ï¼Œæ‘†è„±çƒ¦äººçš„lambdaï¼Œäºæ˜¯æœ‰äº†<code>do</code>è¡¨ç¤ºæ³•ï¼Œå°†<code>foo</code>å†™æˆç­‰ä»·çš„<code>do</code>è¡¨ç¤ºæ³•ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">foo&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">foo&#39; = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    x &lt;- </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    y &lt;- </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;!&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (show x ++ y)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; foo</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just &quot;3!&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; foo&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just &quot;3!&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¹Ÿè¯´æ˜äº†ä¸ºä»€ä¹ˆ<code>do</code>è¡¨è¾¾å¼ç»“æœæ˜¯æœ€åä¸€ä¸ªå¼å­çš„å€¼ï¼Œå®ƒä¸²è”çš„å‰é¢çš„æ‰€æœ‰ç»“æœï¼Œæ˜¯æœ€ç»ˆçš„ç»“æœã€‚</p><p>ç”¨<code>do</code>æ¥è¡¨ç¤ºä¸Šä¸€ä¸ªèµ°é’¢ä¸ä¾‹å­ä¸­çš„<code>return (0, 0) &gt;&gt;= landLeft 1 &gt;&gt;= landRight 3 &gt;&gt;= landLeft 2 &gt;&gt;= landRight 1</code>ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Maybe</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Pole</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">bar = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    start &lt;- return (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- let start = (0, 0)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    second &lt;- landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> start</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    third &lt;- landRight </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> second</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fourth &lt;- landLeft </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> third</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    landRight </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> fourth</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; bar</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just (3,4)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€»ç»“ï¼š</p><ul><li>å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœå…¶ä¸­æŸä¸€æ­¥éª¤æ²¡æœ‰ä½¿ç”¨<code>&lt;-</code>ï¼Œå…¶å®å°±æ˜¯ä½¿ç”¨<code>&gt;&gt;</code>è€Œä¸æ˜¯<code>&gt;&gt;=</code>ã€‚è¿™å¾ˆå¥½ç†è§£ã€‚</li><li><strong><code>do</code>è¡¨ç¤ºæ³•å°±æ˜¯<code>Monad</code>çš„<code>&gt;&gt;= &gt;&gt;</code>è¿ç®—ç¬¦å’Œlamdbaçš„è¯­æ³•ç³–</strong>ã€‚</li><li>åœ¨<code>&lt;-</code>å·¦ç«¯å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼Œå› ä¸ºæœ¬è´¨ä¸Šæ˜¯lambdaçš„å‚æ•°ï¼Œå‚æ•°å½“ç„¶æ˜¯å¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…çš„ã€‚</li><li>ä½¿ç”¨<code>&lt;-</code>çš„è¯­å¥ä¸èƒ½ä½œä¸ºæœ€åä¸€ä¸ªè¯­å¥ï¼Œå› ä¸ºæœ¬è´¨ä¸Šå®ƒåªå®šä¹‰äº†lambdaçš„å‚æ•°ï¼Œè¿˜æ²¡æœ‰å®šä¹‰å‡½æ•°ä½“ã€‚</li><li>éœ€è¦æ³¨æ„åœ¨æ¯ä¸€æ­¥è¿‡ç¨‹ä¸­ç»“æœç±»å‹éƒ½æ˜¯å¯ä»¥å‘ç”Ÿæ”¹å˜çš„ï¼Œå¹¶ä¸éœ€è¦å’Œ<code>&gt;&gt;=</code>çš„å‚æ•°ä¿æŒä¸€è‡´ï¼Œåªéœ€è¦æ¯ä¸€æ­¥è¾“å‡ºç±»å‹å’Œä¸‹ä¸€æ­¥è¾“å…¥ç±»å‹ä¸€è‡´ï¼Œå¹¶ä¸”æœ€ç»ˆç»“æœå’Œè¿”å›å€¼ç±»å‹ä¸€è‡´å³å¯ã€‚</li></ul><p>ä½¿ç”¨çš„é€‰æ‹©ï¼š</p><ul><li>å…·ä½“æ˜¯ä½¿ç”¨<code>&gt;&gt;= &gt;&gt;</code>è¿˜æ˜¯ç”¨<code>do</code>å…¶å®ä¸»è¦çœ‹ä¹ æƒ¯é—®é¢˜ã€‚ç­‰ä»·çš„æ€ä¹ˆé€‰éƒ½è¡Œã€‚</li><li>ä¸€èˆ¬æ¥è¯´å¦‚æœæ¯ä¸€æ­¥éƒ½åªä½¿ç”¨ï¼ˆç”šè‡³ä¸ä½¿ç”¨ï¼‰ä¸Šä¸€æ­¥çš„ç»“æœï¼Œå¹¶ä¸”è¿˜è¦æ˜¯ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ï¼ˆä¸ç„¶ä¼šéœ€è¦ä½¿ç”¨lambdaï¼‰ï¼Œæ²¡æœ‰é¢å¤–çš„å€¼çš„å‚ä¸ï¼Œé‚£ä¹ˆä½¿ç”¨<code>&gt;&gt;= &gt;&gt;</code>å°±å¯ä»¥å¾ˆæ¸…æ™°ã€‚ï¼ˆèµ°é’¢ä¸çš„ä¾‹å­ï¼‰</li><li>å¦‚æœæœ‰é¢å¤–çš„å€¼çš„å‚ä¸ï¼Œæˆ–è€…æŸä¸€æ­¥çš„å€¼å¹¶ä¸ä»…ä»…ç›´æ¥ç”¨äºä¸‹ä¸€æ­¥è€Œæ˜¯ç”¨åœ¨åé¢å‡ æ­¥ä¹‹åï¼Œæˆ–è€…ä½¿ç”¨çš„å€¼ä¸æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œæ”¹æˆ<code>do</code>ä¼šæ›´å¥½ä¸€äº›ã€‚ï¼ˆå„ç§å¤æ‚çš„IOåŠ¨ä½œï¼‰</li></ul><h3 id="monadå®ä¾‹" tabindex="-1"><a class="header-anchor" href="#monadå®ä¾‹"><span>Monadå®ä¾‹</span></a></h3><p>åˆ—è¡¨<code>[a]</code>ï¼š</p><ul><li>å°±åƒåº”ç”¨å‡½å­ä¸­è®¨è®ºçš„ï¼Œåˆ—è¡¨æä¾›äº†ä¸€ç§<strong>ä¸ç¡®å®šæ€§ï¼ˆNon-determinismï¼‰å«ä¹‰çš„ä¸Šä¸‹æ–‡</strong>ã€‚</li><li>å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return x = [x]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    xs &gt;&gt;= f = concat (map f xs)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    fail _ = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç›®å‰æ¥è¯´<code>fail</code>å®ç°åœ¨<code>MonadFail</code>ä¸­ï¼Œä¸ç”¨ç®¡ï¼Œ<code>return</code>åŒ<code>pure</code>æ¥å—ä¸€ä¸ªå€¼å°†å…¶æ”¾åˆ°æœ€å°çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</li><li><code>&gt;&gt;=</code>æä¾›äº†ç±»ä¼¼äº<code>&lt;*&gt;</code>çš„non-deterministicï¼ˆä¸ç¡®å®šï¼‰çš„è®¡ç®—ç»“æœã€‚<code>&gt;&gt;=</code>å°†<code>xs</code>ä¸­æ‰€æœ‰å‚æ•°åº”ç”¨äºå‡½æ•°<code>f</code>ä¹‹åå°†å¾—åˆ°çš„æ‰€æœ‰åˆ—è¡¨è¿æ¥èµ·æ¥ã€‚</li><li><code>&lt;*&gt;</code>çš„ä¸ç¡®å®šæ€§æ˜¯ç”±<code>&lt;*&gt;</code>è¿æ¥çš„å¤šä¸ªåˆ—è¡¨ç±»å‹å‚æ•°ä¸­å€¼çš„æ’åˆ—ï¼ˆå¤šå±‚å¾ªç¯ï¼‰å¯¼è‡´çš„ï¼Œè€Œ<code>&gt;&gt;=</code>åˆ™æ˜¯è¾“å…¥åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå€¼ï¼Œé€šè¿‡<code>a -&gt; [a]</code>çš„å‡½æ•°å˜æˆäº†å¤šä¸ªå€¼å¯¼è‡´çš„ï¼ˆæ¯ä¸€å±‚ä¸­ä¸€ä¸ªå€¼éƒ½ä¼šæ‰©å±•ä¸ºå¤šä¸ªå€¼ï¼‰ã€‚</li><li>ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt;= (\x -&gt; [x, -x]) &gt;&gt;= (\x -&gt; [(x, x * </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)])</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [(x, x * </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) | n &lt;- [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], x &lt;- [n, -n]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt;= (\x -&gt; [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;world&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt;= (\x -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœè¾“å…¥æˆ–è€…æŸä¸€æ­¥è¾“å‡ºæ˜¯ç©ºåˆ—è¡¨ï¼Œé‚£ä¹ˆè°ƒç”¨é“¾çš„æœ€ç»ˆç»“æœéƒ½ä¼šæ˜¯<code>[]</code>ï¼Œè¿™å°±åƒ<code>Maybe</code>çš„<code>Nothing</code>ï¼Œæ‰§è¡Œä»»ä½•<code>map f []</code>å¯¹äºä»»ä½•å‡½æ•°<code>f</code>ç»“æœéƒ½ä¼šæ˜¯ç©ºåˆ—è¡¨ã€‚</li><li>ç”¨<code>do</code>è¡¨ç¤ºæ³•æ”¹å†™ç¬¬ä¸€ä¸ªä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">listOfTuples</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ] -&gt; [(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">listOfTuples l = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    n &lt;- l</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    m &lt;- [n, -n]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return (m, m * </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; listOfTuples [1, 2, 3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[(1,10),(-1,-10),(2,20),(-2,-20),(3,30),(-3,-30)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸Šä¸€ä¸ªä¾‹å­ä¸­ä¸‹ä¸€æ­¥ç›´æ¥ä½¿ç”¨äº†ä¸Šä¸€æ­¥è¿”å›å€¼ï¼Œç»è¿‡å‡ æ­¥ä¹‹åå†ç”¨ä¹ŸåŒæ ·å¯ä»¥ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">listOfTuples&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">listOfTuples&#39; = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    n &lt;- [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ch &lt;- [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;b&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return (n,ch)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; listOfTuples&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[(1,&#39;a&#39;),(1,&#39;b&#39;),(2,&#39;a&#39;),(2,&#39;b&#39;)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; [(n, ch) | n &lt;- [1, 2], ch &lt;- [&#39;a&#39;, &#39;b&#39;]]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[(1,&#39;a&#39;),(1,&#39;b&#39;),(2,&#39;a&#39;),(2,&#39;b&#39;)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">listOfTuples&#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">listOfTuples&#39;&#39; = [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt;= (\n -&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;b&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt;= (\ch -&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                [(n, ch)]))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; listOfTuples&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[(1,&#39;a&#39;),(1,&#39;b&#39;),(2,&#39;a&#39;),(2,&#39;b&#39;)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®é™…ä½¿ç”¨æ—¶ï¼Œå…¶å®å°±è¡¨ç¤ºä¸€ç§Non-deterministicçš„ä¸Šä¸‹æ–‡ï¼Œç”¨<code>do</code>è¡¨ç¤ºæ³•äº¦å¯ã€‚</li><li>æˆ‘ä»¬ä¼šå‘ç°éƒ½å¯ä»¥ç­‰çº§ä¸ºå¯¹åº”çš„List Comprehensionï¼Œå…¶å®<strong>List Comprehensionå°±æ˜¯<code>&gt;&gt;=</code>å‡½æ•°åœ¨åˆ—è¡¨è¿™ä¸ª<code>Monad</code>ä¸Šçš„è¯­æ³•ç³–</strong>ã€‚åˆ—è¡¨ç”Ÿæˆå¼ä¸­ä¸éœ€è¦æœ€å<code>return</code>è€Œæ˜¯å°†æœ€ç»ˆåˆ—è¡¨ä¸­å…ƒç´ æ”¾åœ¨äº†<code>|</code>å‰ã€‚</li><li>æ— è®ºç”¨<code>do</code>è¡¨ç¤ºæ³•è¿˜æ˜¯List Comprehensionæœ€ç»ˆéƒ½ä¼šè½¬æ¢æˆ<code>&gt;&gt;=</code>æ¥è®¡ç®—ã€‚</li><li>åˆ—è¡¨ç”Ÿæˆå¼ä¸­å¯ä»¥å…è®¸æ¡ä»¶æ¥å¯¹ç»“æœè¿›è¡Œç­›é€‰ï¼Œè¿™ä¸€ç‚¹è¦æ€ä¹ˆåœ¨<code>&gt;&gt;=</code>ä¸²è”çš„å‡½æ•°è°ƒç”¨ä¸­è¦æ€ä¹ˆåšåˆ°å‘¢ï¼Ÿ <ul><li>å¯ä»¥è€ƒè™‘ä½¿ç”¨<code>Control.Monad</code>ä¸­çš„<code>guard</code>å‡½æ•°å’Œ<code>MonadPlus</code>å‡½æ•°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> MonadPlus</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Constraint</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Alternative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MonadPlus</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  mzero</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  mplus</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  	-- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> MonadPlus</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> MonadPlus</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Maybe</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> MonadPlus</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> IO</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- Defined in â€˜GHC.Baseâ€™</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> MonadPlus</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> []</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mzero = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  -- same as mempty in Monoid</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mplus = (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- same as mappend in Monoid</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- guard :: Alternative f =&gt; Bool -&gt; f () defined in Control.Monad</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">guard&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MonadPlus</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">guard&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = return </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> -- for [] return [()]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">guard&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = mzero </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- for [] return []</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>[]</code>åŒæ ·æ˜¯<code>MonadPlus</code>çš„å®ä¾‹ï¼Œ<code>MonadPlus</code>å‡½æ•°çš„<code>mzero mplus</code>å¯¹äºåˆ—è¡¨æ¥è¯´å°±æ˜¯<code>Monoid</code>çš„<code>mempty mappend</code>çš„åŒä¹‰è¯ï¼Œå®ç°ä¹Ÿä¸€æ ·ã€‚ç”¨åœ¨åˆ—è¡¨ä¸Šæ—¶<code>guard</code>å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯<code>[()]</code>ã€‚</li><li><code>guard</code>ä½¿ç”¨ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; guard (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: [</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; guard (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: [</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt; return </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;cool&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;cool&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; return </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;cool&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt; return </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;cool&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;cool&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;cool&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt;= (\x -&gt; guard (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;7&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `elem` show x) &gt;&gt; return x)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">37</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">47</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [x | x &lt;- [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;7&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `elem` show x]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">37</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">47</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x &lt;- [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]; guard (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;7&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `elem` show x); return x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">37</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">47</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>guard</code>å®ç°ï¼Œå¯¹äºåˆ—è¡¨æ¥è¯´ï¼Œè¾“å…¥<code>True</code>è¿”å›<code>[()]</code>ï¼Œè¾“å…¥<code>False</code>åˆ™è¿”å›ç©ºåˆ—è¡¨<code>[]</code>ï¼Œå¦‚æœæ˜¯éç©ºåˆ—è¡¨ï¼Œç»è¿‡<code>&gt;&gt;</code>ä¹‹åè¾“å…¥çš„ç©ºå…ƒç»„ä¼šè¢«å¿½ç•¥ï¼Œæ­¤æ—¶æ˜¯ä¸€ä¸ªæˆåŠŸçŠ¶æ€ï¼Œ<code>return x</code>å¾—åˆ°<code>[x]</code>ã€‚è€Œè¾“å…¥ä¸º<code>[]</code>æ—¶æ˜¯ä¸€ä¸ªå¤±è´¥çŠ¶æ€ï¼ˆå®ç°ä¸Šéƒ½æ˜¯<code>map</code>ç„¶å<code>concat</code>ï¼‰ç»“æœä¼šä¸ºç©º<code>[]</code>ã€‚å³å®ç°äº†ç­›é€‰åŠŸèƒ½ã€‚</li><li>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨<code>do</code>è¡¨ç¤ºæ³•ã€‚</li><li>å½“ç„¶å°±è¿™ä¸ªä¾‹å­è€Œè¨€ï¼Œä¸€ä¸ªç®€å•çš„<code>if-then-else</code>å½“ç„¶ä¹Ÿå¯ä»¥åšåˆ°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt;= (\x -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;7&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `elem` show x) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [x] </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> []</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">27</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">37</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">47</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li>å¦å¤–ï¼Œå¯¹äºåˆ—è¡¨æ¥è¯´ï¼Œ<code>&gt;&gt;</code>è¿ç®—ç¬¦ï¼Œå°†å·¦è¾¹åˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ ï¼Œæ›¿æ¢ä¸ºç»“æœåˆ—è¡¨ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼ˆå³æ›¿æ¢ä¸ºåˆ—è¡¨åå†<code>concat</code>ï¼‰ã€‚å°±æ˜¯è¯´å·¦è¾¹åˆ—è¡¨çš„å…ƒç´ ç±»å‹å’Œå€¼ä¸é‡è¦ï¼Œä¸€èˆ¬æ¥è¯´å°±åƒ<code>guard</code>ä¸€æ ·å¯ä»¥ä½¿ç”¨ç©ºå…ƒç»„<code>()</code>æ¥å ä½ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt; return </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt; return [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &gt;&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ªä¾‹å­ï¼š</p><ul><li>æŸ¥æ‰¾å›½é™…è±¡æ£‹çš„éª‘å£«ï¼ˆå°±åƒä¸­å›½è±¡æ£‹ä¸­çš„é©¬ï¼Œä¸€ä¸ªæ–¹å‘èµ°1æ ¼ï¼Œä¸€ä¸ªæ–¹å‘èµ°ä¸¤æ ¼ï¼‰èµ°3æ­¥å¯èƒ½åˆ°è¾¾çš„æ‰€æœ‰ä½ç½®ã€‚</li><li>åˆ©ç”¨åˆ—è¡¨ä¸Šä¸‹æ–‡çš„ä¸ç¡®å®šæ€§æ¥åšã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Data.List</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Control.Monad</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- example: find all possible position for knight to move in chess</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- valid chess posotin : row from 1 to 8, from column 1 to 8</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> KnightPos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">moveKnight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">KnightPos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">KnightPos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">moveKnight (r, c) = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (a, b) &lt;- [(a, b) | a &lt;- [-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], b &lt;- [-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]] </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- offset</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (or, oc) &lt;- [(a, b), (b, a)] </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- all possible offset</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (rr, rc) &lt;- [(r + or, c + oc)] </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- result</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    guard (rr `elem` [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] &amp;&amp; rc `elem` [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- filter</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return (rr, rc)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">moveKnight3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">KnightPos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">KnightPos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">moveKnight3 start = nub $ moveKnight start &gt;&gt;= moveKnight &gt;&gt;= moveKnight</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">canReachIn3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">KnightPos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">KnightPos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">canReachIn3 start end = end `elem` moveKnight3 start</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; moveKnight (6, 2)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[(4,1),(5,4),(8,1),(4,3),(7,4),(8,3)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; moveKnight (8, 1)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[(7,3),(6,2)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; moveKnight3 (6, 2)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">[(2,1),(1,2),(2,5),(5,2),(4,1),(1,4),(4,5),(5,4),(3,4),(4,3),(3,2),(7,2),(6,1),(6,5),(7,4),(8,1),(8,3),(2,3),(6,3),(3,8),(2,7),(5,8),(6,7),(8,5),(1,6),(4,7),(5,6),(7,8),(8,7),(3,6),(7,6)]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; (6,2) `canReachIn3` (6,1)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">True</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; (6,2) `canReachIn3` (7,3)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">False</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="monad-law" tabindex="-1"><a class="header-anchor" href="#monad-law"><span>Monad Law</span></a></h3><p>æ­£å¦‚å‡½å­å’Œåº”ç”¨å‡½å­ç­‰å„ç§ç±»å‹ç±»ï¼Œå•å­ä¹Ÿæœ‰è‡ªå·±çš„å®šå¾‹éœ€è¦éµå®ˆï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">return x &gt;&gt;= f = f x </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Left Identity</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">m &gt;&gt;= return = m </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Right Identity</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(m &gt;&gt;= f) &gt;&gt;= g = m &gt;&gt;= (\x -&gt; f x &gt;&gt;= g) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- Associativity</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‰ä¸¤è€…æè¿°çš„æ˜¯<code>return</code>çš„è¡Œä¸ºï¼Œ<code>return</code>å°†æ™®é€šå€¼è½¬æ¢ä¸ºå…·æœ‰ä¸Šä¸‹æ–‡çš„å€¼ï¼Œè¿™ä¸¤æ¡éå¸¸é‡è¦ã€‚å‰è€…è¡¨ç¤ºå°†ä¸€ä¸ªå€¼æ”¾åˆ°æœ€å°<code>Monad</code>ä¸Šä¸‹æ–‡ä¸­å†é€šè¿‡<code>&gt;&gt;=</code>ä¼ é€’ç»™<code>f</code>ä¸åº”è¯¥ä¸ç›´æ¥è°ƒç”¨<code>f</code>æœ‰ä»»ä½•å·®åˆ«ã€‚åè€…è¡¨ç¤ºä¸€ä¸ªå•å­é€šè¿‡<code>&gt;&gt;=</code>åº”ç”¨äº<code>return</code>åº”è¯¥å°±æ˜¯è‡ªå·±ã€‚</li><li>æœ€åçš„ç»“åˆå¾‹åˆ™æ˜¯è¯´æ˜å½“æˆ‘ä»¬ç”¨<code>&gt;&gt;=</code>å°†ä¸€ä¸²monadic functionä¸²è”èµ·æ¥ï¼Œä»–ä»¬çš„å…ˆåé¡ºåºä¸åº”è¯¥æœ‰å½±å“ã€‚</li></ul><p>å¯ä»¥å®šä¹‰ä¸€ä¸ªè¿ç®—ç¬¦æ¥å°†ä¸¤ä¸ªMonadic functinå¤åˆèµ·æ¥ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(&lt;=&lt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f &lt;=&lt; g = \x -&gt; g x &gt;&gt;= f</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>g</code>æ˜¯é‡Œå±‚ï¼Œ<code>f</code>æ˜¯å¤–å±‚ï¼Œ<code>&lt;=&lt;</code>ç”±é‡Œå±‚æŒ‡å‘å¤–å±‚ã€‚</li><li><code>Control.Monad</code>ä¸­å®šä¹‰åŒæ ·å«ä¹‰çš„è¿ç®—ç¬¦<code>&gt;=&gt;</code>ï¼Œåªä¸è¿‡å‚æ•°æ˜¯åè¿‡æ¥çš„ï¼Œæ³¨æ„åŒºåˆ†ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Control.Monad.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;=&gt;)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Control.Monad.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;=&gt;) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨<code>&lt;=&lt;</code>è¿ç®—ç¬¦æ¥æè¿°Moand Lawï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f &lt;=&lt; return = f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">return &lt;=&lt; f = f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">m &gt;&gt;= f &gt;&gt;= g = m &gt;&gt;= (f &lt;=&lt; g)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®å°±å¾ˆåƒæ™®é€šå‡½æ•°çš„ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f . id = f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">id . f = f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(f . g) . h = f . (g . h)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="more-monad" tabindex="-1"><a class="header-anchor" href="#more-monad"><span>More Monad</span></a></h2><p>å·²ç»è¯¦ç»†ä»‹ç»äº†<code>Maybe []</code>ï¼Œè€Œ<code>IO</code>è¿™ä¸ª<code>Monad</code>å…¶å®å‰é¢å·²ç»è¯´è¿‡äº†ï¼Œä¸éœ€è¦å†èµ˜è¿°ã€‚æˆ‘ä»¬éœ€è¦äº†è§£æ›´å¤šçš„<code>Monad</code>ä»¥åŸ¹å…»å¯¹<code>Monad</code>çš„ç›´è§‰ï¼Œç›´è§‰éå¸¸é‡è¦ã€‚</p><p>ä¸‹é¢ä»‹ç»çš„<code>Monad</code>éƒ½åœ¨åŒ…<a href="https://github.com/haskell/mtl" target="_blank" rel="noopener noreferrer"><code>mtl</code></a>ä¸­ï¼Œè¿™ä¸ªåŒ…æ˜¯GHCå†…ç½®çš„(ç”¨<code>[stack exec] ghc-pkg list</code>æŸ¥çœ‹å·²å®‰è£…çš„åŒ…)ï¼Œæˆ‘çš„æœ¬åœ°ç‰ˆæœ¬æ˜¯<code>mtl-2.2.2</code>ï¼Œæ¨¡å—åéƒ½æ˜¯<code>Control.Monad.xxx</code>ã€‚è¿™ä¸ªåŒ…å«åšThe Monad Transformer Libraryï¼Œæ˜¯ä¸€ç³»åˆ—<code>Monad</code>ç±»å‹ç±»çš„é›†åˆã€‚</p><h3 id="writer" tabindex="-1"><a class="header-anchor" href="#writer"><span>Writer</span></a></h3><p>å¯¹æ¯”<code>Maybe</code>æ˜¯å¯èƒ½å¤±è´¥çš„ä¸Šä¸‹æ–‡ï¼Œ<code>[]</code>æ˜¯åŠ å…¥ä¸ç¡®å®šæ€§è¯­ä¹‰çš„ä¸Šä¸‹æ–‡ï¼Œ<code>Writer</code>åˆ™æ˜¯åŠ è¿›äº†ä¸€ä¸ªé™„åŠ å€¼çš„ä¸Šä¸‹æ–‡ï¼Œå°±åƒæ—¥å¿—ä¸€æ ·ï¼Œ<code>Writer</code>å¯ä»¥åœ¨è®¡ç®—çš„åŒæ—¶æœç´¢logè®°å½•ï¼Œæ±‡é›†æˆä¸€ä¸ªæœ€ç»ˆçš„logé™„åŠ åˆ°ç»“æœä¸Šã€‚</p><p>æ¨¡æ‹Ÿ<code>Writer</code>ï¼š</p><ul><li>è€ƒè™‘é™„åŠ å…¶ä¸Šçš„ä¿¡æ¯ä¸ä»…å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€åˆ—è¡¨ï¼Œä»»ä½•<code>Monoid</code>éƒ½å¯ä»¥ã€‚</li><li>å°†é™„æœ‰ä¸Šä¸‹æ–‡çš„æ•°æ®ç”¨<code>Monoid m =&gt; (a, m)</code>æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆ<code>&gt;&gt;=</code>çš„å®ç°å°±ç±»ä¼¼äºï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- implement a Writer-like &gt;&gt;= function</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">applylog</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">applylog (x, log) f = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (y, newLog) = f x </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (y, log `mappend` newLog)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Food</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Price</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addDrink</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Food</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Food</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Price</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">addDrink </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;beans&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;milk&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 25</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">addDrink </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;jerky&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;whiskey&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 99</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">addDrink _ = (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;beer&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; (&quot;jerky&quot;, Sum 25) `applyLog` addDrink</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(&quot;whiskey&quot;,Sum {getSum = 124})</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; (&quot;beef&quot;, Sum 5) `applyLog` addDrink</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(&quot;beer&quot;,Sum {getSum = 35})</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Writer</code>ç±»å‹ï¼š</p><ul><li><code>Control.Monad.Writer</code>æ¨¡å—ï¼Œ<code>Writer w</code>æ˜¯<code>WriterT w Identity</code>çš„åˆ«åã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Writer</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">WriterT</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Identity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> WriterT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> WriterT</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">WriterT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">runWriterT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">safe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">WriterT</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç­‰ä»·å®šä¹‰å°±åƒæ˜¯è¿™æ ·ï¼ŒåŸºæœ¬å°±å’Œ<code>applyLog</code>ä¸€ä¸ªæ„æ€ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monoid</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return x = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (x, mempty)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (x,v)) &gt;&gt;= f = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (y, v&#39;)) = f x </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (y, v `mappend` v&#39;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>return</code>é™„åŠ çš„ä¿¡æ¯æ˜¯ç©ºå€¼<code>mempty</code>ï¼Œæœ€å°çš„ä¸Šä¸‹æ–‡å°±æ˜¯æ²¡æœ‰é™„åŠ çš„ä¿¡æ¯ã€‚</li><li>ç±»å‹<code>Writer w a</code>ä¸­ï¼Œ<code>w</code>æ˜¯é™„åŠ çš„ä¿¡æ¯çš„ç±»å‹ï¼Œæ˜¯ä¸€ä¸ª<code>Monoid</code>ï¼Œ<code>a</code>æ˜¯å…¶ä¸­çš„æ•°æ®çš„ç±»å‹ã€‚</li><li>æ–‡æ¡£ï¼š<a href="https://www.stackage.org/haddock/lts-18.18/mtl-2.2.2/Control-Monad-Writer-Lazy.html" target="_blank" rel="noopener noreferrer">Control.Monad.Writer.Lazy</a></li><li>æ–¹æ³•ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MonadWriter</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">runWriter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">execWriter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">w</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mapWriter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: ((</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">w&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> w&#39;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>writer</code>ç”Ÿæˆä¸€ä¸ªå‡½æ•°ã€‚</li><li><code>runWriter</code>å¾—åˆ°<code>(result, output)</code>å½¢å¼è¾“å‡ºã€‚</li><li><code>execWriter</code>å°±ç­‰ä»·äº<code>execWriter m = snd (runWriter m)</code>ï¼Œåªå–å‡ºå…¶ä¸­ç´¯åŠ çš„ä¿¡æ¯ã€‚</li><li><code>mapWriter</code>åˆ™ä½¿ç”¨å‡½æ•°å°†<code>(result, output)</code>ä¸¤è€…éƒ½è¿›è¡Œè®¡ç®—ã€‚</li><li><code>MonadWriter</code>æ˜¯<code>WriterT</code>å®ç°çš„ç±»å‹ç±»ï¼Œå…·ä½“ä¿¡æ¯æŸ¥çœ‹æ–‡æ¡£ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; writer (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">WriterT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Identity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getSum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; runWriter (return </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; execWriter (writer (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; runWriter . mapWriter (\(a, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b) -&gt; (show a, show b)) $ (writer (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Sum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ï¼š</p><ul><li>å¯ä»¥é€šè¿‡<code>do</code>è¡¨ç¤ºæ³•æ¥ç”¨ï¼Œå¦‚æœå°±æ˜¯æƒ³åœ¨æŸä¸ªæ—¶é—´ç‚¹æ”¾å…¥ä¸€ä¸ªMonoidå€¼ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>tell :: MonadWriter w m =&gt; w -&gt; m ()</code>ï¼ˆå¯ä»¥çœ‹åˆ°è¿”å›ä¸€ä¸ªåŒ…è£…ç©ºå…ƒç»„çš„Monadï¼Œå¯ä»¥é€šè¿‡<code>&gt;&gt;</code>æˆ–è€…<code>do</code>æ¥ç”¨ï¼‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">logNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">logNumber x = writer (x, [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Got a number: &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ show x])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">multWithLog</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">multWithLog = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    a &lt;- logNumber </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    b &lt;- logNumber </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    tell [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    c &lt;- logNumber </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return (a * b * c)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; runWriter multWithLog</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(30,[&quot;Got a number: 3&quot;,&quot;Got a number: 5&quot;,&quot;hello&quot;,&quot;Got a number: 2&quot;])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¾‹å­ï¼Œè®¡ç®—æœ€å¤§å…¬çº¦æ•°çš„åŒæ—¶è®°å½•è®¡ç®—è¿‡ç¨‹ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gcd&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">gcd&#39; a b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | b == </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        tell [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Finished with : &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ show a]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        return a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    | otherwise = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        tell [show a ++ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; mod &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ show b ++ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; = &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++ show (a `mod` b)]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        gcd&#39; b (a `mod` b)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">ghci&gt; mapM_ putStrLn $ snd $ runWriter $ gcd&#39; 98 51</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">98 mod 51 = 47</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">51 mod 47 = 4</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">47 mod 4 = 3</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">4 mod 3 = 1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">3 mod 1 = 0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Finished with : 1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨Difference Listï¼š</p><ul><li>æ³¨æ„å…¶ä¸­<code>[]</code>çš„<code>++</code>è¿ç®—ç¬¦çš„æ•ˆç‡ï¼Œåˆ—è¡¨æ˜¯ä»å³å¾€å·¦é€’å½’å®šä¹‰çš„ï¼Œæ‰€ä»¥<code>a ++ (b ++ (c ++ d))</code>ä¼šå¾ˆé«˜æ•ˆï¼Œè€Œ<code>((a ++ b) ++ c) ++ d</code>åˆ™ç›¸å¯¹æ•ˆç‡ä¸å¤Ÿå¥½ã€‚ä¸Šé¢çš„<code>gcd&#39;</code>æ²¡æœ‰è¿™ç§é—®é¢˜ï¼Œä½†è¿™ç‚¹æ˜¯éœ€è¦æ³¨æ„çš„ï¼Œå¦‚æœåœ¨é€’å½’ä¸­å…ˆè®¡ç®—<code>gcd&#39;</code>å†<code>tell</code>åˆ™ä¼šæœ‰æ•ˆç‡é—®é¢˜ã€‚</li><li>ä¸ºäº†èƒ½å¤Ÿæ€»æ˜¯åœ¨åˆ—è¡¨çš„<code>++</code>æ“ä½œä¸Šå¾—åˆ°æœ€å¥½çš„æ•ˆç‡ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„ç±»å‹å·®å¼‚åˆ—è¡¨ï¼Œå°†åˆ—è¡¨åŒ…è£…ä¸€ä¸‹ï¼Œå®ç°æ— è®ºæ€ä¹ˆé™„åŠ åˆ—è¡¨éƒ½æ˜¯<code>(a ++ b) ++ c) ++ d</code>çš„æ•ˆæœã€‚</li><li>ç±»å‹å®šä¹‰ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> DiffList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">getDiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toDiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">toDiffList xs = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (xs++)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fromDiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fromDiffList (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f) = f </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å°†åˆ—è¡¨<code>xs</code>è½¬æ¢ä¸º<code>xs++</code>å‡½æ•°åŒ…è£…åœ¨<code>DiffList</code>ä¸­ï¼Œé€šè¿‡ä¼ å…¥<code>[]</code>å°±å¯ä»¥å¾—åˆ°å†…éƒ¨çš„åŸå§‹åˆ—è¡¨ï¼Œé€šè¿‡å®šä¹‰æ–°å‡½æ•°æ¥å®ç°è½¬æ¢è€Œä¸æ˜¯ä½¿ç”¨æ¨¡å¼åŒ¹é…ã€‚</li><li>å°†å…¶å®šä¹‰ä¸º<code>Monoid</code>:</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- declare DiffList as a Monoid</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Semigroup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f &lt;&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> g = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (f . g)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monoid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mempty = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">++)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f `mappend` </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> g = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (f . g)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Monoid</code>æ´¾ç”Ÿè‡ª<code>Semigourp</code>ï¼Œå®ç°<code>Monoid</code>åŒæ—¶éœ€è¦å®ç°<code>Semigourp</code>ï¼Œå¯ä»¥çœ‹åˆ°<code>DiffList</code>çš„<code>mempty</code>æ˜¯é™„åŠ ä¸€ä¸ªç©ºåˆ—è¡¨çš„å‡½æ•°ï¼Œè€Œ<code>mappend</code>æ˜¯å‡½æ•°ç»„åˆã€‚æ¯æ¬¡<code>mappend</code>ï¼Œæ–°çš„åˆ—è¡¨éƒ½ä¼šé€šè¿‡å‡½æ•°å‡½æ•°ç»„åˆè°ƒç”¨çš„æ–¹å¼é™„åŠ åˆ°åˆ—è¡¨æœ€å‰é¢ï¼Œä¸ä¼šæœ‰ä»å‰å¾€åé™„åŠ è¿™ç§æƒ…å†µå‡ºç°ã€‚</li><li>æ•ˆç‡æµ‹è¯•ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- test performance of DiffList</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">finalCountDown</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">DiffList</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">finalCountDown </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    tell (toDiffList [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">finalCountDown x = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    finalCountDown (x-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    tell (toDiffList [show x])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">finalCountDown2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Writer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">finalCountDown2 </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    tell [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">finalCountDown2 x = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    finalCountDown2 (x-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    tell [show x]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">test1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">test1 = mapM_ putStrLn . fromDiffList . snd . runWriter $ finalCountDown </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">test2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">test2 = mapM_ putStrLn . snd . runWriter $ finalCountDown2 </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">IO</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;"> ()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">main = test1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- main = test2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œä»ä¸€ä¸ªæ•°è®¡æ•°ç›´åˆ°<code>0</code>ï¼Œ<code>Writer</code>å€¼ä¿å­˜ä¸º<code>()</code>ä¸å…³å¿ƒï¼Œé™„åŠ çš„ä¿¡æ¯ä½¿ç”¨<code>[]</code>æˆ–è€…<code>DiffList</code>çš„<code>mappend</code>æ¥åšã€‚æœ€ç»ˆå¾—åˆ°çš„<code>Writer</code>æ˜¯<code>0-x</code>å­—ç¬¦ä¸²çš„åˆ—è¡¨ã€‚</li><li>æ‰§è¡Œ<code>test1 test2</code>ï¼Œå‚æ•°<code>50000</code>æ—¶èƒ½å¤Ÿæ„Ÿå—åˆ°éå¸¸æ˜æ˜¾çš„æ€§èƒ½å·®è·ã€‚å…¶å®ç›´è§‚ç†è§£ä¸Šæ¥è¯´å°±æ˜¯$O(N)$å’Œ$O(N^2)$æ—¶é—´å¤æ‚åº¦çš„å·®åˆ«ã€‚</li><li>åšåˆ°è¿™ä¸€ç‚¹ä¾èµ–äºHaskellçš„æ‡’æƒ°æ±‚å€¼çš„ç‰¹æ€§ï¼Œå‡½æ•°çš„è°ƒç”¨åªæ˜¯æ•°æ®çš„å˜æ¢è¿‡ç¨‹ï¼ŒçœŸæ­£éœ€è¦æ•°æ®æ—¶æ‰ä¼šè®¡ç®—ã€‚å› ä¸º<code>finalCountDown</code>æ˜¯å°†æ•°ç»„ç´¯åŠ å˜æˆäº†å‡½æ•°çš„ç»„åˆï¼Œæ²¡æœ‰å®é™…åœ°è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—è¿‡ç¨‹ä¸­<code>DiffList</code>ä¸­çš„ä¿¡æ¯æ˜¯ç±»ä¼¼äºè¿™æ ·çš„ï¼š<code>[&quot;50000&quot;]++[&quot;49999&quot;]++ ... ++[&quot;xxxx&quot;]++</code>ï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å°†æ•°æ®çš„å åŠ å˜æˆäº†å‡½æ•°çš„ç»„åˆï¼Œä»è€Œæ”¹å˜äº†æœ€ç»ˆè¿ç®—ç¬¦çš„ç»“åˆé¡ºåº</li><li><strong>è®¾è®¡è¦ç‚¹ï¼šå°†æ•°æ®ä»¥å‡½æ•°å½¢å¼å­˜å‚¨å¹¶åŒ…è£…èµ·æ¥ï¼Œå°†<code>Monoid</code>çš„<code>mappend</code>åˆ™å®ç°ä¸ºå‡½æ•°çš„ç»„åˆï¼Œæ”¹å˜è¿ç®—ç¬¦çš„ç»“åˆé¡ºåº</strong>ã€‚</li><li>å½“ç„¶åº•å±‚æ¶‰åŠåˆ°å‡½æ•°å¼ç¼–ç¨‹æ•°æ®ç»“æ„çš„è®¾è®¡ï¼Œè¿™å’Œå‘½ä»¤å¼ç¼–ç¨‹çš„æ•°æ®ç»“æ„è®¾è®¡æ˜¯å­˜åœ¨å·®åˆ«çš„ï¼Œè¿™éœ€è¦è¿›ä¸€æ­¥äº†è§£ï¼Œåœ¨å…¥é—¨Hakellä¹‹åå¦‚æœæœ‰éœ€æ±‚çš„è¯ã€‚</li></ul><h3 id="reader-monad" tabindex="-1"><a class="header-anchor" href="#reader-monad"><span>Reader Monad</span></a></h3><p>å‡½æ•°<code>(-&gt;) r</code>é™¤äº†æ˜¯å‡½å­å’Œåº”ç”¨å‡½å­ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ª<code>Moand</code>ï¼Œå®ç°ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return x = \_ -&gt; x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    h &gt;&gt;= f = \w -&gt; f (h w) w</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…¶ä¸­<code>return</code>çš„å®šä¹‰åŒ<code>pure</code>ï¼Œæœ€å°çš„å‡½æ•°ä¸Šä¸‹æ–‡å°±æ˜¯æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œç›´æ¥è¿”å›<code>x</code>ã€‚</li><li>çœ‹<code>&gt;&gt;=</code>ç±»å‹ç­¾åï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(&gt;&gt;=)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å°†<code>(-&gt;) r</code>ä¹Ÿå°±æ˜¯<code>r -&gt;</code>å¸¦å…¥åˆ°<code>m</code>ï¼Œå¾—åˆ°<code>(-&gt;) r</code>å®ä¾‹çš„<code>&gt;&gt;=</code>å‡½æ•°ç­¾åï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(&gt;&gt;=)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å®šä¹‰ä¸­<code>h :: r -&gt; a</code>ï¼Œ<code>f :: a -&gt; r -&gt; b</code>ã€‚å®šä¹‰å¾ˆåƒ<code>Applicative</code>çš„<code>&lt;*&gt;</code>ã€‚</li><li>æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—<code>r</code>ç±»å‹å‚æ•°ï¼Œä¼ ç»™å‡½æ•°<code>h</code>åå¾—åˆ°<code>a</code>ç±»å‹ç»“æœï¼Œä½œä¸º<code>f</code>ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<code>r</code>ç±»å‹å‚æ•°åŒæ—¶ä½œä¸º<code>f</code>ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¾—åˆ°æœ€ç»ˆ<code>b</code>ç±»å‹è¿”å›å€¼ã€‚</li></ul><p>ä¾‹å­ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addStuff</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">addStuff = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    a &lt;- (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    b &lt;- (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return (a + b)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addStuff&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">addStuff&#39; x = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    a = (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) x</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    b = (+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) x</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a + b</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; addStuff 3</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">19</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; addStuff&#39; 3</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">19</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>addStuff</code>ä¸­æ‰€æœ‰çš„å‡½æ•°éƒ½å›ºå®šä»ä¸€ä¸ªåœ°æ–¹å–å€¼ï¼Œæ‰€ä»¥function monadåˆè¢«ç§°ä½œ<strong>reader monad</strong>ã€‚</li></ul><p>æ€»ç»“ï¼š</p><ul><li>å‡½æ•°ä½œä¸ºå•å­çš„å«ä¹‰æ˜¯å°†æ‰€æœ‰çš„å‡½æ•°ç²˜åœ¨ä¸€èµ·åšæˆä¸€ä¸ªå¤§çš„å‡½æ•°ï¼ŒæŠŠè¿™ä¸ªå¤§çš„å‡½æ•°çš„å‚æ•°å–‚ç»™å…¨éƒ¨ç»„æˆçš„å‡½æ•°ã€‚</li><li>é€šå¸¸ä½¿ç”¨<code>do</code>æ¥å®ç°ï¼Œ<code>&gt;&gt;=</code>ä¼šä¿è¯ä¸€åˆ‡èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚</li></ul><p>è¯´å®è¯ä¸æ˜¯éå¸¸ç†è§£ã€‚</p><h3 id="state-monad" tabindex="-1"><a class="header-anchor" href="#state-monad"><span>State Monad</span></a></h3><p>Haskellæ˜¯çº¯å‡½æ•°å¼è¯­è¨€ï¼Œé™¤å»æœ‰å‰¯ä½œç”¨çš„éƒ¨åˆ†æ¯”å¦‚IOï¼Œç¨‹åºæ˜¯ç”±ä¸€å †æ— æ³•æ”¹å˜å…¨å±€çŠ¶æ€æˆ–å˜é‡çš„çº¯å‡½æ•°ç»„æˆã€‚èƒ½åšçš„äº‹æƒ…åªæœ‰å¤„ç†å¹¶è¿”å›ç»“æœï¼Œè¿™ä¸ªæ€§è´¨ä½¿å¾—æˆ‘ä»¬å¾ˆå®¹æ˜“æ€è€ƒç¨‹åºåœ¨å¹²ä»€ä¹ˆï¼Œä¸éœ€è¦å…³å¿ƒå˜é‡åœ¨æŸä¸€æ—¶é—´ç‚¹çš„å€¼æ˜¯ä»€ä¹ˆã€‚</p><p>ç„¶è€ŒæŸäº›é¢†åŸŸçš„é—®é¢˜æ ¹æœ¬ä¸Šå°±æ˜¯éšç€æ—¶é—´æ”¹å˜çš„çŠ¶æ€ï¼Œè¦å†™å‡ºè¿™æ ·çš„ç¨‹åºï¼Œçº¯å‡½æ•°çš„ç‰¹æ€§å°±å˜æˆäº†é˜»ç¢ã€‚å› æ­¤å¼•å…¥äº†State Monadï¼Œè®©ç¨‹åºèƒ½å¤Ÿå¤„ç†çŠ¶æ€æ€§çš„é—®é¢˜ï¼Œå¹¶è®©å…¶ä»–éƒ¨åˆ†ä¾ç„¶ä¿æŒçº¯ç²¹ã€‚</p><p>è€ƒè™‘éšæœºæ•°ï¼šç”Ÿæˆéšæœºæ•°éœ€è¦ä¸€ä¸ªæœ‰å‰¯ä½œç”¨çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œå¹¶è¿”å›æ–°çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œä½†éšæœºæ•°ç”Ÿæˆçš„è¿‡ç¨‹æ˜¯çº¯ç²¹çš„ã€‚æ‰€ä»¥éœ€è¦å°†ä¼šå‘ç”Ÿæ”¹å˜çš„çŠ¶æ€ä¼ å…¥ï¼Œå¹¶å°†æ–°çš„çŠ¶æ€ä½œä¸ºè¿”å›å€¼è¿”å›ã€‚è€Œåœ¨å…¶ä»–å‘½ä»¤å¼è¯­è¨€ä¸­çš„è¯ï¼Œä¸€èˆ¬ä¼šå°†å¦†å°ä½œä¸ºå…¨å±€çš„çŠ¶æ€ï¼Œåœ¨ç”Ÿæˆéšæœºæ•°çš„åŒæ—¶æ”¹å˜çŠ¶æ€ï¼Œè€Œä¸æ˜¯å°†çŠ¶æ€è¿”å›ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (value, _) = random (mkStdGen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> value :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ç§å‡½æ•°çš„ç­¾åéƒ½ä¼šç±»ä¼¼è¿™æ ·ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">s -&gt; (a, s)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>s</code>æ˜¯çŠ¶æ€ç±»å‹ï¼Œ<code>a</code>æ˜¯è®¡ç®—ç»“æœç±»å‹ã€‚</li><li>ä¸ºäº†ä¿æŒçº¯ç²¹æ€§ï¼ŒçŠ¶æ€å¿…é¡»è¢«ä½œä¸ºå‚æ•°å’Œè¿”å›å€¼ã€‚è¿™æ ·å†™éå¸¸ä¸æ–¹ä¾¿ï¼Œå¯ä»¥å°†è¿™äº›äº‹æƒ…æ‰”ç»™State Monadæ¥åšã€‚</li></ul><p>ä¾‹å­ï¼š</p><ul><li>è€ƒè™‘å»ºç«‹ä¸€ä¸ªæ ˆçš„æ¨¡å‹ï¼Œæ”¯æŒå‹æ ˆå’Œå‡ºæ ˆæ“ä½œï¼Œå‹æ ˆæ—¶ä¼ å…¥æ–°å€¼å’Œæ ˆï¼Œå¾—åˆ°æ–°çš„æ ˆï¼Œå‡ºæ ˆæ—¶ä¼ å…¥æ ˆå¾—åˆ°æ–°æ ˆã€‚</li><li>å…¶ä¸­çš„æ ˆå°±å¯ä»¥çœ‹åšçŠ¶æ€ï¼Œé€šè¿‡è¿”å›å€¼çš„æ–¹å¼è¿”å›æ–°çš„çŠ¶æ€ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pop </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = undefined</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pop (x:xs) = (x, xs)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">push</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">push a xs = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, a:xs)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stackMainOp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Num</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">stackMainOp stack = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, newStack1) = push </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> stack</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (a, newStack2) = pop newStack1</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pop newStack2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; stackMainOp [1, 2, 3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(1,[2,3])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸ºäº†é¿å…å°†çŠ¶æ€æ“ä½œå†™å¾—è¿™ä¹ˆå…·ä½“ï¼Œæˆ‘ä»¬å¯ä»¥å°†çŠ¶æ€å°è£…åœ¨State Monadä¸­ï¼Œä¹‹åä¾¿å¯ä»¥åƒè¿™æ ·çš„æ–¹å¼è°ƒç”¨ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">stackMainOp&#39; = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    push </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    a &lt;- pop</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>State Monadï¼š</p><ul><li>ä½äº<code>Control.Monad.State</code>æ¨¡å—ï¼Œå…·ä½“æ¥è¯´<code>Control.Monad.State.Lazy</code>ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> State</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">StateT</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Identity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> StateT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">newtype</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> StateT</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">StateT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">runStateT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">MonadState</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">runState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(&gt;&gt;=)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ›´å¤šä¿¡æ¯æŸ¥çœ‹<a href="https://wiki.haskell.org/State_Monad" target="_blank" rel="noopener noreferrer">Wiki</a>ã€‚</li><li>ç±»å‹<code>State s a</code>ä»£è¡¨æ”¹å˜çŠ¶æ€çš„æ“ä½œï¼Œ<code>s</code>æ˜¯çŠ¶æ€ç±»å‹ï¼Œ<code>a</code>æ˜¯äº§ç”Ÿçš„ç»“æœç±»å‹ï¼Œ<code>State s</code>è¢«å®ç°ä¸º<code>Monad</code>ã€‚</li><li><code>Monad</code>å®ä¾‹çš„å®ç°ç±»ä¼¼äºï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instance</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Monad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return x = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ \s -&gt; (x,s)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> h) &gt;&gt;= f = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ \s -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a, newState) = h s</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                                        (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> g) = f a</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                                    in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  g newState</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ³¨æ„<code>State</code>ä½œä¸ºç±»å‹æ„é€ å™¨ï¼Œæ¥å—2ä¸ªç±»å‹å‚æ•°ï¼Œ<code>s a</code>åˆ†åˆ«æ˜¯çŠ¶æ€å’Œç»“æœç±»å‹ï¼Œè€Œä½œä¸ºå€¼æ„é€ å™¨æ¥å—ä¸€ä¸ª<code>s -&gt; (a, s)</code>çš„å‡½æ•°ç±»å‹å‚æ•°ï¼Œå³æ˜¯æ”¹å˜çŠ¶æ€çš„æ“ä½œã€‚ä¹¦ä¸Šæ˜¯è¿™æ ·å†™çš„ï¼Œä½†æ³¨æ„ç°åœ¨çš„ç‰ˆæœ¬å®ç°æœ‰äº†å˜åŒ–ï¼Œå°±åƒ<code>Writer</code>ä¸€æ ·ï¼Œåº”è¯¥ä½¿ç”¨<code>state</code>å‡½æ•°æ¥æ„é€ <code>State</code>å¯¹è±¡ï¼Œè€Œä¸æ˜¯<code>State</code>ç›´æ¥ä½œä¸ºå€¼æ„é€ å™¨ã€‚</li><li><code>return</code>è¦åšçš„äº‹æ˜¯æ¥å—ä¸€ä¸ªå€¼ï¼Œè¿”å›åšå‡ºä¸€ä¸ªæ”¹å˜çŠ¶æ€çš„æ“ä½œï¼Œæ‰€ä»¥æ­¤æ—¶å€¼æ„é€ å™¨æ¥å—å‚æ•°å°±æ˜¯<code>\s -&gt; (x, s)</code>å‡½æ•°ï¼Œ<code>x</code>å½“æˆç»“æœï¼ŒçŠ¶æ€ä»ç„¶æ˜¯<code>s</code>ã€‚è¿™å³æ˜¯æœ€å°ä¸Šä¸‹æ–‡ã€‚</li><li><code>State</code>ä¸­å°è£…çš„æ”¹å˜çŠ¶æ€çš„æ“ä½œï¼Œæ¥å—æ”¹å˜çŠ¶æ€æ“ä½œ<code>h</code>ï¼Œ<code>f</code>åˆ™æ˜¯æ¥å—çŠ¶æ€æ“ä½œè¿”å›<code>State Monad</code>çš„å‡½æ•°ã€‚<code>&gt;&gt;=</code>å®ç°åˆ™æ˜¯ï¼Œå…ˆåšæ“ä½œ<code>h</code>ï¼Œå†å°†ç»“æœåšæ“ä½œ<code>f</code>ã€‚è¯´å®è¯ä¸æ˜¯å¾ˆå¥½ç†è§£ã€‚</li><li>è¿è¡Œä¸€ä¸ª<code>State</code>åˆ™ä½¿ç”¨ï¼Œ<code>runState myState initial_state</code>ã€‚</li><li>æ”¹å†™æ ˆåšä¸ºçŠ¶æ€çš„ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pop&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pop&#39; = state $ \(x:xs) -&gt; (x, xs)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">push&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">push&#39; a = state $ \xs -&gt; (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, a:xs)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stackMainOp&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Int</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">stackMainOp&#39; = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    push&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pop&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pop&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; runState stackMainOp&#39; [1, 2, 3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(1,[2,3])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; runState (push&#39; 10 &gt;&gt; push&#39; 100 &gt;&gt; pop&#39;) [1, 2, 3]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">(100,[10,1,2,3])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æœ‰ä¸€ç‚¹ç‚¹è´¹è§£ï¼Œå› ä¸º<code>Monad</code>ä¸­å‡½æ•°ï¼Œ<code>&gt;&gt;=</code>å…¶å®æ˜¯åœ¨å¯¹<code>Monad (State s)</code>ä¸­çš„å‡½æ•°åšè§£å¼€åŒ…è£…ä¹‹åï¼Œå°†å…¶åº”ç”¨åœ¨å¦ä¸€ä¸ªæ¥å—å‡½æ•°è¿”å›ä½¿ç”¨<code>Monad (State s)</code>å°è£…å‡½æ•°çš„å‡½æ•°ä¸Šã€‚ç®€è€Œè¨€ä¹‹å°±æ˜¯å¯¹å‡½æ•°åšæ˜ å°„ï¼Œå¯ä»¥ç†è§£ä¸ºå°†ä¸¤ä¸ªæ”¹å˜çŠ¶æ€çš„è¡Œä¸ºåˆåœ¨äº†ä¸€èµ·ã€‚</li><li>å•çº¯çš„<code>&gt;&gt;</code>åˆ™å¯ä»¥ç›´æ¥å°†å¤šä¸ª<code>State s a</code>åˆå¹¶èµ·æ¥ï¼Œå‰ææ˜¯åé¢çš„çŠ¶æ€ä¸ä¼šä½¿ç”¨å‰é¢çŠ¶æ€çš„è¿”å›å€¼ã€‚ç­‰ä»·åœ¨<code>do</code>ä¸­åˆ™å°±æ˜¯ä¸ä½¿ç”¨<code>&lt;-</code>ã€‚å½“ç„¶æœ‰ä¾èµ–çš„è¯ç”¨<code>do</code>è¡¨ç¤ºæ³•æ˜¯æœ€å¥½çš„ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stackComplexOp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Stack</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">stackComplexOp = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    a &lt;- pop&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a &gt;= </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> then</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        push&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        push&#39; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; runState stackComplexOp [1, 2, 10]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">((),[1000,2,10])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; runState stackComplexOp [10, 1, 2]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">((),[100,1,2])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€»ç»“ï¼š</p><ul><li>å°è£…å‡½æ•°çš„è¡Œä¸ºè¿˜æ˜¯æœ‰ç‚¹å¤ªè®©äººè´¹è§£äº†ï¼Œæš‚æ—¶å°šæ— æ³•ç†Ÿç»ƒè¿ç”¨ï¼Œéœ€è¦åç»­æœ‰æœºä¼šç»“åˆå®è·µåŠ æ·±ç†è§£ã€‚æ³¨æ„å’Œå‡½æ•°ä½œä¸º<code>Monad</code>ç›¸åŒºåˆ†ï¼Œè¿™å®Œå…¨ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚å’Œ<code>DiffList</code>è¿™æ ·ä»¥å‡½æ•°å½¢å¼å°è£…æ•°æ®ä¹Ÿä¸ä¸€æ ·ï¼ˆå’Œå•çº¯å°è£…æ•°æ®å·®åˆ«ä¸å¤§ï¼‰ã€‚</li><li>å†™ä»£ç æ—¶å¯¹æ¯”<code>IO</code>å°±è¡Œï¼Œç”¨<code>do</code>è¡¨ç¤ºæ³•çš„è¯éå¸¸ç¬¦åˆç›´è§‰ï¼Œç”¨èµ·æ¥å¹¶ä¸éš¾ã€‚</li></ul><h3 id="å¸¸ç”¨çš„æ“ä½œmonadçš„å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨çš„æ“ä½œmonadçš„å‡½æ•°"><span>å¸¸ç”¨çš„æ“ä½œMonadçš„å‡½æ•°</span></a></h3><p>æ“ä½œåŒ…è£…åœ¨å•å­ä¸­çš„å€¼ï¼ˆMonadic valueï¼‰çš„å‡½æ•°ï¼Œç§°ä¹‹ä¸ºMonadic Functionï¼Œæœ‰ä¸€äº›æ˜¯å¸¸è§å‡½æ•°çš„å˜å½¢ï¼Œæœ‰ä¸€äº›æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ã€‚</p><p><code>liftM</code>ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">liftM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> r</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fmap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Functor</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…¶å®å°±æ˜¯<code>fmap</code>ï¼Œä¸è¿‡æ˜¯é’ˆå¯¹<code>Monad</code>å•ç‹¬å®šä¹‰çš„ï¼Œå³ä½¿æ¯ä¸€ä¸ª<code>Monad</code>éƒ½æ˜¯<code>functor</code>ï¼Œä½†æˆ‘ä»¬ä¸éœ€è¦ä¾èµ–è¿™ä¸€ç‚¹ã€‚å°±åƒ<code>pure</code>å’Œ<code>return</code>å…¶å®æ˜¯åŒä¸€ä»¶äº‹ï¼Œä¸è¿‡ä¸€ä¸ªåœ¨<code>Applicative</code>ä¸­ï¼Œä¸€ä¸ªåœ¨<code>Monad</code>ä¸­ã€‚</li><li>ä¾‹ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; liftM (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; liftM (*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; :t liftM not</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">liftM not :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Bool</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; runWriter $ liftM not $ writer (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;whatever&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;whatever&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é™¤äº†<code>fmap</code>å«ä¹‰ï¼Œå¦ä¸€ç§å«ä¹‰å°±æ˜¯å°†ç›´æ¥ç”¨äºå€¼çš„å‡½æ•°æå‡ä¸ºèƒ½å¤Ÿç”¨äº<code>Monad</code>çš„å‡½æ•°ã€‚</li><li>ä¹Ÿå°±æ˜¯è¯´<code>fmap &lt;$&gt; liftM</code>å…¶å®æ˜¯ä¸€ä¸ªæ„æ€ã€‚</li><li>çœ‹ä¸€ä¸‹å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">liftM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">liftM f m = m &gt;&gt;= (\x -&gt; return (f x))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç”¨ç­‰ä»·çš„<code>do</code>è¡¨ç¤ºæ³•ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">liftM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">liftM f m = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    x &lt;- m</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return (f x)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®ç°åªç”¨åˆ°äº†<code>Monad</code>è€Œå¹¶æ²¡æœ‰ç”¨åˆ°<code>Functor</code>çš„æ€§è´¨ã€‚å¯ä»¥çœ‹å‡º<code>Monad</code>æ¯”<code>Functor</code>æ€§è´¨è¦å¼ºã€‚</li><li>å›é¡¾<code>&lt;*&gt;</code>çš„ç±»å‹ç­¾åï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(&lt;*&gt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å…¶å®<code>&lt;*&gt;</code>ä¹Ÿèƒ½å¤Ÿç”¨<code>Monad</code>ä¿è¯çš„æ€§è´¨å®ç°å‡ºæ¥ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">apply mf m = </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    f &lt;- mf</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    x &lt;- m</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    return (f x)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; Just (*3) `apply` Just 5</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Just 15</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äº<code>liftA2</code>ç­‰å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ç±»ä¼¼å®ç°ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">liftA2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">f</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">liftA2 f x y = f &lt;$&gt; x &lt;*&gt; y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äº<code>Monad</code>æœ‰ç±»ä¼¼çš„å‡½æ•°ï¼Œ<code>liftM2 liftM3 liftM4 ...</code>ç­‰ã€‚</li></ul><p><code>join</code>:</p><ul><li>å¦‚æœæœ‰åŒ…äº†å¤šå±‚<code>Monad</code>çš„å€¼ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>join</code>å‡½æ•°æ¥è§£å¼€åŒ…è£…ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; join (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; join . join $ (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)))</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; join $ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Nothing</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Nothing</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; join [[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; runWriter $ join (writer (writer (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;aaa&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bbb&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bbbaaa&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; join (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Right</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Right</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Right</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; join (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Right</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;error&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;error&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äºåˆ—è¡¨å…¶å®å°±æ˜¯<code>concat</code>ï¼Œå¯¹äº<code>Monoid</code>ä¼šè°ƒç”¨<code>mappend</code>ã€‚</li><li><code>m &gt;&gt;= f</code>æ°¸è¿œç­‰ä»·äº<code>join (fmap f m)</code>ã€‚</li></ul><p><code>filterM</code>ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">filterM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Applicative</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å¯¹æ¯”<code>filter</code>ï¼Œåªæ˜¯å°†å‡½æ•°ç¼–ç¨‹äº†è¿”å›Monadic Valueï¼Œç„¶åç›¸åº”çš„è¿”å›å€¼ä¹Ÿå˜äº†ã€‚</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; filterM (\a -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (a &gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)) $ [-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] ++ [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">..</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; filterM (\a -&gt; [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]) [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½¿ç”¨è¿”å›ç»å¯¹ä¸ä»…ä»…åªæ˜¯ç­›é€‰è¿™ä¹ˆç®€å•ï¼Œæ¯”å¦‚é…åˆåˆ—è¡¨çš„ä¸ç¡®å®šæ€§å¾—åˆ°ä¸€ä¸ªåˆ—è¡¨çš„å¹‚é›†ã€‚é…åˆ<code>Writer</code>å¯ä»¥åœ¨ç­›é€‰åŒæ—¶å†™ä¿¡æ¯è¿›å»ç­‰ï¼Œç»“åˆä¸Šä¸‹æ–‡çš„å«ä¹‰ä¼šè®©åŠŸèƒ½å˜å¾—å¾ˆå¼ºå¤§ã€‚</li></ul><p><code>foldM</code>ï¼š</p><ul><li><code>foldl</code>å¯¹<code>Monad</code>çš„ç‰ˆæœ¬æ˜¯<code>foldM</code>ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">foldl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">foldM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Foldable</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Monad</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) =&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">m</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¾‹å­ï¼š</li></ul><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;&gt; foldM (\a b -&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (max a b)) </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Just</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="zippers" tabindex="-1"><a class="header-anchor" href="#zippers"><span>Zippers</span></a></h2><h3 id="å®šä¹‰ä¸€ä¸ªæ ‘" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰ä¸€ä¸ªæ ‘"><span>å®šä¹‰ä¸€ä¸ªæ ‘</span></a></h3><p>å°è¯•å®šä¹‰ä¸€ä¸ªäºŒå‰æ ‘ç±»å‹ï¼Œå› ä¸ºæ•°æ®ä¸å¯å˜ï¼Œè¦ä¿®æ”¹åªèƒ½ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">freeTree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">freeTree =   </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;P&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;O&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;L&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;N&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;T&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             )  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Y&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;S&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;A&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             )  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        )  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;L&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;W&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                  (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;C&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                  (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;R&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             )  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;A&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                  (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;A&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                  (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;C&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">             )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Direction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">R</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Eq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Directions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Direction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">changeToP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Directions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Char</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> Char</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">changeToP (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:ds) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l r) = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x (changeToP ds l) r</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">changeToP (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">R</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:ds) (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l r) = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l (changeToP ds r)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">changeToP </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> _ l r) = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;P&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> l r</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">changeToP _ </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; changeToP [R, L] freeTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Node &#39;P&#39; (Node &#39;O&#39; (Node &#39;L&#39; (Node &#39;N&#39; Empty Empty) (Node &#39;T&#39; Empty Empty)) (Node &#39;Y&#39; (Node &#39;S&#39; Empty Empty) (Node &#39;A&#39; Empty Empty))) (Node &#39;L&#39; (Node &#39;P&#39; (Node &#39;C&#39; Empty Empty) (Node &#39;R&#39; Empty Empty)) (Node &#39;A&#39; (Node &#39;A&#39; Empty Empty) (Node &#39;C&#39; Empty Empty)))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯ä»¥å°†è¦ä¿®æ”¹çš„èŠ‚ç‚¹çš„è·¯å¾„ä½œä¸ºä¸€ä¸ªæ•°ç»„ä¼ å…¥ï¼Œæ–¹ä¾¿åœ¨æ ‘ä¸Šæ¸¸èµ°ã€‚</li></ul><h3 id="zipper" tabindex="-1"><a class="header-anchor" href="#zipper"><span>Zipper</span></a></h3><p>ä½†æ˜¯è¿™æ ·éå¸¸ä¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨æ¸¸èµ°çš„åŒæ—¶ä¿ç•™èƒ½å¤Ÿé‡å»ºä¸€é¢—æ ‘æ‰€éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ä»¥æ»¡è¶³ä¿®æ”¹æŸä¸ªèŠ‚ç‚¹åˆ é™¤æŸä¸ªå­æ ‘ç­‰éœ€æ±‚ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¸¸èµ°åˆ°å·¦èŠ‚ç‚¹ï¼Œå°±å¯ä»¥å°†æ ‘çš„æ ¹èŠ‚ç‚¹å€¼å’Œå³å­æ ‘ä¿å­˜èµ·æ¥ï¼Œå•ç‹¬å®šä¹‰ä¸€ä¸ªç±»å‹<code>TreePath</code>æ¥ä¿ç•™è¿™ä¸¤ä¸ªä¿¡æ¯ï¼Œå’Œå·¦å­æ ‘çš„äºŒå…ƒç»„å°±æ„æˆäº†è¿™æ£µæ ‘çš„å®Œæ•´ä¿¡æ¯ã€‚</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- save a path of walking through a tree, LeftPath/RightPath rootValue subTreeOfTheOtherSide</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">data</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> TreePath</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LeftPath</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">RightPath</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">deriving</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Show</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> TreePaths</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = [</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreePath</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">goLeft</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreePaths</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreePaths</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goLeft (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l r, tzs) = (l, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LeftPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x r:tzs)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goLeft (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, tzs) = error </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;go to left of empty tree&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">goRight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreePaths</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreePaths</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goRight (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l r, tzs) = (r, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">RightPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l:tzs)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goRight (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, tzs) = error </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;go to right of empty tree&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">goUp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreePaths</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreePaths</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goUp (t, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">LeftPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x r:tzs) = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x t r, tzs)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goUp (t, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">RightPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l:tzs) = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l t, tzs)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goUp (t, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) = error </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;go to up of root node&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">infixl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">(-:)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">t2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">x -: f = f x</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{- </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fst $ goLeft (goRight (freeTree, []))</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Node &#39;W&#39; (Node &#39;C&#39; Empty Empty) (Node &#39;R&#39; Empty Empty)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fst $ (freeTree, []) -: goLeft -: goRight -: goLeft</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Node &#39;S&#39; Empty Empty</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·çš„äºŒå…ƒç»„å°±ç§°ä¹‹ä¸º<code>Zipper</code>ï¼Œå°±åƒæ‹‰é“¾ä¸€æ ·ï¼Œå°†å…¶å®šä¹‰ä¸ºç±»å‹åˆ«åï¼Œä½œä¸ºå‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºå°±å¯ä»¥æ–¹ä¾¿çš„ä¿®æ”¹ä¸€æ£µæ ‘ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- type synonym</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> TreeZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = (</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreePaths</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- modify value of a node</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">modify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: (</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreeZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreeZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">modify f (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x l r, tps) = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (f x) l r, tps)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">modify f (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, tps) = (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">Empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, tps)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- replace a subtree</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">attach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">Tree</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreeZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreeZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">attach t (_, tps) = (t, tps)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- go to root of a tree</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">goRoot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreeZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">TreeZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goRoot (t, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) = (t, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goRoot (t, tps) = goRoot $ goUp (t, tps)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; let (newTree, zipper) = (freeTree, []) -: goRight -: goLeft -: modify (\_ -&gt; &#39;P&#39;)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; newTree</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Node &#39;P&#39; (Node &#39;C&#39; Empty Empty) (Node &#39;R&#39; Empty Empty)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; fst $ (newTree, zipper) -: goUp -: attach (Node &#39;&amp;&#39; Empty Empty) -: goRoot</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">Node &#39;P&#39; (Node &#39;O&#39; (Node &#39;L&#39; (Node &#39;N&#39; Empty Empty) (Node &#39;T&#39; Empty Empty)) (Node &#39;Y&#39; (Node &#39;S&#39; Empty Empty) (Node &#39;A&#39; Empty Empty))) (Node &#39;&amp;&#39; Empty Empty)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è™½ç„¶æ•°æ®ä¸å¯å˜ï¼Œä½†é€šè¿‡<code>Zipper</code>ï¼Œå…¶å®åŸºæœ¬ä¸Šæ‰€æœ‰çš„äº‹æƒ…éƒ½å¯ä»¥åšäº†ã€‚</p><h3 id="zipper-of-list" tabindex="-1"><a class="header-anchor" href="#zipper-of-list"><span>Zipper of List</span></a></h3><p><code>Zipper</code>å‡ ä¹å¯ä»¥å¥—ç”¨åœ¨ä»»ä½•æ•°æ®ç»“æ„ï¼Œå…¶å®æ€æƒ³å¾ˆç®€å•ï¼Œå°±æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æ‹†å¼€ï¼Œè¾¹ç•Œä½äºå…³å¿ƒçš„ä½ç½®ï¼Œè¦å¢åŠ åˆ é™¤æˆ–è€…ä¿®æ”¹éƒ½å¯ä»¥æ–¹ä¾¿åœ°åšï¼Œç„¶åä¹Ÿå¯ä»¥æ–¹ä¾¿çš„åˆå¹¶èµ·æ¥å¾—åˆ°æœ€ç»ˆçš„ç»“æœã€‚æ“ä½œå‰åçš„å¯¹è±¡ç±»å‹å°±æ˜¯<code>Zipper</code>ã€‚</p><p>æ¯”å¦‚åˆ—è¡¨ï¼š</p><div class="language-haskell line-numbers-mode" data-highlighter="shiki" data-ext="haskell" data-title="haskell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- zipper of list, (rightSideOfList, reversedLeftSideOfList)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">type</span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;"> ListZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = ([</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- index from low to high</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">goForward</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">ListZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">ListZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goForward (x:xs, ys) = (xs, x:ys)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goForward (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, ys) = error </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;go forward of empty list&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- index from high to low</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">goBack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :: </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">ListZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#A626A4;--shiki-dark:#D19A66;">ListZipper</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goBack (xs, x:ys) = (x:xs, ys)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">goBack (xs, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) = error </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;go back of full list&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; goForward . goForward . goForward $ ([1, 2, 3, 4], [])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">([4],[3,2,1])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&gt;&gt;&gt; goBack ([4],[3,2,1])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">([3,4],[2,1])</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ›´å¤šåº”ç”¨ï¼š</p><ul><li>åˆ©ç”¨<code>Zipper</code>å’Œæ ‘ç±»å‹å¯ä»¥å®ç°æ–‡ä»¶ç³»ç»Ÿã€‚</li><li>å¯¹äºå¯èƒ½å¤±è´¥çš„æƒ…å†µå¯ä»¥å°†æ•°æ®ç”¨<code>Maybe</code>ä¸Šä¸‹æ–‡åŒ…è£…ï¼Œå¹¶å°†<code>-:</code>è¿ç®—ç¬¦æ¢æˆ<code>&gt;&gt;=</code>ã€‚</li></ul><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h2><p>æ€»ç»“ï¼š</p><ul><li>åˆ°æ­¤Haskellè¶£å­¦æŒ‡å—å°±ç»“æŸäº†ï¼Œä¹Ÿç®—åŸºæœ¬å…¥é—¨äº†Haskelläº†ï¼Ÿä½†å…¶å®ä¸€å¼€å§‹çš„é‚£å¥è¯å•å­æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„å¹ºåŠç¾¤å…¶å®å¹¶æ²¡æœ‰ç†è§£ï¼Œå¹¶ä¸æ¶‰åŠåˆ°èŒƒç•´è®ºçš„å†…å®¹ã€‚å¯¹äºå‡½å­ã€åº”ç”¨å‡½å­ã€å•å­çš„ç†è§£ä»…é™äºå®è·µå±‚é¢ï¼Œå¯¹åº”çš„èŒƒç•´è®ºè¿˜æ²¡æœ‰å­¦ä¹ ã€‚</li><li>å¦å¤–è¿™æœ¬ä¹¦ç¡®å®ä¸€ç‚¹éƒ½ä¸Real Worldï¼Œå…¶ä¸­çš„å†…å®¹ä»…ç®—æ˜¯ä»‹ç»ï¼ŒçœŸå®ä¸–ç•Œçš„Haskellç¼–ç¨‹å…¶å®åŸºæœ¬å¯ä»¥è¯´æ²¡æœ‰ä»»ä½•äº†è§£ã€‚</li></ul><p>ä¸‹ä¸€æ­¥æ–¹å‘ï¼š</p><ul><li>åˆ·å®Œ<a href="https://wiki.haskell.org/H-99:_Ninety-Nine_Haskell_Problems" target="_blank" rel="noopener noreferrer">Haskell 99 Problem</a>ï¼Œè¿™åªæ˜¯ä¹ é¢˜æ°´å¹³ï¼Œè¿˜æ˜¯è¿œè¿œä¸è¶³ä»¥æŒ‡å¯¼å®è·µã€‚</li><li>çœ‹<a href="https://wiki.haskell.org/Typeclassopedia" target="_blank" rel="noopener noreferrer">Typeclassopedia</a>ï¼Œææ¸…æ¥šæ‰€æœ‰å¸¸ç”¨å†…å»ºç±»å‹ç±»ï¼Œå»ºç«‹èµ·ç›´è§‰ã€‚</li><li>çœ‹<a href="http://cnhaskell.com/index.html" target="_blank" rel="noopener noreferrer">Real World Haskell</a>ã€‚</li><li>å­¦ä¹ èŒƒç•´è®ºã€‚</li><li>æš‚æ—¶å¯ä»¥æ”¾ä¸€æ”¾ï¼Œæœ‰ç©ºæœ‰å…´è¶£äº†æ¥åšã€‚</li></ul></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/Crc011220/Crc011220.github.io/edit/main/src/zh/posts/declarative/haskell.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/5/23 13:31:08</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: ruocchen1220@gmail.com">Ruochen Chen</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link auto-link next" href="/zh/posts/declarative/haskell%E9%80%9F%E8%AE%B0.html" aria-label="Haskell å¸¸è§å†…ç½®å‡½æ•°é€ŸæŸ¥"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Haskell å¸¸è§å†…ç½®å‡½æ•°é€ŸæŸ¥<span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">å­¦æµ·æ— æ¶¯</div><div class="vp-copyright">Copyright Â© 2025 Ruochen Chen </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.f8f5c2bd.js" defer></script><script src="/assets/js/6312.2d95f1ad.js" defer></script><script src="/assets/js/app.88bbb491.js" defer></script>
  </body>
</html>
