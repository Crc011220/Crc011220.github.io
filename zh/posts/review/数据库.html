<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://crc011220.github.io/zh/posts/review/%E6%95%B0%E6%8D%AE%E5%BA%93.html"><meta property="og:site_name" content="Ruochen Chen"><meta property="og:title" content="数据库"><meta property="og:description" content="数据库 数据库概念 数据库系统是由数据库、数据库管理系统（及其应用开发工具）、应用程序和数据库管理员（Data Base Administrator，DBA）组成的存储、管理、处理和维护数据的系统 数据库技术发展 数据库系统特点 数据结构化 数据的共享度高 数据的独立性高 统一管理和控制 数据模型组成要素 数据模型 关系模型的数据模型 举例讲解 表名（..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-07-22T05:15:20.000Z"><meta property="article:tag" content="Review"><meta property="article:published_time" content="2025-07-21T00:00:00.000Z"><meta property="article:modified_time" content="2025-07-22T05:15:20.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"数据库","image":[""],"datePublished":"2025-07-21T00:00:00.000Z","dateModified":"2025-07-22T05:15:20.000Z","author":[{"@type":"Person","name":"Ruochen Chen"}]}</script><link rel="icon" href="/mac.ico"><title>数据库 | Ruochen Chen</title><meta name="description" content="数据库 数据库概念 数据库系统是由数据库、数据库管理系统（及其应用开发工具）、应用程序和数据库管理员（Data Base Administrator，DBA）组成的存储、管理、处理和维护数据的系统 数据库技术发展 数据库系统特点 数据结构化 数据的共享度高 数据的独立性高 统一管理和控制 数据模型组成要素 数据模型 关系模型的数据模型 举例讲解 表名（...">
    <link rel="stylesheet" href="/assets/css/styles.563fed46.css">
    <link rel="preload" href="/assets/js/runtime~app.2ca89e3a.js" as="script"><link rel="preload" href="/assets/css/styles.563fed46.css" as="style"><link rel="preload" href="/assets/js/6312.2d95f1ad.js" as="script"><link rel="preload" href="/assets/js/app.c74704cc.js" as="script">
    <link rel="prefetch" href="/assets/js/zh_posts_declarative_haskell.html.f219f509.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_java8_函数式编程.html.6406d92a.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_Netty01-nio.html.6aaca557.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_Netty04-优化与源码.html.8edea904.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_Netty03-进阶.html.6b130a66.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_数组.html.52b694da.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_Netty02-intro.html.48ff395e.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_动态规划.html.563f4d88.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_nginx_1.html.be9ccc3a.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_二叉树.html.23a9ce7e.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_declarative_prolog.html.d10c8ca1.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_链表.html.fdbcb853.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_COMP90024.html.c07eee32.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_图.html.ae7133bf.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_hive_Hive-SQL语法大全.html.4ea325b1.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_14.html.91687ee1.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_declarative_haskell速记.html.0de6f0c8.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_栈和队列.html.48986a9e.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_COMP90049.html.4b1c6d22.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_COMP90050.html.4b5d3bee.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_面试要点.html.20f47f57.js" as="script"><link rel="prefetch" href="/assets/js/posts_note_Coin-exchange-project-note.html.9c9c631c.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_回溯.html.4c75cd24.js" as="script"><link rel="prefetch" href="/assets/js/posts_tailwind_summary.html.7c9f97e6.js" as="script"><link rel="prefetch" href="/assets/js/2664.0c0e265f.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_其他问题.html.a019e4d7.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_数据结构.html.1143a147.js" as="script"><link rel="prefetch" href="/assets/js/posts_typescript_1.html.adb4c039.js" as="script"><link rel="prefetch" href="/assets/js/posts_typescript_2.html.70e869a7.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_其他.html.793c9ac8.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_贪心.html.0a8549f7.js" as="script"><link rel="prefetch" href="/assets/js/posts_aws-saa_1.html.12f65834.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_ml.html.930a6c4a.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_数据库.html.b80c36f1.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_计算机网络.html.4feba167.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_COMP90048.html.8968005c.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_计算机组成原理.html.1c8444d9.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_操作系统.html.cb776d41.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_1.html.42f88b26.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_declarative_prolog速记.html.06d2d57f.js" as="script"><link rel="prefetch" href="/assets/js/8300.ef6ef338.js" as="script"><link rel="prefetch" href="/assets/js/posts_mybatis_2.html.5926ba81.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_7.html.d2987d20.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_4.html.d05f7970.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_5.html.74809557.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_8.html.48797aee.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_2.html.5da88c74.js" as="script"><link rel="prefetch" href="/assets/js/posts_aws-saa_3.html.3976b1b1.js" as="script"><link rel="prefetch" href="/assets/js/posts_nginx_1.html.9d684d75.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_SWEN90016.html.240e6126.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_双指针.html.7af7f076.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_哈希.html.756f5c70.js" as="script"><link rel="prefetch" href="/assets/js/posts_spark_Spark-Core.html.d371024a.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_11.html.acf3feb6.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_14.html.6ae00502.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_8.html.35609b90.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_4.html.76f297f5.js" as="script"><link rel="prefetch" href="/assets/js/posts_spark_Spark-Sql.html.1a76e157.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_21.html.5d38e92e.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_信息新技术.html.016ea36f.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_11.html.6ac0e485.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_5.html.d6b5776e.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_6.html.9f42e615.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_10.html.7cfe6b37.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_1.html.275b2472.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_6.html.b0bf65af.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_4.html.bb865133.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_单调栈.html.97d2a1c2.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_15.html.6ad131ac.js" as="script"><link rel="prefetch" href="/assets/js/posts_aws-saa_2.html.19b4fc69.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_6.html.0ce6907d.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_3.html.07708648.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_12.html.33aac800.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_14.html.4487a39f.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_13.html.1600cb03.js" as="script"><link rel="prefetch" href="/assets/js/posts_ai_javaai.html.ddef5ab6.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_5.html.c674a286.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_6.html.c703f5fb.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_2.html.2012a517.js" as="script"><link rel="prefetch" href="/assets/js/posts_typescript_3.html.67716c58.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_2.html.3cb286a6.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_16.html.47a98467.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_2.html.2faaae84.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_7.html.b7a17cf5.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_3.html.e6de0801.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_12.html.78a79e16.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_17.html.48e4e11f.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_位运算.html.89a49729.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_13.html.1af16bb4.js" as="script"><link rel="prefetch" href="/assets/js/intro.html.94b9bc8e.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_9.html.c802974b.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_15.html.c14ce54d.js" as="script"><link rel="prefetch" href="/assets/js/posts_ai_create_mcp.html.7bbd9d99.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_18.html.6db3b8d0.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_1.html.52e2c809.js" as="script"><link rel="prefetch" href="/assets/js/posts_ai_mcp.html.97488bfa.js" as="script"><link rel="prefetch" href="/assets/js/posts_mybatis_1.html.0715b7ed.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_1.html.b4be9a5c.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_7.html.391ad3ae.js" as="script"><link rel="prefetch" href="/assets/js/posts_istio_1.html.0402dff2.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_4.html.babb3186.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_15.html.1a066aec.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_10.html.a809572e.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_1.html.3f7ea202.js" as="script"><link rel="prefetch" href="/assets/js/zh_intro.html.4f0fc279.js" as="script"><link rel="prefetch" href="/assets/js/posts_spark_Spark-Intro.html.ccd5e5dd.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_5.html.e4df8be3.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_19.html.f4de2c0a.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_7.html.be9d15e1.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_3.html.1db9eef8.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_7.html.95a6d006.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_8.html.bf7de1dc.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_字符串.html.7bb4b0c9.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_index.html.964e7b71.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_3.html.b6b4d014.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_Hive.html.0678d205.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_7.html.97e8c4ab.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_9.html.daf44b98.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_HDFS.html.bc68b1b5.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_index.html.969cd922.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_2.html.03f4e466.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_8.html.266a2255.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_4.html.f53cce1e.js" as="script"><link rel="prefetch" href="/assets/js/posts_jd_note.html.d14373ad.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_5.html.4cdca3c2.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_3.html.47cad464.js" as="script"><link rel="prefetch" href="/assets/js/posts_docker_1.html.fb8facad.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_11.html.ce50e313.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_microsvc_1.html.2fe97c3c.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_index.html.8bdb826b.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_summary.html.dcef505d.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_6.html.b6472eba.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_6.html.02cce475.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_数学.html.dfdf15d8.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_3.html.e8a57164.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_6.html.0c46208c.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_7.html.34e04d11.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_8.html.ae4c64a3.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_4.html.a8ec1263.js" as="script"><link rel="prefetch" href="/assets/js/posts_elasticsearch_query-dsl.html.c10df9f4.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_cloudflare.html.8d90577a.js" as="script"><link rel="prefetch" href="/assets/js/posts_algorithm_20.html.490f1029.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_1.html.0cac3363.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_5.html.a42942da.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_2.html.1499c365.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_10.html.156d0fc8.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_16.html.94f2539e.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_practices_3.html.2d055dbe.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_tools.html.4cf9b015.js" as="script"><link rel="prefetch" href="/assets/js/posts_elasticsearch_1.html.55fea42c.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_2.html.4fddb7fe.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_index.html.9f6e664a.js" as="script"><link rel="prefetch" href="/assets/js/posts_dubbo_1.html.1f23a627.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_concepts_4.html.1c4ee376.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_9.html.132d4ce9.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_index.html.3644a432.js" as="script"><link rel="prefetch" href="/assets/js/posts_nextjs_index.html.b114f681.js" as="script"><link rel="prefetch" href="/assets/js/posts_interview_9.html.a3039a5a.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_index.html.6e477592.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_1.html.ea5597b0.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_8.html.bc2310ff.js" as="script"><link rel="prefetch" href="/assets/js/posts_elasticsearch_2.html.965ea244.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_genesis.html.b92085d2.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_5.html.4cfebd9b.js" as="script"><link rel="prefetch" href="/assets/js/posts_unimelb_index.html.77a0d6fd.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_MapReduce.html.66b74478.js" as="script"><link rel="prefetch" href="/assets/js/posts_genesis.html.f2dcbd5d.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_12.html.6f85b8a6.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_sealos.html.2f8ff09a.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_index.html.30eae38c.js" as="script"><link rel="prefetch" href="/assets/js/posts_dubbo_2.html.4153924b.js" as="script"><link rel="prefetch" href="/assets/js/posts_cliché_13.html.9f0ab2c4.js" as="script"><link rel="prefetch" href="/assets/js/posts_aws-saa_index.html.91a04274.js" as="script"><link rel="prefetch" href="/assets/js/posts_typescript_index.html.3113541a.js" as="script"><link rel="prefetch" href="/assets/js/posts_elasticsearch_index.html.4152a6b9.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_index.html.c927a97d.js" as="script"><link rel="prefetch" href="/assets/js/index.html.8b8ff801.js" as="script"><link rel="prefetch" href="/assets/js/posts_dubbo_index.html.6c52fb32.js" as="script"><link rel="prefetch" href="/assets/js/posts_hadoop_Yarn.html.94f37571.js" as="script"><link rel="prefetch" href="/assets/js/posts_nginx_index.html.75cc2b5d.js" as="script"><link rel="prefetch" href="/assets/js/posts_ai_index.html.6d4a62d9.js" as="script"><link rel="prefetch" href="/assets/js/posts_mybatis_index.html.f1a73719.js" as="script"><link rel="prefetch" href="/assets/js/posts_spark_index.html.434a7834.js" as="script"><link rel="prefetch" href="/assets/js/posts_kubernetes_microsvc_index.html.7ac9796f.js" as="script"><link rel="prefetch" href="/assets/js/posts_cmb_9.html.e9ae3067.js" as="script"><link rel="prefetch" href="/assets/js/posts_nginx_2.html.61b94ab9.js" as="script"><link rel="prefetch" href="/assets/js/zh_index.html.b526dd8b.js" as="script"><link rel="prefetch" href="/assets/js/posts_tailwind_index.html.a3b1860b.js" as="script"><link rel="prefetch" href="/assets/js/posts_docker_index.html.915fb03b.js" as="script"><link rel="prefetch" href="/assets/js/posts_istio_index.html.d4b67811.js" as="script"><link rel="prefetch" href="/assets/js/posts_note_index.html.79ea061a.js" as="script"><link rel="prefetch" href="/assets/js/category_learning-records_index.html.f32ee64d.js" as="script"><link rel="prefetch" href="/assets/js/tag_nginx_index.html.0fa6f2ea.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_declarative-programming_index.html.6ae8ae47.js" as="script"><link rel="prefetch" href="/assets/js/category_index.html.50e2e1bc.js" as="script"><link rel="prefetch" href="/assets/js/timeline_index.html.a204d771.js" as="script"><link rel="prefetch" href="/assets/js/article_index.html.ffcd7938.js" as="script"><link rel="prefetch" href="/assets/js/zh_category_学习笔记_index.html.12546e3e.js" as="script"><link rel="prefetch" href="/assets/js/category_internship-journal_index.html.4b3fa613.js" as="script"><link rel="prefetch" href="/assets/js/zh_category_learning-records_index.html.af6fedad.js" as="script"><link rel="prefetch" href="/assets/js/tag_index.html.dbf647b4.js" as="script"><link rel="prefetch" href="/assets/js/star_index.html.7f8a9df9.js" as="script"><link rel="prefetch" href="/assets/js/tag_programmer-cliché_index.html.120cca1a.js" as="script"><link rel="prefetch" href="/assets/js/tag_algorithm-practices_index.html.d975dd18.js" as="script"><link rel="prefetch" href="/assets/js/tag_china-merchant-bank_index.html.de8b373f.js" as="script"><link rel="prefetch" href="/assets/js/tag_technical-interview_index.html.acf61e6f.js" as="script"><link rel="prefetch" href="/assets/js/posts_index.html.c7f3157a.js" as="script"><link rel="prefetch" href="/assets/js/zh_category_开始_index.html.29cb4412.js" as="script"><link rel="prefetch" href="/assets/js/tag_tailwind-css_index.html.7b3e36e9.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_旅程_index.html.151709c9.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_简历_index.html.96ae735a.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_algorithm_index.html.5a457b02.js" as="script"><link rel="prefetch" href="/assets/js/category_genesis_index.html.66947f9e.js" as="script"><link rel="prefetch" href="/assets/js/tag_javascript_index.html.266dcd48.js" as="script"><link rel="prefetch" href="/assets/js/tag_kubernetes_index.html.2b919c53.js" as="script"><link rel="prefetch" href="/assets/js/tag_typescript_index.html.ab5e1572.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_review_index.html.9bc60916.js" as="script"><link rel="prefetch" href="/assets/js/tag_leetcode_index.html.6b98bbdb.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_java8_index.html.5b1186ee.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_netty_index.html.3ede65fb.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_nginx_index.html.c21f0432.js" as="script"><link rel="prefetch" href="/assets/js/tag_aws-saa_index.html.01a20249.js" as="script"><link rel="prefetch" href="/assets/js/tag_mybatis_index.html.bdbe6d2a.js" as="script"><link rel="prefetch" href="/assets/js/tag_unimelb_index.html.d4bafe83.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_hive_index.html.fab4d732.js" as="script"><link rel="prefetch" href="/assets/js/tag_docker_index.html.b7d4cbf8.js" as="script"><link rel="prefetch" href="/assets/js/tag_hadoop_index.html.39a6a55f.js" as="script"><link rel="prefetch" href="/assets/js/tag_nextjs_index.html.581d2c34.js" as="script"><link rel="prefetch" href="/assets/js/tag_resume_index.html.c4e4c327.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_nio_index.html.0a4acee3.js" as="script"><link rel="prefetch" href="/assets/js/tag_dubbo_index.html.90f9e5c2.js" as="script"><link rel="prefetch" href="/assets/js/tag_index_index.html.ee3192d7.js" as="script"><link rel="prefetch" href="/assets/js/tag_istio_index.html.cb329abb.js" as="script"><link rel="prefetch" href="/assets/js/tag_notes_index.html.075779e3.js" as="script"><link rel="prefetch" href="/assets/js/tag_react_index.html.49ec34fb.js" as="script"><link rel="prefetch" href="/assets/js/tag_spark_index.html.287e8a9c.js" as="script"><link rel="prefetch" href="/assets/js/404.html.15229e01.js" as="script"><link rel="prefetch" href="/assets/js/zh_timeline_index.html.3a7839f4.js" as="script"><link rel="prefetch" href="/assets/js/tag_ai_index.html.3120c8b4.js" as="script"><link rel="prefetch" href="/assets/js/tag_es_index.html.8f0f4273.js" as="script"><link rel="prefetch" href="/assets/js/tag_jd_index.html.6c64e177.js" as="script"><link rel="prefetch" href="/assets/js/zh_category_index.html.e65aefca.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_declarative_index.html.6759320d.js" as="script"><link rel="prefetch" href="/assets/js/zh_article_index.html.2c545722.js" as="script"><link rel="prefetch" href="/assets/js/zh_tag_index.html.6a5580f0.js" as="script"><link rel="prefetch" href="/assets/js/zh_star_index.html.698b9149.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_review_index.html.6b5498be.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_java8_index.html.245580da.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_netty_index.html.9e91bcfd.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_nginx_index.html.6deedd0e.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_algo_index.html.d664c5ec.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_hive_index.html.e3d7d626.js" as="script"><link rel="prefetch" href="/assets/js/zh_posts_index.html.46dc1fe4.js" as="script"><link rel="prefetch" href="/assets/js/posts_jd_index.html.7a8d7890.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/zh/" aria-label="带我回家"><img class="vp-nav-logo" src="/bubu.jpg" alt><!----><span class="vp-site-name hide-in-pad">Ruochen Chen</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/zh/" aria-label="主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="笔记"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>笔记<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Hive</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/hive/Hive-SQL%E8%AF%AD%E6%B3%95%E5%A4%A7%E5%85%A8.html" aria-label="Hive语法大全"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Hive语法大全<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Java8特性</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/java8/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B.html" aria-label="函数式编程"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->函数式编程<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Netty</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/netty/Netty01-nio.html" aria-label="Nio介绍"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Nio介绍<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/netty/Netty02-intro.html" aria-label="Netty入门"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Netty入门<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/netty/Netty03-%E8%BF%9B%E9%98%B6.html" aria-label="Netty进阶"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Netty进阶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/netty/Netty04-%E4%BC%98%E5%8C%96%E4%B8%8E%E6%BA%90%E7%A0%81.html" aria-label="Netty优化"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->Netty优化<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">NGINX</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/zh/posts/nginx/1.html" aria-label="NGINX 高级"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->NGINX 高级<!----></a></li></ul></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" name="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/" aria-label="English"><!---->English<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/zh/posts/review/%E6%95%B0%E6%8D%AE%E5%BA%93.html" aria-label="简体中文"><!---->简体中文<!----></a></li></ul></button></div></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Crc011220/Crc011220.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/zh/" aria-label="主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->主页<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">笔记</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Algo</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Declarative</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Hive</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java8</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Netty</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nginx</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Review</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/review/%E4%BF%A1%E6%81%AF%E6%96%B0%E6%8A%80%E6%9C%AF.html" aria-label="信息新技术"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->信息新技术<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/review/%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98.html" aria-label="其他问题"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->其他问题<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/review/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html" aria-label="操作系统"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->操作系统<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/review/%E6%95%B0%E5%AD%A6.html" aria-label="数学"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->数学<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/zh/posts/review/%E6%95%B0%E6%8D%AE%E5%BA%93.html" aria-label="数据库"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->数据库<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/review/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" aria-label="数据结构"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->数据结构<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/review/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.html" aria-label="计算机组成原理"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->计算机组成原理<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/review/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html" aria-label="计算机网络"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->计算机网络<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/review/%E9%9D%A2%E8%AF%95%E8%A6%81%E7%82%B9.html" aria-label="面试要点"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->面试要点<!----></a></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/posts/genesis.html" aria-label="开始"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->开始<!----></a></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/intro.html" aria-label="关于我"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span><!--]-->关于我<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>数据库</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Ruochen Chen</span></span><span property="author" content="Ruochen Chen"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年7月21日</span><meta property="datePublished" content="2025-07-21T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 28 分钟</span><meta property="timeRequired" content="PT28M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color5 clickable" role="navigation">Learning Records</span><!--]--><meta property="articleSection" content="Learning Records"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color0 clickable" role="navigation">Review</span><!--]--><meta property="keywords" content="Review"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#数据库概念">数据库概念</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#数据库技术发展">数据库技术发展</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#数据库系统特点">数据库系统特点</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#数据模型组成要素">数据模型组成要素</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#数据模型">数据模型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#关系模型的数据模型">关系模型的数据模型</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#关系模型性质">关系模型性质</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#er图">ER图</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#三级模式">三级模式</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#二级映像">二级映像</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#关系数据库概论">关系数据库概论</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#关系数据结构">关系数据结构</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#关系操作">关系操作</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#关系完整性">关系完整性</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#sql">SQL</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#特点">特点</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#模式操作">模式操作</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#基本表操作">基本表操作</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#索引和视图操作">索引和视图操作</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#查询操作">查询操作</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#更新操作">更新操作</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#查询条件">查询条件</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#安全性">安全性</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#安全级别标准">安全级别标准</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#安全机制">安全机制</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#授权和回收">授权和回收</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#数据库角色">数据库角色</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#关系数据查询与优化">关系数据查询与优化</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#一般步骤">一般步骤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#规范化">规范化</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#数据库设计">数据库设计</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#设计方法">设计方法</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#设计策略">设计策略</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#设计步骤">设计步骤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#dba-数据库管理员-database-administrator-工作内容">DBA（数据库管理员 Database Administrator）工作内容</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#er图的冲突">ER图的冲突</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#数据库恢复技术">数据库恢复技术</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#事务">事务</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#故障和恢复技术">故障和恢复技术</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#数据库镜像">数据库镜像</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#并发控制">并发控制</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#并发问题">并发问题</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#三级封锁协议">三级封锁协议</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2pl-两阶段封锁">2PL（两阶段封锁）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#活锁和死锁">活锁和死锁</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#死锁预防和解除">死锁预防和解除</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="数据库" tabindex="-1"><a class="header-anchor" href="#数据库"><span>数据库</span></a></h1><h2 id="数据库概念" tabindex="-1"><a class="header-anchor" href="#数据库概念"><span>数据库概念</span></a></h2><ul><li>数据库系统是由数据库、数据库管理系统（及其应用开发工具）、应用程序和数据库管理员（Data Base Administrator，DBA）组成的存储、管理、处理和维护数据的系统</li></ul><h3 id="数据库技术发展" tabindex="-1"><a class="header-anchor" href="#数据库技术发展"><span>数据库技术发展</span></a></h3><table><thead><tr><th>阶段</th><th>主要特点</th><th>使用场景举例</th></tr></thead><tbody><tr><td><strong>人工管理阶段</strong></td><td>- 数据<strong>不保存</strong><br>- 应用程序直接管理数据<br>- 数据面向应用<br>- 无独立性</td><td>最早期（如纸质记录、临时内存）</td></tr><tr><td><strong>文件系统管理阶段</strong></td><td>- 数据存放于<strong>文件</strong><br>- 程序与数据有<strong>一定独立性</strong><br>- 文件种类繁多<br>- 冗余高、共享差</td><td>早期计算机系统、C语言读写文件</td></tr><tr><td><strong>数据库管理阶段</strong></td><td>- <strong>结构化存储</strong><br>- 数据共享性好，冗余低<br>- 数据独立性强<br>- 由 <strong>DBMS统一管理</strong></td><td>现代企业信息系统、MIS 系统等</td></tr><tr><td><strong>高级数据库管理阶段</strong></td><td>- 支持<strong>分布式、大数据、对象、图形、云原生</strong>等特性<br>- 支持复杂查询、事务与安全机制</td><td>云数据库、分布式数据库、图数据库等</td></tr></tbody></table><h3 id="数据库系统特点" tabindex="-1"><a class="header-anchor" href="#数据库系统特点"><span>数据库系统特点</span></a></h3><ul><li>数据结构化</li><li>数据的共享度高</li><li>数据的独立性高</li><li>统一管理和控制</li></ul><h3 id="数据模型组成要素" tabindex="-1"><a class="header-anchor" href="#数据模型组成要素"><span>数据模型组成要素</span></a></h3><table><thead><tr><th>要素</th><th>说明</th><th>快速识记关键词</th></tr></thead><tbody><tr><td><strong>数据结构</strong></td><td>描述数据库的组成对象和对象之间的联系，包括类型、属性、关系等</td><td><strong>结构=对象 + 联系</strong></td></tr><tr><td><strong>数据操作</strong></td><td>对数据库中对象实例执行的各种操作（如查询、插入、删除、更新）以及操作规则</td><td><strong>操作=能做啥 + 规则</strong></td></tr><tr><td><strong>完整性约束</strong></td><td>用于<strong>约束和规范数据</strong>的合法性，保证数据库中数据的<strong>正确性与一致性</strong></td><td><strong>约束=规则 + 依赖性</strong></td></tr></tbody></table><h3 id="数据模型" tabindex="-1"><a class="header-anchor" href="#数据模型"><span>数据模型</span></a></h3><table><thead><tr><th>数据模型</th><th>结构特征</th><th>优点/特点</th><th>口诀速记</th></tr></thead><tbody><tr><td><strong>层次模型</strong></td><td>- 一棵树结构<br>- 只有一个根结点<br>- 每个结点仅有一个双亲</td><td>- 层次清晰，结构简单<br>- 查询速度快<br>- 插入/修改不方便</td><td><strong>一根一亲是层次</strong></td></tr><tr><td><strong>网状模型</strong></td><td>- 图结构<br>- 结点可有多个双亲<br>- 可有多个根</td><td>- 灵活性强，能描述复杂关系<br>- 查询复杂，开发难度高</td><td><strong>多根多亲是网状</strong></td></tr><tr><td><strong>关系模型</strong></td><td>- 表格结构（关系）<br>- 用元组、属性、关系表示一切</td><td>- 建立在<strong>数学基础</strong>上<br>- 概念<strong>单一清晰</strong><br>- 易学易用<br> - 数据<strong>独立性高</strong>、<strong>安全性好</strong></td><td><strong>全是表，关系妙</strong></td></tr></tbody></table><h3 id="关系模型的数据模型" tabindex="-1"><a class="header-anchor" href="#关系模型的数据模型"><span>关系模型的数据模型</span></a></h3><table><thead><tr><th>术语</th><th>对应解释</th><th>速记法</th></tr></thead><tbody><tr><td><strong>关系 relation</strong></td><td>一张表（如学生登记表）</td><td>📋“表就是关系”</td></tr><tr><td><strong>元组 tuple</strong></td><td>表中一行数据（如一个学生记录）</td><td>📌“一行一元组”</td></tr><tr><td><strong>属性 attribute</strong></td><td>表中的一列（如学号、姓名等）</td><td>📊“一列一属性”</td></tr><tr><td><strong>码 key</strong></td><td>能唯一标识一行的字段（如学号）</td><td>🔐“唯一识别靠主码”</td></tr><tr><td><strong>域 domain</strong></td><td>某属性的取值范围（如性别 ∈ {男, 女}）</td><td>📎“属性取值有范围，称为域”</td></tr><tr><td><strong>分量 component</strong></td><td>一个元组中的某个属性值（如“王小明”）</td><td>🔍“属性值称作分量”</td></tr></tbody></table><h4 id="举例讲解" tabindex="-1"><a class="header-anchor" href="#举例讲解"><span>举例讲解</span></a></h4><p>表名（关系）：学生登记表</p><table><thead><tr><th>学号</th><th>姓名</th><th>年龄</th><th>性别</th><th>系名</th><th>年级</th></tr></thead><tbody><tr><td>2013004</td><td>王小明</td><td>19</td><td>女</td><td>社会学</td><td>2013</td></tr><tr><td>2013006</td><td>黄大鹏</td><td>20</td><td>男</td><td>商品学</td><td>2013</td></tr><tr><td>2013008</td><td>张文斌</td><td>18</td><td>女</td><td>法律</td><td>2013</td></tr></tbody></table><ul><li><p><strong>关系（Relation）</strong>：这整张表就是一个关系，名字可以叫 <code>学生</code>。</p></li><li><p><strong>元组（Tuple）</strong>：每一行是一个元组，例如 <code>（2013004, 王小明, 19, 女, 社会学, 2013）</code></p></li><li><p><strong>属性（Attribute）</strong>：如“姓名”“年龄”等列。</p></li><li><p><strong>码（Key）</strong>：学号唯一标识学生，是主码。</p></li><li><p><strong>域（Domain）</strong>：</p><ul><li><code>性别属性 ∈ {男，女}</code></li><li><code>年龄属性 ∈ \[15, 45]</code></li></ul></li><li><p><strong>分量</strong>：王小明、20、社会学等具体值就是分量。</p></li></ul><h3 id="关系模型性质" tabindex="-1"><a class="header-anchor" href="#关系模型性质"><span>关系模型性质</span></a></h3><table><thead><tr><th>编号</th><th>性质说明</th><th>关键词</th><th>速记法</th></tr></thead><tbody><tr><td>1</td><td>行的顺序无关，元组互换不影响关系</td><td>行可调</td><td>“行换不影响”</td></tr><tr><td>2</td><td>分量必须是原子量，不可再分</td><td>原子分量</td><td>“分量不可再拆”</td></tr><tr><td>3</td><td>不能有重复行，元组必须唯一</td><td>无重复元组</td><td>“两行不能完全相同”</td></tr><tr><td>4</td><td>属性名唯一，不能有相同列名</td><td>列名唯一</td><td>“列名不能重样”</td></tr><tr><td>5</td><td>列的顺序无关，属性互换不影响</td><td>列可调</td><td>“列调换无影响”</td></tr><tr><td>6</td><td>同列数据来自同一域，即数据类型一致</td><td>同域同质</td><td>“同一列必须同质”</td></tr></tbody></table><h3 id="er图" tabindex="-1"><a class="header-anchor" href="#er图"><span>ER图</span></a></h3><table><thead><tr><th>内容</th><th>图形表示</th><th>快速记法</th></tr></thead><tbody><tr><td><strong>E-R 图：实体-联系图</strong></td><td>-</td><td>“E 是 Entity，R 是 Relationship”</td></tr><tr><td><strong>图形表示法</strong></td><td></td><td></td></tr><tr><td>实体（Entity）</td><td>▭ 矩形</td><td>“实体是框——人、物、概念” 矩形框内写明实体名</td></tr><tr><td>属性（Attribute）</td><td>⬭ 椭圆</td><td>“属性像蛋——描述实体的特征” 用无向边将其对应的实体型连接起来</td></tr><tr><td>联系（Relationship）</td><td>◇ 菱形</td><td>“联系是菱形——谁和谁之间的关系” 菱形框内写明联系名，并用无向边分别与有关实体型连接起来</td></tr><tr><td><strong>联系类型（基数）</strong></td><td></td><td>“一多多多要分清”</td></tr><tr><td>一对一（1:1）</td><td></td><td>每个实体只联系一个实体</td></tr><tr><td>一对多（1:N）</td><td></td><td>一个对应多个</td></tr><tr><td>多对一（N:1）</td><td></td><td>多个对应一个</td></tr><tr><td>多对多（M:N）</td><td></td><td>多个对多个</td></tr></tbody></table><ul><li>实体:客观存在并且可以区分的具体事物或者抽象概念。</li><li>实体型:实体集的名称及其所有属性名的集合称为实体型。</li><li>实体集:所有属性名完全相同的实体集合在一起， 称为实体集。</li></ul><h3 id="三级模式" tabindex="-1"><a class="header-anchor" href="#三级模式"><span>三级模式</span></a></h3><table><thead><tr><th>名称</th><th>又称</th><th>面向对象</th><th>作用 &amp; 特点</th></tr></thead><tbody><tr><td><strong>模式</strong></td><td>逻辑模式</td><td>面向整个数据库</td><td>描述<strong>全体数据的逻辑结构</strong>，所有用户共享，<br>是数据库的“总体视图”</td></tr><tr><td><strong>外模式</strong></td><td>子模式、视图</td><td>面向用户</td><td>是<strong>每个用户看到的数据子集</strong>，用于<strong>控制访问权限、安全性、定制视图</strong></td></tr><tr><td><strong>内模式</strong></td><td>存储模式</td><td>面向系统</td><td>定义<strong>物理存储方式</strong>：如何在磁盘上保存数据（如索引结构、压缩、加密）</td></tr></tbody></table><h3 id="二级映像" tabindex="-1"><a class="header-anchor" href="#二级映像"><span>二级映像</span></a></h3><table><thead><tr><th>映像名称</th><th>映射对象</th><th>作用</th><th>保证什么独立性</th><th>说明</th></tr></thead><tbody><tr><td>外模式/模式映像</td><td>外模式 ←→ 模式</td><td>定义用户视图和逻辑结构的对应</td><td><strong>逻辑独立性</strong></td><td>模式改了，外模式不动，程序不改</td></tr><tr><td>模式/内模式映像</td><td>模式 ←→ 内模式</td><td>定义逻辑结构和物理结构的对应</td><td><strong>物理独立性</strong></td><td>存储方式改了，模式不动，程序不改</td></tr></tbody></table><h2 id="关系数据库概论" tabindex="-1"><a class="header-anchor" href="#关系数据库概论"><span>关系数据库概论</span></a></h2><h3 id="关系数据结构" tabindex="-1"><a class="header-anchor" href="#关系数据结构"><span>关系数据结构</span></a></h3><table><thead><tr><th>名称</th><th>作用</th><th>特点</th></tr></thead><tbody><tr><td>超码 Superkey</td><td>能唯一识别元组</td><td>可能含多余字段</td></tr><tr><td>候选码 Candidate Key</td><td>最简超码</td><td>不能再删字段</td></tr><tr><td>主码 Primary Key</td><td>候选码中选一个做代表</td><td>只能有一个</td></tr><tr><td>外码 Foreign Key</td><td>指向别的表的主码</td><td>表间建立联系，非自己表主码</td></tr></tbody></table><h3 id="关系操作" tabindex="-1"><a class="header-anchor" href="#关系操作"><span>关系操作</span></a></h3><table><thead><tr><th>运算</th><th>符号</th><th>类似集合什么操作？</th><th>常用场景</th></tr></thead><tbody><tr><td>并</td><td>∪</td><td>集合并集</td><td>多个条件取并集</td></tr><tr><td>差</td><td>−</td><td>集合差集</td><td>去除某些元组</td></tr><tr><td>交</td><td>∩</td><td>集合交集</td><td>找共同数据</td></tr><tr><td>笛卡尔积</td><td>×</td><td>所有组合</td><td>连接前的构造中间表</td></tr><tr><td>选择</td><td>σ</td><td>筛选行</td><td><code>WHERE</code> 子句作用</td></tr><tr><td>投影</td><td>π</td><td>选列</td><td><code>SELECT</code> 子句作用</td></tr><tr><td>连接</td><td>⨝</td><td>基于笛卡尔积的筛选组合</td><td>表关联查询</td></tr><tr><td>除</td><td>÷</td><td>含义较特殊：全包含匹配</td><td>满足所有条件的筛选（高级）</td></tr></tbody></table><h3 id="关系完整性" tabindex="-1"><a class="header-anchor" href="#关系完整性"><span>关系完整性</span></a></h3><table><thead><tr><th><strong>完整性类型</strong></th><th><strong>约束对象</strong></th><th><strong>规则内容</strong></th><th><strong>允许为空？</strong></th><th><strong>举例</strong></th></tr></thead><tbody><tr><td><strong>实体完整性</strong></td><td>主码（Primary Key）</td><td>每个关系必须有主码，且主码不能为空，且唯一</td><td>❌ <strong>不允许为空</strong></td><td>学生表中的 <code>学号</code> 是主码，不能为 <code>NULL</code>，不能重复</td></tr><tr><td><strong>参照完整性</strong></td><td>外码（Foreign Key）</td><td>外码必须引用另一个关系中的主码值，或者为空</td><td>✅ <strong>允许为空</strong>，但如不为空必须有效</td><td>成绩表中的 <code>学号</code> 是外码，必须能在学生表中找到对应 <code>学号</code></td></tr><tr><td><strong>用户自定义完整性</strong></td><td>任意属性（字段）</td><td>针对具体应用逻辑的业务规则（如取值范围、格式等）</td><td>看定义（由用户决定）</td><td>年龄必须大于 0；邮箱格式必须合法；性别只能是男/女等</td></tr></tbody></table><h2 id="sql" tabindex="-1"><a class="header-anchor" href="#sql"><span>SQL</span></a></h2><h3 id="特点" tabindex="-1"><a class="header-anchor" href="#特点"><span>特点</span></a></h3><table><thead><tr><th><strong>特点</strong></th><th><strong>说明</strong></th><th><strong>速记关键词</strong></th></tr></thead><tbody><tr><td>综合统一</td><td>集数据定义语言（DDL）、数据操纵语言（DML）、数据控制语言（DCL）于一体，支持数据库生命周期全部活动</td><td>统一、全功能</td></tr><tr><td>高度非过程化</td><td>用户只需关注“做什么”，不必关心“怎么做”，存取路径对用户透明，简化操作</td><td>非过程化、做什么</td></tr><tr><td>面向集合的操作方式</td><td>SQL操作的是数据集合，结果也是集合，而不是单条记录的处理</td><td>面向集合</td></tr><tr><td>一种语法多种使用</td><td>SQL既能独立执行，也能嵌入C、Java等宿主语言中使用</td><td>独立/嵌入</td></tr><tr><td>语言简洁易学</td><td>核心功能仅用九个动词实现，功能强大且语法简单</td><td>简洁、易用</td></tr></tbody></table><h3 id="模式操作" tabindex="-1"><a class="header-anchor" href="#模式操作"><span>模式操作</span></a></h3><table><thead><tr><th><strong>操作</strong></th><th><strong>SQL语句格式</strong></th><th><strong>说明</strong></th><th><strong>速记关键词</strong></th><th></th></tr></thead><tbody><tr><td>定义模式</td><td><code>CREATE SCHEMA &lt;模式名&gt; AUTHORIZATION &lt;用户名&gt;</code></td><td>创建一个新的模式，并指定所有者</td><td>创建模式、指定用户</td><td></td></tr><tr><td>删除模式</td><td><code>DROP SCHEMA &lt;模式名&gt; &lt;CASCADE RESTRICT&gt;</code></td><td>删除指定模式，<code>CASCADE</code>表示级联删除，<code>RESTRICT</code>表示限制删除</td><td>删除模式、级联/限制</td><td></td></tr></tbody></table><h3 id="基本表操作" tabindex="-1"><a class="header-anchor" href="#基本表操作"><span>基本表操作</span></a></h3><table><thead><tr><th><strong>操作</strong></th><th><strong>SQL语句格式</strong></th><th><strong>说明</strong></th><th><strong>速记关键词</strong></th><th></th></tr></thead><tbody><tr><td>定义基本表</td><td><code>CREATE TABLE &lt;表名&gt; (&lt;列名&gt; &lt;数据类型&gt; [完整性约束])</code></td><td>创建一个新的基本表</td><td>创建表、定义列、完整性约束</td><td></td></tr><tr><td>删除基本表</td><td><code>DROP TABLE &lt;表名&gt;</code></td><td>删除指定基本表</td><td>删除表</td><td></td></tr><tr><td>修改基本表</td><td><code>ALTER TABLE &lt;表名&gt; &lt;修改操作&gt;</code></td><td>修改指定基本表</td><td>修改表、修改列、修改约束</td><td></td></tr></tbody></table><h3 id="索引和视图操作" tabindex="-1"><a class="header-anchor" href="#索引和视图操作"><span>索引和视图操作</span></a></h3><table><thead><tr><th><strong>考点</strong></th><th><strong>操作</strong></th><th><strong>SQL语句格式</strong></th><th><strong>说明</strong></th><th><strong>速记关键词</strong></th></tr></thead><tbody><tr><td>索引操作</td><td>建立索引</td><td><code>CREATE INDEX &lt;索引名称&gt; ON &lt;表名&gt;(列名);</code></td><td>创建索引，提高查询效率</td><td>建立索引、加速查询</td></tr><tr><td>索引操作</td><td>删除索引</td><td><code>DROP INDEX &lt;索引名称&gt;;</code></td><td>删除指定索引</td><td>删除索引</td></tr><tr><td>视图操作</td><td>定义视图</td><td><code>CREATE VIEW &lt;视图名&gt; AS SELECT ...</code></td><td>创建一个视图，简化复杂查询</td><td>创建视图</td></tr><tr><td>视图操作</td><td>删除视图</td><td><code>DROP VIEW &lt;视图名&gt;;</code></td><td>删除指定视图</td><td>删除视图</td></tr><tr><td>视图操作</td><td>更新视图</td><td><code>UPDATE &lt;视图名&gt; SET ...</code></td><td>对视图的数据进行更新</td><td>更新视图</td></tr></tbody></table><h3 id="查询操作" tabindex="-1"><a class="header-anchor" href="#查询操作"><span>查询操作</span></a></h3><table><thead><tr><th><strong>SQL 关键字</strong></th><th><strong>作用说明</strong></th><th><strong>速记要点</strong></th></tr></thead><tbody><tr><td>ALL / DISTINCT</td><td>控制是否去重，DISTINCT 去除重复元组，ALL 保留重复元组，默认 ALL</td><td>默认 ALL，DISTINCT 去重</td></tr><tr><td>目标列表达式</td><td>查询的列或表达式，作为结果集的列名</td><td>每个表达式对应结果中的一</td></tr><tr><td>FROM</td><td>指定查询的数据来源，表或视图</td><td>可多表或视图查询</td></tr><tr><td>WHERE</td><td>过滤条件，只输出满足条件的记录</td><td>可省略，查询所有记录</td></tr><tr><td>GROUP BY</td><td>按某列分组，将具有相同值的行归为一组</td><td>分组字段值相同的元组归为一组</td></tr><tr><td>HAVING</td><td>对分组后的结果过滤，只输出满足条件的分组</td><td>只能与 GROUP BY 联合使用</td></tr><tr><td>ORDER BY</td><td>对结果排序，默认升序（ASC），可指定降序（DESC）</td><td>ASC 可省略，DESC 指定降序</td></tr></tbody></table><ul><li>聚合函数：COUNT、SUM、AVG、MAX、MIN 后面不可以加 <code>WHERE</code> 子句</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 错误写法，聚合函数后不能直接用 WHERE</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GROUP BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- 正确写法，用 HAVING 过滤聚合结果</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GROUP BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- group by 后面可以不加having</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">HAVING</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- having后面不一定非得用聚合函数，但大多数情况下是用来过滤聚合结果的</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="更新操作" tabindex="-1"><a class="header-anchor" href="#更新操作"><span>更新操作</span></a></h3><table><thead><tr><th>内容</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td>插入数据 (INSERT)</td><td><code>INSERT INTO &lt;表名&gt; [(属性列表)] VALUES (常量列表);</code><br>必须为 NOT NULL 且无默认值列赋值。字符串和日期用单引号括起。</td><td><code>INSERT INTO Student (id, name) VALUES (1, &#39;张三&#39;);</code></td></tr><tr><td>修改数据 (UPDATE)</td><td><code>UPDATE &lt;表名&gt; SET 列名=表达式 [, 列名=表达式 ...] [WHERE 条件];</code><br>无 WHERE 则更新全表。</td><td><code>UPDATE Student SET age=20 WHERE id=1;</code></td></tr><tr><td>删除数据 (DELETE)</td><td><code>DELETE FROM &lt;表名&gt; [WHERE 条件];</code><br>无 WHERE 则删除所有记录但保留表结构。</td><td><code>DELETE FROM Student WHERE age&lt;18;</code></td></tr></tbody></table><h3 id="查询条件" tabindex="-1"><a class="header-anchor" href="#查询条件"><span>查询条件</span></a></h3><table><thead><tr><th>内容说明</th><th>说明示例</th></tr></thead><tbody><tr><td>比较大小：=、&gt;、&lt;、&gt;=、&lt;=、!=（&lt;&gt;）、!&gt;、!&lt;</td><td><code>age &gt;= 18</code></td></tr><tr><td>确定范围：BETWEEN…AND… 和 NOT BETWEEN…AND…</td><td><code>salary BETWEEN 3000 AND 6000</code></td></tr><tr><td>确定集合：IN</td><td><code>department IN (&#39;IT&#39;,&#39;HR&#39;)</code></td></tr><tr><td>字符匹配：LIKE 用于模糊匹配，支持通配符 <code>%</code> 和 <code>_</code></td><td><code>name LIKE &#39;J%&#39;</code></td></tr><tr><td>涉及空值查询：用 IS NULL 或 IS NOT NULL 查询空值</td><td><code>address IS NULL</code></td></tr><tr><td>多重条件：用 AND、OR 连接，AND 优先级高，括号改变优先级</td><td><code>(age &gt; 20 AND city=&#39;NY&#39;) OR salary &gt; 5000</code></td></tr></tbody></table><h2 id="安全性" tabindex="-1"><a class="header-anchor" href="#安全性"><span>安全性</span></a></h2><h3 id="安全级别标准" tabindex="-1"><a class="header-anchor" href="#安全级别标准"><span>安全级别标准</span></a></h3><table><thead><tr><th>级别</th><th>说明</th></tr></thead><tbody><tr><td>D级</td><td>最低级别，未满足更高级别安全要求。</td></tr><tr><td>C1级</td><td>提供基本的自主安全保护（DAC），实现用户和数据分离，限制权限传播。</td></tr><tr><td>C2级</td><td>最低档安全产品，支持用户身份注册、审计和资源隔离，细化DAC控制。</td></tr><tr><td>B1级</td><td>标记安全保护，数据加标记，对主体和客体执行强制访问控制（MAC）和审计。</td></tr><tr><td>B2级</td><td>结构化保护，形式化安全策略，所有主体和客体均受DAC和MAC控制。</td></tr><tr><td>B3级</td><td>安全域，满足访问监控器要求，增强审计和系统恢复能力。</td></tr><tr><td>A1级</td><td>验证设计，在B3基础上提供系统的形式化设计说明和验证，确保安全措施真正实施。</td></tr></tbody></table><h3 id="安全机制" tabindex="-1"><a class="header-anchor" href="#安全机制"><span>安全机制</span></a></h3><table><thead><tr><th>安全机制</th><th>说明</th></tr></thead><tbody><tr><td>用户标识与鉴别</td><td>确认用户身份，如用户名、密码、生物识别等，防止冒用。</td></tr><tr><td>存取控制</td><td>控制用户对数据库对象的访问权限，限制非法访问。</td></tr><tr><td>授权与回收</td><td>给用户分配权限（授权），并在不需要时撤销权限（回收）。</td></tr><tr><td>视图机制</td><td>通过视图限制用户只能看到特定的数据，达到数据隔离和安全。</td></tr><tr><td>审计</td><td>记录数据库访问和操作日志，用于事后安全分析和责任追踪。</td></tr><tr><td>数据加密</td><td>对数据库中存储或传输的数据进行加密，保护数据机密性。</td></tr></tbody></table><h4 id="用户标识与鉴别" tabindex="-1"><a class="header-anchor" href="#用户标识与鉴别"><span>用户标识与鉴别</span></a></h4><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>用户标识</td><td>通过用户名或用户标识号表示身份，系统核对合法性，决定是否允许访问。</td></tr><tr><td>口令</td><td>用户输入密码进行身份验证，输入时屏幕不显示，保护口令安全。</td></tr><tr><td>利用个人特征</td><td>通过生物特征识别验证身份，如指纹识别、面部识别等。</td></tr><tr><td>智能卡</td><td>使用带有微处理器和存储的智能卡作为身份验证工具，安全可靠。</td></tr></tbody></table><h3 id="授权和回收" tabindex="-1"><a class="header-anchor" href="#授权和回收"><span>授权和回收</span></a></h3><h4 id="授权示例" tabindex="-1"><a class="header-anchor" href="#授权示例"><span>授权示例</span></a></h4><p><strong>例子 1：给用户 <code>alice</code> 授予对表 <code>employees</code> 的查询权限</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> alice;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>例子 2：给用户 <code>bob</code> 授予对数据库 <code>sales_db</code> 中多个表的插入和更新权限</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bob;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customers </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bob;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>例子 3：给所有用户（PUBLIC）授予对视图 <code>public_view</code> 的查询权限</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> VIEW public_view </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PUBLIC;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>例子 4：给用户 <code>charlie</code> 授予权限并允许他将权限继续授权给其他人</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GRANT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> products </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> charlie </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WITH</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> GRANT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> OPTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="收回权限示例" tabindex="-1"><a class="header-anchor" href="#收回权限示例"><span>收回权限示例</span></a></h4><p><strong>例子 1：收回用户 <code>alice</code> 对表 <code>employees</code> 的查询权限</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REVOKE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> alice;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>例子 2：收回用户 <code>bob</code> 对表 <code>orders</code> 和 <code>customers</code> 的插入和更新权限</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REVOKE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bob;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REVOKE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INSERT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customers </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> bob;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>例子 3：收回所有用户对视图 <code>public_view</code> 的查询权限</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REVOKE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> VIEW public_view </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PUBLIC;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>例子 4：级联收回权限（例如收回 <code>charlie</code> 权限，并自动收回他授权给他人的权限）</strong></p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REVOKE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> products </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> charlie CASCADE;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="数据库角色" tabindex="-1"><a class="header-anchor" href="#数据库角色"><span>数据库角色</span></a></h3><table><thead><tr><th>考点</th><th>内容</th><th>SQL 语句示例</th><th>说明</th></tr></thead><tbody><tr><td>角色创建</td><td>创建一个空角色</td><td><code>CREATE ROLE role_name;</code></td><td>角色刚创建时没有任何权限</td></tr><tr><td>给角色授权</td><td>给角色授予权限</td><td><code>GRANT SELECT, INSERT ON TABLE employees TO role_name;</code></td><td>数据库管理员或用户授予角色权限</td></tr><tr><td>角色赋予</td><td>将一个角色授予用户或其他角色</td><td><code>GRANT role1 TO role2;</code><br><code>GRANT role_name TO user_name WITH ADMIN OPTION;</code></td><td>角色继承权限，<code>WITH ADMIN OPTION</code>可授权再授予权限</td></tr><tr><td>收回角色权限</td><td>收回角色的权限</td><td><code>REVOKE SELECT ON TABLE employees FROM role_name;</code></td><td>由角色创建者或拥有ADMIN OPTION的用户执行</td></tr></tbody></table><h2 id="关系数据查询与优化" tabindex="-1"><a class="header-anchor" href="#关系数据查询与优化"><span>关系数据查询与优化</span></a></h2><h3 id="一般步骤" tabindex="-1"><a class="header-anchor" href="#一般步骤"><span>一般步骤</span></a></h3><table><thead><tr><th>步骤</th><th>说明</th></tr></thead><tbody><tr><td>1</td><td>把查询转换成某种内部表示，通常用的关系数据库</td></tr><tr><td>2</td><td>把语法树转换成标准（优化）形式</td></tr><tr><td>3</td><td>选择低层的存取路径</td></tr><tr><td>4</td><td>生成查询计划，选择代价最小的</td></tr></tbody></table><h3 id="规范化" tabindex="-1"><a class="header-anchor" href="#规范化"><span>规范化</span></a></h3><h4 id="解决的问题" tabindex="-1"><a class="header-anchor" href="#解决的问题"><span>解决的问题</span></a></h4><ul><li>数据冗余：多余存在的数据</li><li>插入异常：应能插入的数据不能插入</li><li>删除异常：不应该删除的数据被删除</li><li>修改异常：造成数据不一致的现象</li></ul><h4 id="规范化理论" tabindex="-1"><a class="header-anchor" href="#规范化理论"><span>规范化理论</span></a></h4><table><thead><tr><th>范式</th><th>主要要求</th><th>解决问题</th><th>例子说明</th></tr></thead><tbody><tr><td><strong>第一范式 (1NF)</strong></td><td>属性值都是原子值，不可再分</td><td>数据项必须原子化，避免嵌套结构</td><td>学生表中“爱好”不能写成“篮球,足球”，而要拆成多行或单独字段保存</td></tr><tr><td><strong>第二范式 (2NF)</strong></td><td>满足1NF，且非主属性完全函数依赖于主码</td><td>消除部分函数依赖，解决数据冗余和插入异常</td><td>学生成绩表：主键(学号,课程号)，成绩属性依赖于两个字段，学生姓名只依赖学号，拆成学生表和成绩表</td></tr><tr><td><strong>第三范式 (3NF)</strong></td><td>满足2NF，消除非主属性对主码的传递函数依赖</td><td>消除传递依赖，避免数据更新异常</td><td>员工表有部门号、部门名称，部门名称依赖部门号，拆成员工表和部门表</td></tr><tr><td><strong>BCNF</strong></td><td>关系中所有决定因素都是候选码，消除主属性对主码的部分与传递依赖</td><td>解决特殊依赖问题</td><td>表中候选键有多个，且存在决定非候选键的非候选键的情况，需要拆分</td></tr><tr><td><strong>第四范式 (4NF)</strong></td><td>消除多值依赖，即一个属性集多值依赖于主键，不允许出现多对多多值依赖</td><td>解决多值依赖导致的冗余</td><td>学生-课程-兴趣三元关系，一个学生可能选多门课程，也可能有多种兴趣，拆成学生-课程表和学生-兴趣表</td></tr><tr><td><strong>第五范式 (5NF)</strong></td><td>每个连接依赖都是由候选码决定的，消除连接依赖，保证无冗余</td><td>解决复杂的连接依赖导致数据冗余</td><td>订单中商品、供应商、客户三者相关关系，拆分为三个表，保证恢复原始数据需要连接三张表</td></tr></tbody></table><h4 id="_1nf-例子" tabindex="-1"><a class="header-anchor" href="#_1nf-例子"><span>1NF 例子</span></a></h4><table><thead><tr><th>学号</th><th>姓名</th><th>爱好</th><th></th></tr></thead><tbody><tr><td>001</td><td>张三</td><td>篮球,足球</td><td>← 不符合1NF，爱好不是原子值</td></tr></tbody></table><p>改成：</p><table><thead><tr><th>学号</th><th>姓名</th><th>爱好</th><th></th></tr></thead><tbody><tr><td>001</td><td>张三</td><td>篮球</td><td></td></tr><tr><td>001</td><td>张三</td><td>足球</td><td>← 符合1NF</td></tr></tbody></table><h4 id="_2nf-例子" tabindex="-1"><a class="header-anchor" href="#_2nf-例子"><span>2NF 例子</span></a></h4><p>假设成绩表：</p><table><thead><tr><th>学号</th><th>课程号</th><th>学生姓名</th><th>成绩</th></tr></thead><tbody><tr><td>001</td><td>01</td><td>张三</td><td>90</td></tr></tbody></table><p>主键是(学号,课程号)，学生姓名只依赖学号，存在部分依赖，违反2NF。</p><p>拆分为：</p><p>学生表：</p><table><thead><tr><th>学号</th><th>学生姓名</th></tr></thead><tbody><tr><td>001</td><td>张三</td></tr></tbody></table><p>成绩表：</p><table><thead><tr><th>学号</th><th>课程号</th><th>成绩</th></tr></thead><tbody><tr><td>001</td><td>01</td><td>90</td></tr></tbody></table><h4 id="_3nf-例子" tabindex="-1"><a class="header-anchor" href="#_3nf-例子"><span>3NF 例子</span></a></h4><p>员工表：</p><table><thead><tr><th>员工号</th><th>员工名</th><th>部门号</th><th>部门名称</th></tr></thead><tbody><tr><td>1001</td><td>李四</td><td>D01</td><td>财务部</td></tr></tbody></table><p>部门名称依赖部门号，部门号依赖员工号，传递依赖。拆分为：</p><p>员工表：</p><table><thead><tr><th>员工号</th><th>员工名</th><th>部门号</th></tr></thead><tbody><tr><td>1001</td><td>李四</td><td>D01</td></tr></tbody></table><p>部门表：</p><table><thead><tr><th>部门号</th><th>部门名称</th></tr></thead><tbody><tr><td>D01</td><td>财务部</td></tr></tbody></table><h4 id="bcnf-例子" tabindex="-1"><a class="header-anchor" href="#bcnf-例子"><span>BCNF 例子</span></a></h4><p>假设表：</p><table><thead><tr><th>学生</th><th>课程</th><th>教师</th></tr></thead><tbody><tr><td>张三</td><td>数学</td><td>王老师</td></tr><tr><td>张三</td><td>语文</td><td>李老师</td></tr></tbody></table><p>假设约束：</p><ul><li>学生 + 课程 决定教师（一个学生一个课程对应一个教师）</li><li>教师 决定课程（一个教师只教一门课）</li></ul><p>这里“教师→课程”不是候选码，违反BCNF，需要拆分。</p><p>拆分为：</p><table><thead><tr><th>教师</th><th>课程</th></tr></thead><tbody><tr><td>王老师</td><td>数学</td></tr><tr><td>李老师</td><td>语文</td></tr></tbody></table><p>和</p><table><thead><tr><th>学生</th><th>教师</th></tr></thead><tbody><tr><td>张三</td><td>王老师</td></tr><tr><td>张三</td><td>李老师</td></tr></tbody></table><h4 id="_4nf-例子" tabindex="-1"><a class="header-anchor" href="#_4nf-例子"><span>4NF 例子</span></a></h4><p>学生-课程-兴趣：</p><table><thead><tr><th>学生</th><th>课程</th><th>兴趣</th></tr></thead><tbody><tr><td>张三</td><td>数学</td><td>足球</td></tr><tr><td>张三</td><td>数学</td><td>篮球</td></tr><tr><td>张三</td><td>语文</td><td>足球</td></tr><tr><td>张三</td><td>语文</td><td>篮球</td></tr></tbody></table><p>兴趣和课程无直接关联，存在多值依赖。拆分为两张表：</p><p>学生-课程：</p><table><thead><tr><th>学生</th><th>课程</th></tr></thead><tbody><tr><td>张三</td><td>数学</td></tr><tr><td>张三</td><td>语文</td></tr></tbody></table><p>学生-兴趣：</p><table><thead><tr><th>学生</th><th>兴趣</th></tr></thead><tbody><tr><td>张三</td><td>足球</td></tr><tr><td>张三</td><td>篮球</td></tr></tbody></table><h4 id="_5nf-例子" tabindex="-1"><a class="header-anchor" href="#_5nf-例子"><span>5NF 例子</span></a></h4><p>订单系统中有3个属性：</p><table><thead><tr><th>订单号</th><th>商品</th><th>供应商</th></tr></thead><tbody><tr><td>001</td><td>A</td><td>X</td></tr><tr><td>001</td><td>B</td><td>X</td></tr><tr><td>001</td><td>A</td><td>Y</td></tr></tbody></table><p>商品供应商和订单之间有连接依赖。5NF保证这张表可以被拆分成更细的表，通过连接能完全恢复原始数据，且无冗余。</p><p>拆分为：</p><p>订单-商品：</p><table><thead><tr><th>订单号</th><th>商品</th></tr></thead><tbody><tr><td>001</td><td>A</td></tr><tr><td>001</td><td>B</td></tr></tbody></table><p>订单-供应商：</p><table><thead><tr><th>订单号</th><th>供应商</th></tr></thead><tbody><tr><td>001</td><td>X</td></tr></tbody></table><p>商品-供应商：</p><table><thead><tr><th>商品</th><th>供应商</th></tr></thead><tbody><tr><td>A</td><td>X</td></tr><tr><td>A</td><td>Y</td></tr></tbody></table><h2 id="数据库设计" tabindex="-1"><a class="header-anchor" href="#数据库设计"><span>数据库设计</span></a></h2><h3 id="设计方法" tabindex="-1"><a class="header-anchor" href="#设计方法"><span>设计方法</span></a></h3><table><thead><tr><th>设计方法</th><th>主要内容与特点</th></tr></thead><tbody><tr><td><strong>新奥尔良设计方法</strong></td><td>- 将数据库设计分成四大阶段：需求分析、概念设计、逻辑设计、物理设计。<br>- 每阶段采用与阶段相符的辅助手段。<br>- 属于规范化的设计流程。</td></tr><tr><td><strong>基于 E-R 模型的数据库设计方法</strong></td><td>- 主要用于概念设计阶段。<br>- 通过构建实体-联系图（E-R图）描述数据库的结构和联系。<br>- 广泛采用的设计方法。</td></tr><tr><td><strong>第三范式的设计方法</strong></td><td>- 依据关系数据库的规范化理论。<br>- 在逻辑设计阶段采用，确保关系满足第三范式，减少冗余和异常。</td></tr><tr><td><strong>ODL（对象定义语言）方法</strong></td><td>- 面向对象的数据库设计方法。<br>- 用面向对象的术语和概念描述数据库结构。</td></tr></tbody></table><h3 id="设计策略" tabindex="-1"><a class="header-anchor" href="#设计策略"><span>设计策略</span></a></h3><table><thead><tr><th>策略名称</th><th>主要内容</th></tr></thead><tbody><tr><td><strong>自顶向下设计策略</strong></td><td>- 从一般到特殊的开发方式。<br>- 从企业高层管理开始，分析企业的目标、对象和策略，构建抽象的高层数据模型。<br>- 逐步细化模型，直到识别出具体数据库和应用。</td></tr><tr><td><strong>自底向上设计策略</strong></td><td>- 逆向于自顶向下，从细节到整体。<br>- 从基层业务和数据处理开始分析设计。<br>- 将各个系统综合集中，再分析设计上一层系统，直到构建完整的信息系统。</td></tr></tbody></table><h3 id="设计步骤" tabindex="-1"><a class="header-anchor" href="#设计步骤"><span>设计步骤</span></a></h3><table><thead><tr><th>阶段</th><th>内容说明</th></tr></thead><tbody><tr><td><strong>需求分析</strong></td><td>- 准确了解和分析用户需求（数据和处理）。<br>- 是设计的基础且最困难耗时。<br>- 需求分析不足会导致设计返工。</td></tr><tr><td><strong>概念结构设计</strong></td><td>- 通过综合、归纳、抽象用户需求，形成与具体DBMS无关的概念模型（如E-R模型）。</td></tr><tr><td><strong>逻辑结构设计</strong></td><td>- 将概念结构转换成具体DBMS支持的数据模型（关系模型等），并对模型进行优化。</td></tr><tr><td><strong>物理结构设计</strong></td><td>- 根据应用环境选择适合的存储结构和存取方法，实现逻辑模型的物理存储。</td></tr><tr><td><strong>数据库实施</strong></td><td>- 利用DBMS语言和宿主语言建立数据库、编写调试程序、组织数据导入、进行试运行。</td></tr><tr><td><strong>系统运行与维护</strong></td><td>- 应用系统试运行后正式运行。<br>- 在运行过程中持续评估、调整和修改。<br>- 设计过程是不断反复完善的过程。</td></tr></tbody></table><h3 id="dba-数据库管理员-database-administrator-工作内容" tabindex="-1"><a class="header-anchor" href="#dba-数据库管理员-database-administrator-工作内容"><span>DBA（数据库管理员 Database Administrator）工作内容</span></a></h3><table><thead><tr><th>DBA 工作内容</th><th>具体说明</th></tr></thead><tbody><tr><td><strong>数据库的转储和恢复</strong></td><td>- 制定转储计划，保障故障发生时能快速恢复数据库至一致状态。<br>- 尽量减少对数据库的破坏。</td></tr><tr><td><strong>数据库的安全性与完整性控制</strong></td><td>- 根据实际需求调整安全控制，如数据密级变化、用户权限变动。<br>- 修改和维护数据库完整性约束，保证数据有效。</td></tr><tr><td><strong>数据库性能监督、分析与改造</strong></td><td>- 利用 DBMS 提供的性能检测工具监控系统。<br>- 分析性能数据，判断是否需要优化，如调整物理参数、重组织数据库。</td></tr><tr><td><strong>数据库重组织与重构造</strong></td><td>- 随着数据库运行，数据增删改导致存储碎片和性能下降。<br>- DBA进行重组织或部分重组织提升存储效率和访问性能。</td></tr></tbody></table><h3 id="er图的冲突" tabindex="-1"><a class="header-anchor" href="#er图的冲突"><span>ER图的冲突</span></a></h3><table><thead><tr><th>冲突类型</th><th>具体内容</th><th>解决思路（简述）</th></tr></thead><tbody><tr><td><strong>属性冲突</strong></td><td>- 属性域冲突：同一属性在不同系统中类型、取值范围或集合不同（如零件号整数vs字符型，年龄整数vs出生日期）。<br>- 属性取值单位冲突：同一属性单位不同（如重量有公斤、斤、克等）。</td><td>统一属性类型、定义标准单位与格式</td></tr><tr><td><strong>命名冲突</strong></td><td>- 同名异义：不同含义的对象却用同一名字。<br>- 异名同义：同一对象在不同系统中名字不一样。</td><td>统一命名规范，建立映射关系</td></tr><tr><td><strong>结构冲突</strong></td><td>- 同一对象在不同系统抽象不同。<br>- 同一实体的属性个数、属性顺序不同。</td><td>属性并集，调整属性次序，形成统一结构</td></tr></tbody></table><h2 id="数据库恢复技术" tabindex="-1"><a class="header-anchor" href="#数据库恢复技术"><span>数据库恢复技术</span></a></h2><ul><li>Begin Transaction 开始事务</li><li>Commit 提交事务</li><li>Rollback 回滚事务</li></ul><h3 id="事务" tabindex="-1"><a class="header-anchor" href="#事务"><span>事务</span></a></h3><table><thead><tr><th>考点</th><th>内容</th><th>速记点</th></tr></thead><tbody><tr><td><strong>事务的 ACID 性质</strong></td><td>事务应满足4个基本性质：原子性、一致性、隔离性、持续性（持久性）</td><td>1. <strong>原子性</strong>：事务中的操作要么全部完成，要么全部不做<br>2. <strong>一致性</strong>：事务执行后数据库从一个一致状态转到另一个一致状态<br>3. <strong>隔离性</strong>：事务执行过程不被其他事务干扰，各事务相互隔离<br>4. <strong>持续性</strong>：事务一旦提交，对数据库的改变永久保存，后续故障不影响</td></tr><tr><td><strong>事务的 ACID 实现过程</strong></td><td>事务4性质由数据库管理系统（DBMS）的不同子系统保证</td><td>1. 原子性由事务管理子系统实现<br>2. 一致性由完整性子系统实现<br>3. 隔离性由并发控制子系统实现<br>4. 持续性由恢复管理子系统实现</td></tr></tbody></table><h3 id="故障和恢复技术" tabindex="-1"><a class="header-anchor" href="#故障和恢复技术"><span>故障和恢复技术</span></a></h3><table><thead><tr><th>类别</th><th>故障描述</th><th>恢复关键机制</th><th>关键操作速记</th></tr></thead><tbody><tr><td>🔸事务故障</td><td>程序主动/被动终止、断电崩溃</td><td>UNDO 撤销事务</td><td>反向扫描日志，执行逆操作（写入“更新前的值”）</td></tr><tr><td>🔹系统故障</td><td>系统崩溃、断电等，内存数据丢失</td><td>UNDO + REDO</td><td>1. 正向日志：找 UNDO/REDO 队列<br>2. UNDO：反向写入旧值<br>3. REDO：正向写入新值</td></tr><tr><td>🔺介质故障</td><td>磁盘损坏、数据和日志文件同时丢失（最严重）</td><td>备份 + REDO</td><td>1. 装入最近一次转储（备份）<br>2. 装入日志副本<br>3. 扫描日志重做已提交事务</td></tr></tbody></table><h4 id="事务故障恢复" tabindex="-1"><a class="header-anchor" href="#事务故障恢复"><span>事务故障恢复</span></a></h4><table><thead><tr><th>分类</th><th>内容</th></tr></thead><tbody><tr><td>🔹 <strong>速记点 1</strong></td><td><strong>事务故障</strong>：事务未执行完就中止，需<strong>撤销其已对数据库的修改</strong>，称为 UNDO。</td></tr><tr><td>📂 <strong>日志处理步骤</strong></td><td>恢复子系统通过<strong>反向扫描日志</strong>，恢复被中断事务的执行前状态。</td></tr><tr><td>步骤一（1）</td><td><strong>反向扫描日志文件</strong>（从后往前）查找该事务的更新操作。</td></tr><tr><td>步骤二（2）</td><td>对每条更新记录执行<strong>逆操作</strong>（UNDO）：</td></tr><tr><td></td><td>- 插入操作 → 执行删除（原值为空）<br> - 删除操作 → 执行插入<br> - 修改操作 → 用旧值覆盖新值</td></tr><tr><td>步骤三（3）</td><td>继续反向扫描，查找该事务的其他更新操作，并同样执行 UNDO。</td></tr><tr><td>步骤四（4）</td><td>一直处理到遇到该事务的<strong>开始标记</strong>，此时恢复结束。</td></tr><tr><td>💡 说明</td><td>过程由系统自动完成，对用户透明，<strong>无需人工干预</strong>。</td></tr></tbody></table><h4 id="系统故障恢复" tabindex="-1"><a class="header-anchor" href="#系统故障恢复"><span>系统故障恢复</span></a></h4><table><thead><tr><th>分类</th><th>内容</th></tr></thead><tbody><tr><td>🔹 <strong>速记点 2</strong></td><td><strong>系统故障</strong>：如断电/系统崩溃，需根据日志<strong>撤销未完成事务（UNDO）</strong>，<strong>重做已提交事务（REDO）</strong>。</td></tr><tr><td>📂 <strong>日志处理步骤</strong></td><td>通过<strong>日志扫描</strong>识别哪些事务要撤销，哪些事务要重做。</td></tr><tr><td>步骤一（1）</td><td><strong>正向扫描日志</strong>：</td></tr><tr><td></td><td>- 找出已提交事务（有 BEGIN 和 COMMIT）→ 加入 <strong>REDO-LIST</strong></td></tr><tr><td></td><td>- 找出未完成事务（只有 BEGIN 无 COMMIT）→ 加入 <strong>UNDO-LIST</strong></td></tr><tr><td>步骤二（2）</td><td><strong>对 UNDO-LIST 执行撤销操作（UNDO）</strong>：</td></tr><tr><td></td><td>- <strong>反向扫描日志</strong>，每条更新操作执行逆操作（写入旧值）</td></tr><tr><td>步骤三（3）</td><td><strong>对 REDO-LIST 执行重做操作（REDO）</strong>：</td></tr><tr><td></td><td>- <strong>正向扫描日志</strong>，每条更新操作重新执行（写入新值）</td></tr><tr><td>💡 说明</td><td>UNDO 撤销未完成事务，REDO 重做已提交事务；该过程由系统自动执行，对用户透明。</td></tr></tbody></table><h4 id="介质故障恢复" tabindex="-1"><a class="header-anchor" href="#介质故障恢复"><span>介质故障恢复</span></a></h4><ul><li>恢复方法是重装数据库，然后重做已完成的事务</li></ul><table><thead><tr><th>步骤</th><th>内容</th></tr></thead><tbody><tr><td>1️⃣</td><td><strong>装入数据库最近一次的备份副本</strong>（即最近一次转储），恢复到<strong>转储时刻的一致状态</strong></td></tr><tr><td>2️⃣</td><td><strong>装入转储结束时刻的日志文件副本</strong>，扫描找出已提交事务，加入 <strong>REDO-LIST</strong></td></tr><tr><td>3️⃣</td><td><strong>正向扫描日志</strong>，对 REDO-LIST 中事务执行重做（写入更新后的值），恢复到最近一致状态</td></tr></tbody></table><h3 id="数据库镜像" tabindex="-1"><a class="header-anchor" href="#数据库镜像"><span>数据库镜像</span></a></h3><ul><li>出现介质故障，可由镜像磁盘继续提供使用，同时数据库管理系统自动利用镜像磁盘数据进行数据库的恢复，不需要关闭系统和重装数据库副本</li><li>可以用于并发操作，即当一个用户对数据加排他锁修改数据时，其他用户可以读镜像数据库上的数据，而不必等待该用户释放锁</li></ul><h2 id="并发控制" tabindex="-1"><a class="header-anchor" href="#并发控制"><span>并发控制</span></a></h2><h3 id="并发问题" tabindex="-1"><a class="header-anchor" href="#并发问题"><span>并发问题</span></a></h3><table><thead><tr><th>异常类型</th><th>描述速记</th><th>举例简要说明</th><th>事务隔离级别影响</th></tr></thead><tbody><tr><td>🔸丢失修改（Lost Update）</td><td>两个事务<strong>同时修改</strong>同一数据，一个事务的修改被另一个覆盖</td><td>T1 和 T2 都修改余额，T2 提交覆盖 T1 的更新</td><td><strong>读已提交</strong>即可避免</td></tr><tr><td>🔹读脏数据（Dirty Read）</td><td>一个事务读取到<strong>另一个事务尚未提交的数据</strong>，但后者回滚导致读到“脏”内容</td><td>T1 修改余额但未提交，T2 读取该余额，T1 回滚 → T2读的是脏数据</td><td><strong>读已提交</strong>可避免</td></tr><tr><td>🔺不可重复读（Non-repeatable Read）</td><td>一个事务两次读取同一数据，<strong>中间被其他事务修改并提交</strong>，两次读结果不同</td><td>T1 先读余额，T2 修改并提交，T1 再读余额发现变了</td><td><strong>可重复读</strong>可避免</td></tr><tr><td>🔻幻读（Phantom Read）*</td><td>一个事务两次查询满足某条件的多行记录，<strong>中间有事务新增/删除满足条件的记录</strong></td><td>T1 查找工资 &gt;5000 的人，T2 插入一个新员工工资 6000，T1 再查数量变化</td><td><strong>可串行化</strong>才完全避免</td></tr></tbody></table><h3 id="三级封锁协议" tabindex="-1"><a class="header-anchor" href="#三级封锁协议"><span>三级封锁协议</span></a></h3><table><thead><tr><th>封锁协议级别</th><th>加锁要求</th><th>解决的问题</th><th>仍然存在的问题</th></tr></thead><tbody><tr><td>🔹一级封锁协议</td><td>对<strong>修改的数据</strong>加 <strong>X 锁（排他锁）</strong>，<strong>直到事务结束才释放</strong></td><td>✅防止丢失修改（Lost Update）</td><td>❌可能读脏数据，❌不可重复读</td></tr><tr><td>🔸二级封锁协议</td><td>在一级基础上，<strong>对读取的数据加 S 锁（共享锁）</strong>，<strong>读完立即释放</strong></td><td>✅防止丢失修改，✅防止读脏数据</td><td>❌不可重复读仍存在</td></tr><tr><td>🔺三级封锁协议</td><td>在二级基础上，<strong>S/X 锁直到事务结束才释放</strong></td><td>✅防止丢失修改，✅防止读脏数据，✅可重复读</td><td>✅实现可重复读，无幻读保障</td></tr></tbody></table><h3 id="_2pl-两阶段封锁" tabindex="-1"><a class="header-anchor" href="#_2pl-两阶段封锁"><span>2PL（两阶段封锁）</span></a></h3><table><thead><tr><th>阶段</th><th>内容</th></tr></thead><tbody><tr><td>第一阶段</td><td>加锁阶段：事务可以获得锁，但不能释放锁。</td></tr><tr><td>第二阶段</td><td>解锁阶段：事务可以释放锁，但不能获得新锁。</td></tr><tr><td>说明</td><td>两阶段封锁协议可以解决丢失修改、读脏数据、不可重复读的问题。</td></tr></tbody></table><h4 id="_2pl-类型" tabindex="-1"><a class="header-anchor" href="#_2pl-类型"><span>2PL 类型</span></a></h4><table><thead><tr><th>类型</th><th>是否可串行化</th><th>是否避免死锁</th><th>说明</th></tr></thead><tbody><tr><td><strong>基本两级封锁协议</strong></td><td>✅</td><td>❌</td><td>标准2PL，存在死锁风险</td></tr><tr><td><strong>严格两级封锁协议</strong></td><td>✅</td><td>❌</td><td>所有<strong>X锁</strong>直到事务结束才释放</td></tr><tr><td><strong>强两级封锁协议</strong></td><td>✅</td><td>❌</td><td><strong>S锁/X锁</strong>都直到事务结束才释放</td></tr><tr><td><strong>保守（静态）2PL</strong></td><td>✅</td><td>✅</td><td>开始前一次性申请所有锁，避免死锁</td></tr></tbody></table><h3 id="活锁和死锁" tabindex="-1"><a class="header-anchor" href="#活锁和死锁"><span>活锁和死锁</span></a></h3><table><thead><tr><th>问题类型</th><th>定义</th><th>表现特征</th><th>示例</th><th>解决方法</th></tr></thead><tbody><tr><td><strong>活锁</strong>（Livelock）</td><td>事务不断尝试执行但始终无法完成</td><td>一直请求资源、<strong>未被阻塞</strong>，但始终<strong>让给其他事务</strong></td><td>T1释放锁后系统把锁给T3，T2始终请求不到</td><td>✅ 先来先服务（FIFO）<br>✅ 公平调度策略<br>✅ 引入随机等待或优先级</td></tr><tr><td><strong>死锁</strong>（Deadlock）</td><td>事务<strong>相互等待对方资源</strong>，形成循环依赖</td><td>所有事务都<strong>被阻塞</strong>，永远无法继续</td><td>T1锁A → 请求B<br>T2锁B → 请求A</td><td>✅ 超时机制<br>✅ 资源一次性申请（预占）<br>✅ 死锁检测与恢复</td></tr></tbody></table><h3 id="死锁预防和解除" tabindex="-1"><a class="header-anchor" href="#死锁预防和解除"><span>死锁预防和解除</span></a></h3><table><thead><tr><th>分类</th><th>名称</th><th>核心原理</th><th>示例 / 特点</th><th>优缺点</th></tr></thead><tbody><tr><td>🔒 <strong>死锁预防</strong></td><td><strong>一次封锁法</strong></td><td>事务一次性加锁所有资源，否则不能执行</td><td>T1 启动时就加锁 R1、R2，防止后续等待</td><td>✅ 简单<br>❌ 不灵活、资源利用率低</td></tr><tr><td>🔒</td><td><strong>顺序封锁法</strong></td><td>所有事务按<strong>统一顺序</strong>加锁，避免循环等待</td><td>在B树中按从上到下顺序加锁</td><td>✅ 易实现<br>❌ 编码复杂、数据结构相关</td></tr><tr><td>🚨 <strong>死锁诊断</strong></td><td><strong>超时法</strong></td><td>等待超时即认为死锁</td><td>T2 等待超时，系统中止T2</td><td>✅ 实现简单<br>❌ 易误判或延迟处理</td></tr><tr><td>🚨</td><td><strong>事务等待图（Wait-for Graph）</strong></td><td>构图找<strong>是否有回路</strong> → 有则死锁</td><td>T1→T2→T3→T1 构成环路表示死锁</td><td>✅ 精确检测<br>❌ 算法复杂，需周期检测</td></tr></tbody></table></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/Crc011220/Crc011220.github.io/edit/main/src/zh/posts/review/数据库.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/7/22 05:15:20</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: ruocchen1220@gmail.com">Ruochen Chen</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/zh/posts/review/%E6%95%B0%E5%AD%A6.html" aria-label="数学"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>数学</div></a><a class="route-link auto-link next" href="/zh/posts/review/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" aria-label="数据结构"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">数据结构<span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">学海无涯</div><div class="vp-copyright">Copyright © 2025 Ruochen Chen </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.2ca89e3a.js" defer></script><script src="/assets/js/6312.2d95f1ad.js" defer></script><script src="/assets/js/app.c74704cc.js" defer></script>
  </body>
</html>
